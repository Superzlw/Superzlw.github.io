<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Summary â€” â€œCaDIS - Cataract Dataset for Image Segmentationâ€</title>
    <url>/posts/37.html</url>
    <content><![CDATA[<h1 id="introduction">Introduction</h1>
<p>This blog post is a summary of a dataset with information that may be useful in current projects. And the paper is:</p>
<p><a href="https://arxiv.org/pdf/1906.11586.pdf">CaDIS: Cataract Dataset for Image Segmentation</a></p>
<span id="more"></span>
<p>This blog contains the following contents:</p>
<ul>
<li><p>Dataset</p></li>
<li><p>Experiments</p></li>
<li><p>Problems of this dataset</p></li>
</ul>
<p><strong>Note: This blog represents only the <code>Information extraction</code>.</strong></p>
<h1 id="dataset">Dataset</h1>
<h2 id="annotation-process">Annotation process</h2>
<p>Some points to note in the annotation:</p>
<ul>
<li><p>The number of pixels for each class is greater than 50;</p></li>
<li><p>Annotation errors may originate from: blurred boundaries caused by motion. In addition, specular reflections may also lead to inaccurate boundary delineation, especially for the instrument tips when they are inside the anatomy.</p></li>
</ul>
<h2 id="dataset-statistics">Dataset statistics</h2>
<p>The dataset includes 36 classes: 29 surgical instrument classes, 4 anatomy classes and 3 miscellaneous classes, namely: <img src="/images/365.png" /></p>
<p>Classes are imbalanced:</p>
<blockquote>
<p>The anatomy classes appear more frequently than the surgical instruments. The anatomy also covers the largest part of the scene.</p>
</blockquote>
<blockquote>
<p>The classes about "Instrument" in dataset is highly imbalanced, for example, there are 17 instrument classes appear in less than half of the videos. So, accurate instrument classification is more challenging.</p>
</blockquote>
<blockquote>
<p>Some Instruments have high similarity but completely different functions, such as "cannulas", which is also a difficulty of this dataset.</p>
</blockquote>
<h1 id="experiments">Experiments</h1>
<h2 id="three-different-tasks">Three different tasks</h2>
<p>Three different tasks are proposed in this dataset, that is, classes are merged in three different ways.</p>
<h3 id="task-1-8-classes">Task 1 (8 classes):</h3>
<p>The first task is focused on differentiating between anatomy and instruments within every frame. That is, here we only have 8 classes: 4 anatomy classes, 3 miscellaneous classes and 1 classes with all Instruments: <img src="/images/366.png" /></p>
<h3 id="task-2-17-classes">Task 2 (17 classes):</h3>
<p>The second task is not only focuses on anatomy, but also classifies Instruments based on appearance similarity and instrument type. That is, this task is to identify anatomical structures and also the main types of instruments that appear in the scene.</p>
<p>The classes are as follow: <img src="/images/367.png" /></p>
<p>The specific merged classes are as follows:</p>
<ul>
<li>Cannula
<ul>
<li>Hydrosdissection Cannula; Viscoelastic Cannula; Rycroft Cannula; Rycroft Cannula Handle; Charleux Cannula; Hydrosdissection Cannula Handle</li>
</ul></li>
<li>Cap. Cystotome
<ul>
<li>Capsulorhexis Cystotome; Capsulorhexis Cystotome Handle</li>
</ul></li>
<li>Tissue Forceps
<ul>
<li>Bonn Forceps; Troutman Forceps</li>
</ul></li>
<li>Primary Knife
<ul>
<li>Primary Knife; Primary Knife Handle</li>
</ul></li>
<li>Ph. Handpiece
<ul>
<li>Phacoemulsifier Handpiece; Phacoemulsifier Handpiece Handle</li>
</ul></li>
<li>Lens Injector
<ul>
<li>Lens Injector; Lens Injector Handle</li>
</ul></li>
<li>I/A Handpiece
<ul>
<li>Irrigation/Aspiration (I/A) Handpiece; Irrigation/Aspiration Handpiece Handle</li>
</ul></li>
<li>Secondary Knife
<ul>
<li>Secondary Knife; Secondary Knife Handle</li>
</ul></li>
<li>Micromanipulator
<ul>
<li>Micromanipulator</li>
</ul></li>
<li>Cap. Forceps
<ul>
<li>Capsulorhexis Forceps</li>
</ul></li>
<li>Ignore
<ul>
<li>Suture Needle; Needle Holder; Vitrectomy Handpiece; Mendez Ring; Marker; Cotton; Iris Hooks</li>
</ul></li>
</ul>
<p><strong>Note</strong>: the instruments that only appear in the training set, cover relatively few pixels in the frame and cannot be merged with another instrument class were ignored during training.</p>
<h3 id="task-3-25-classes">Task 3 (25 classes)</h3>
<p>This task builds on Task 2 for a finer classification. In task 2, we can find that each Instrument and its corresponding Handle are merged together, and this task is to separate them.</p>
<p>The classes are as follow: <img src="/images/368.png" /></p>
<ul>
<li>Ignore
<ul>
<li>Suture Needle; Needle Holder; Charleux Cannula; Primary Knife Handle; Vitrectomy Handpiece; Mendez Ring; Marker; Hydrosdissection Cannula Handle; Troutman Forceps; Cotton; Iris Hooks</li>
</ul></li>
</ul>
<p><strong>Note</strong>: The classes that do not appear in all splits and are present in less than 5 videos were ignored during training.</p>
<h2 id="models">Models</h2>
<p>Three models are used in the paper, namely, <code>UNet</code>, <code>DeepLabV3+</code>, <code>UPerNet</code> and <code>HRNetV2</code>. (all the models are open-source)</p>
<h3 id="for-training">For training</h3>
<h4 id="training-dataset">Training dataset</h4>
<p>The same data augmentation was applied for all model before training, they used: Each training image was <code>normalized</code>, <code>flipped</code>, <code>randomly rotated</code> and <code>hue</code> and <code>saturation</code> was also adjusted. The input images were <code>downsized</code> to 270 x 480.</p>
<p>No post-processing was performed.</p>
<h4 id="training-configuration">Training configuration</h4>
<ul>
<li>pre-trainged weight
<ul>
<li>the weights for <code>UPerNet</code> and <code>HRNetV2</code> were initialized using pre-trained weights on ImageNet;</li>
<li>the weights for <code>DeepLabV3+</code> was based on Pascal VOC;</li>
</ul></li>
<li>epochs, GPU
<ul>
<li>100 epochs</li>
<li>two NVIDIA GTX 1080 Ti GPUs</li>
</ul></li>
<li>learning rate, optimizer
<ul>
<li>the Cross Entropy loss function was used with learning rate equal to <span class="math inline">\(10^{-4}\)</span> using the Adam Optimizer.</li>
<li>The <span class="math inline">\(\beta_1\)</span>, <span class="math inline">\(\beta_2\)</span> and <span class="math inline">\(\epsilon\)</span> values for the Adam Optimizer were set to 0.9, 0.999 and <span class="math inline">\(10^{-8}\)</span>, which are proposed as good</li>
</ul></li>
</ul>
<h4 id="metrics">Metrics</h4>
<p>The paper used 3 metrics to evaluate the models, namely, <code>PA</code>, <code>PAC</code>, <code>mIOU</code>, but because of the imbalanced of the dataset and classes (that is, some classes only appear in some videos' frame, and the number of pixel of some classes are larger than others). So, we mainly focus on <code>mIOU</code>.</p>
<h3 id="results">Results</h3>
<h4 id="for-task-1">For task 1</h4>
<p>By using different models, the results based on task 1 are as follow: <img src="/images/369.png" /></p>
<p>and <code>mIOU</code> per class is: <img src="/images/372.png" /></p>
<p>From this chart we could find that:</p>
<ul>
<li><code>HRNetV2</code> presenting the highest <code>mIOU</code>;</li>
<li><code>DeepLabV3+</code> presenting the lowest for both validation and test sets;</li>
<li>There is small differences in the mIOU between the models because the imbalance among the classes is reduced by representing all instruments with one class.</li>
</ul>
<h4 id="for-task-2">For task 2</h4>
<p>By using different models, the results based on task 2 are as follow: <img src="/images/370.png" /></p>
<p>and <code>mIOU</code> per class is: <img src="/images/371.png" /></p>
<p>From this chart we could find that:</p>
<ul>
<li>The mIOU between the different models starts to differ significantly as the class Instruments starts to get imbalanced;</li>
<li>For large classes, such as the anatomical classes and instrument classes that are represented by large number of pixels, have high mIOU;</li>
<li>Cannula group of classes and the capsulorhexis cystotome have a relatively low mIoU, beccause these classes are represented by a small number of pixels and a large percentage of them is classified as anatomy around the boundary.</li>
<li>The capsulorhexis forceps present a low mIoU for all models and this is because they are frequently misclassified as tissue forceps, These two classes could have been merged into one group, however as the capsulorhexis forceps appear in all splits with sufficient number of training images, they are represented by a separate class.</li>
</ul>
<h4 id="for-task-3">For task 3</h4>
<p>By using different models, the results based on task 3 are as follow: <img src="/images/373.png" /></p>
<p>and <code>mIOU</code> per class is: <img src="/images/374.png" /></p>
<p>From this chart we could find that:</p>
<ul>
<li>As the number of classes increases, class imbalance is more evident;</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<ul>
<li><code>DeepLabV3+</code>, <code>UPerNet</code> and <code>HRNet</code> achieve higher mIOU for instrument segmentation and classification than <code>UNet</code>;</li>
<li><code>UNet</code> gives a lower mIoU at instrument segmentation and classification;</li>
<li><code>UPerNet</code> and <code>HRNet</code> have the higher mIoU at simultaneous anatomy segmentation and instrument classification.</li>
</ul>
<h1 id="additional">Additional</h1>
<p>According to the finding of "RVIM Lab", some annotations in the dataset are wrong, and at least 179 images were labeled wrong, and they("RVIM Lab") relabeled some of them. Such as the following examples: <img src="/images/375.jpg" /></p>
<p>we could find that, the annotations of <code>Hand</code> and <code>Micromanipulator</code> are wrong, the correct mask should be: <img src="/images/376.jpg" /></p>
<p>Another example: <img src="/images/377.jpg" /></p>
<p>the correct one should be: <img src="/images/378.jpg" /></p>
<h1 id="reference">Reference:</h1>
<p>[1] <a href="https://arxiv.org/pdf/1906.11586.pdf">Paper: CaDIS: Cataract Dataset for Image Segmentation</a> [2] <a href="https://link.springer.com/chapter/10.1007/978-3-030-87202-1_49">Paper: Effective semantic segmentation in Cataract Surgery: What matters most?</a></p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>Summary â€” â€œSwin Transformerâ€</title>
    <url>/posts/36.html</url>
    <content><![CDATA[<h1 id="introduction">Introduction</h1>
<p>The swin transformer is proposed because the previous transformer has the following two shortcomings in the field of visual processing: <span id="more"></span></p>
<ul>
<li>Unlike NLP, the pixel resolution of an image is much larger than that of text information. If pixels are used as tokens, the computational complexity is unacceptable.</li>
<li>The objects in the image often have different scales, which is also not effectively handled by the previous viT, such as: instance segmentation in densely predicted scenes.</li>
</ul>
<p>In order to solve these problems, swin transformer has proposed some new solutions. This blog mainly focuses on the following aspects:</p>
<ul>
<li>Patch Merging</li>
<li>Window Self-Attention</li>
<li>Shift Window Self-Attention</li>
<li>Relative Position Index</li>
</ul>
<p>And as repeatedly emphasized in the paper, the swin transformer not only solves the above two problems, but more importantly, the author proposes a general-purpose backbone network, although the performance of the unified model in the NLP and CV fields is not as good as viT, but Its future development is worth looking forward to.</p>
<p><strong>NOTICE: Reading this blog requires a basic understanding of viT.</strong></p>
<h1 id="patch-merging">Patch Merging</h1>
<p>As mentioned above, viT does not handle the problem of image multi-scale very well. Looking back at CNN, when dealing with multi-scale problems, we have a good method: FPN. So how do we apply this idea to transformers? The author proposes Patch Merging. Simply explained, this is to achieve the CNN effect with a non-CNN method.Continuing to read the paper, we will find that the author built the network with the effect achieved by CNN as a template.</p>
<p>First, in terms of scale, the comparison between swin transformer and viT can be seen in the following figure: <img src="/images/349.png" /></p>
<p>From the above figure we can see that the scale of the swin transformer increases step by step compared to the single scale of viT ($ 16  $). With each increment, the feature map size is halved and the number of channels is doubled, which is very similar to CNN.</p>
<p>That is to say, the patch size at the beginning is <span class="math inline">\(4\times 4\)</span>, followed by <span class="math inline">\(8 \times 8\)</span>, <span class="math inline">\(16 \times 16\)</span>, and the receptive field is getting bigger and bigger, forming multiple scale.</p>
<p>Then we look at the structure of the entire network: <img src="/images/351.png" /></p>
<p>If the input image is a 3-channel image, the size is <span class="math inline">\(H \times W\)</span>, after the first layer, the scale is reduced to 1/4, and the number of channels becomes <span class="math inline">\(4\times 4 \times 3 = 96\)</span>, after the first layer stage, the scale remains unchanged, and the number of channels becomes C, where C depends on the size of the model, as shown in the following figure. After each stage, the scale is reduced by half and the number of channels is doubled. <img src="/images/352.png" /></p>
<blockquote>
<p>Notice: Patch Partition + Linear Embedding in the figure has a similar effect as Patch Merging.</p>
</blockquote>
<h2 id="detail-of-patch-merging">Detail of Patch Merging</h2>
<p>Now we know what Patch Merging does, but how does it work? Next I will use a simple example to illustrate. <img src="/images/353.png" /> Here we have a feature map of <span class="math inline">\(4 \times 4\)</span>, take a single channel as an example, divide it into 4 windows, take the patches at the same position in each window (marked with the same color here), and merge them to increase the number of channels, Then LayerNorm is performed, and finally a linear operation is performed to halve the number of channels. This is the whole process of patch-merging, which realizes the operation of halving the scale and doubling the number of channels.</p>
<h1 id="window-self-attention-and-shift-window-self-attention">Window Self-Attention and Shift Window Self-Attention</h1>
<p>For the computational complexity mentioned above, the paper uses a window self-attention model. In order to connect different windows and achieve a global approach, a shift window self-attention model is proposed.</p>
<p>Take this picture in the paper as an example: <img src="/images/350.png" /></p>
<h2 id="window-self-attentionw-msa">Window Self-Attention(W-MSA)</h2>
<p>First look at the following figures. The entire image has <span class="math inline">\(8\times 8\)</span> patches, divided into 4 windows, each window has <span class="math inline">\(4\times 4\)</span> patches. <img src="/images/354.png" /> If we use MSA, such as the left picture, we have to calculate the self-attention of one patch with all other patch, and if we use W-MSA, we only need to calculate the self-attention of each window. As the scale of the feature map increases, MSA is a squared increase, while W-MSA increases linearly.</p>
<p>The paper gave the calculation-functions for these two methods: <img src="/images/355.png" /> Parameter Description:</p>
<ul>
<li>h: height of feature map</li>
<li>w: the width of the feature map</li>
<li>C: the number of channels of the feature map</li>
<li>M: size of a single window</li>
</ul>
<h3 id="additional-partcomputational-complexity">Additional Part(Computational complexity)</h3>
<p>This part is an additional part to explain how the above complexity calculation formula comes from.</p>
<p>Here we use <code>FOLPs</code> as the metric, and first we need to know the FOLPs of the matrix calculation. Such as <span class="math inline">\(A^{m \times n}\times B^{n \times v}\)</span>, the FOLPs is: <span class="math inline">\(m \times n \times v\)</span>.</p>
<p>Review the calculation of <code>Attention</code>: <span class="math display">\[
Attention(Q,K,V) = SoftMax(\frac{QK^T}{\sqrt{d}})V
\]</span> For each patch in the feature map, the corresponding q, k, v are generated through <span class="math inline">\(W_q, W_k, W_v\)</span>, It is assumed here that the vector lengths of q, k, v are consistent with the depth C of the feature map. Then the process of generating Q for all patches is as follows: <span class="math display">\[
A^{hw\times C}\cdot W_q^{C\times C} = Q^{hw\times C}
\]</span> The FOLPs is: <span class="math inline">\(hw \times C \times C\)</span>, the same as K and V, with total of <span class="math inline">\(3hwC^2\)</span>.</p>
<p>And the is <span class="math inline">\(Q K^T\)</span>, the FOLPs is <span class="math inline">\((hw)^2C\)</span>, then ignore division by <span class="math inline">\(sqrt{d}\)</span> and <span class="math inline">\(softmax\)</span>, and finally, multiply by V, so we can obtain the following FOLPs: <span class="math display">\[
3hwC^2+(hw)^2C+(hw)^2C = 3hwC^2+2(hw)^2C
\]</span> Finally is the matrix about mutil-head <span class="math inline">\(W_o\)</span>, the FOLPs is <span class="math inline">\(hwC^2\)</span>.</p>
<p>So we get: <span class="math inline">\(4hwC^2+2(hw)^2C\)</span></p>
<p>For W-MSA, we can also get the function with a similar calculation process.</p>
<h2 id="shift-window-self-attention">Shift Window Self-Attention</h2>
<p>Now comes the part that I think is the most interesting.</p>
<p>Although we significantly reduce the computational complexity through windowed self-attention, it also creates a problem: global information is lost. We only focus on attention within a window, and there is no connection between windows.</p>
<p>To solve this problem, the author proposes a new method: <strong>Shift Window Self-Attention</strong>. As shown below: <img src="/images/350.png" /></p>
<p>After finishing the W-MSA on the left, we shift the image a few patches to the right and down, this amount of "Shift" depends on <span class="math inline">\(\frac{|M|}{2}\)</span>, and then divide the image again.</p>
<p>In this way we can connect patches that were not in the same window before. But this creates a new problem: as shown on the right, the new feature map has 9 windows. If they are calculated separately, their sizes are different and cannot be calculated uniformly. If padding is used here to expand it to the same size, the self-attention of 9 windows needs to be calculated, which increases the computational complexity.</p>
<p>In order to unify the self-attention of the calculation window without increasing the computational complexity, the author proposes an interesting method: cyclically shift the window to achieve unified calculation and reduce the computational complexity.</p>
<p>As shown below: <img src="/images/356.png" /> We spliced parts A, B, and C separately, taking the middle window as an example, after shifting, it can contact the original 4 windows.</p>
<p>But now a new problem has arisen. Although this method can keep the computational complexity from increasing, the window formed by shifting and splicing will cause errors if we directly calculate self-attention. Since they have moved from far away, the connection between the two should be minimal.</p>
<p>For example, if "C" stands for "sky", we concatenate it with "ground" below, and the calculated self-attention is obviously inappropriate.</p>
<p>To avoid this error, the authors propose a new masking method.</p>
<p>Regarding this method, the author gave a detailed explanation in <code>issues #38</code> in his GitHub, as shown below: <img src="/images/357.png" /> That is to say, in the required position, the mask value is 0, and in the unwanted position, the value is -100. Since the value after self-attention calculation is very small, after subtracting 100, through softmax, in the unwanted position, the value will approach 0 indefinitely.</p>
<p>Finally, after the calculation, it is necessary to restore the shifted part back to its original position.</p>
<h1 id="relative-position-index">Relative Position Index</h1>
<p>This part belongs to the optimization part of the project and is not required, but it can improve the performance of the model(as shown below). <img src="/images/358.png" /></p>
<p>The process of building a relative position index is as follows:</p>
<p><strong>Step 1:</strong> Build a relative position matrix based on each patch, flatten, merge. <img src="/images/359.png" /></p>
<p><strong>Step 2:</strong> The simple relative position index has actually been completed, but in the source code, in order to express more concisely, each index is represented by one-dimensional rather than two-dimensional coordinates. But how? If we directly add the two-dimension coordination together, then (0, -1) and (-1, 0) will have the same value. In order to avoid this problem, author use the following method:</p>
<p>Add M-1 to the original relative position index (M is the size of the window, in this example M=2), after adding, there will be no negative numbers in the index. <img src="/images/360.png" /></p>
<p><strong>Step 3:</strong> Then multiply all row values by 2M-1: <img src="/images/361.png" /></p>
<p><strong>Step 4:</strong> Add row and column values: <img src="/images/362.png" /></p>
<p><strong>Step 5:</strong> Finally get the value according to the index: <img src="/images/363.png" /></p>
<p>Now the process of relative position index and value is completed.</p>
<h1 id="reference">Reference</h1>
<p>[1] <a href="https://arxiv.org/abs/2103.14030">Paper: Swin Transformer</a></p>
<p>[2] <a href="https://www.bilibili.com/video/BV13L4y1475U?spm_id_from=333.999.header_right.history_list.click&amp;vd_source=60a30fcab490c05a3a49048140bf284a">Video-1: From Bilibili</a></p>
<p>[3] <a href="https://www.bilibili.com/video/BV1pL4y1v7jC?spm_id_from=333.999.0.0&amp;vd_source=60a30fcab490c05a3a49048140bf284a">Video-2: From Bilibili</a></p>
<p>[4] <a href="https://blog.csdn.net/qq_37541097/article/details/121119988?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165568155116782395358199%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=165568155116782395358199&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-121119988-null-null.nonecase&amp;utm_term=swin&amp;spm=1018.2226.3001.4450">Blog-1: From CSDN</a></p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>Summary - â€œAttention is all you needâ€</title>
    <url>/posts/34.html</url>
    <content><![CDATA[<h1 id="introduction">Introduction</h1>
<p>This blog is a summary of the papers I read recently, and it is also convenient for viewing at any time during the current project. <span id="more"></span></p>
<p>The project is based on viT semantic segmentation, so the papers here are related to it, including the following:</p>
<ul>
<li><p><a href="https://arxiv.org/abs/1706.03762">Attention Is All You Need</a></p></li>
<li><p><a href="https://arxiv.org/abs/2011.14503">End-to-End Video Instance Segmentation with Transformers</a></p></li>
<li><p><a href="https://arxiv.org/abs/2105.05633">Segmenter: Transformer for Semantic Segmentation</a></p></li>
<li><p><a href="https://arxiv.org/abs/2010.11929">An Image is Worth 16x16 Words: Transformers for Image Recognition at Scale</a></p></li>
</ul>
<p>(<em>Due to the limitations of English, the expression may be a bit strange, but as long as the meaning is correct, who cares?</em>)</p>
<h1 id="attention-is-all-you-need">Attention is all you need</h1>
<p>(The Chinese version can refer to my previous blog: <a href="https://superzlw.github.io/posts/16.html">here</a>, the content is different from this one, and relatively brief, but also could be very helpful to understand it.)</p>
<p>(Here I recommend a awesome <a href="http://jalammar.github.io/illustrated-transformer/">blog</a>. Most of the pictures here are from this blog as well as my previous blog.)</p>
<h2 id="what-and-why">WHAT? and WHY?</h2>
<p>First, I will give a brief introduction to this paper from these two parts, and then elaborate on its principles later.</p>
<h3 id="what-is-it">What is it?</h3>
<p>"Attention" is a method proposed by Bengio's team in 2014 and widely used in various deep learning fields.</p>
<p>On this basis, this paper further proposes a new concept: Transformer. As the title of the paper says, the traditional CNN and RNN are abandoned in the Transformer, and the entire network structure is completely composed of the Attention mechanism. More precisely, the Transformer consists of and only consists of self-Attenion and Feed Forward Neural Network.</p>
<p>A trainable neural network based on Transformer can be built by stacking Transformers. The author's experiment is to build an encoder-decoder with 6 layers of encoder and decoder, and a total of 12 layers of Encoder-Decoder, which performed best in machine translate.</p>
<h3 id="why-use-it">Why use it?</h3>
<p>The reason why the author uses "Attention" is to consider that the calculation of RNN (or LSTM, GRU, etc.) is limited to sequential, that is to say, RNN-related algorithms can only be calculated from left to right or from right to left. The mechanism brings up two problems:</p>
<ul>
<li><p>The calculation at time t depends on the calculation result at time t-1, which limits the parallelism of the model;</p></li>
<li><p>Information will be lost in the process of sequential calculation. Although LSTM and other structures alleviate the problem of long-term dependence to a certain extent, it is still powerless for particularly long-term dependence.</p></li>
</ul>
<p>The proposal of Transformer solves the above two problems. First, it uses "Attention" to reduce the distance between any two positions in the sequence to a constant; second, it is not a sequential structure similar to RNN, so it has better Parallelism, in line with existing GPU frameworks.</p>
<p>Said in the paper:</p>
<blockquote>
<p>Transformer is the first transduction model relying entirely on self-attention to compute representations of its input and output without using sequence aligned RNNs or convolutionã€‚</p>
</blockquote>
<h2 id="principle">Principle</h2>
<h3 id="structure-of-the-transformer">Structure of the Transformer</h3>
<p>Here take the machine translation as example, if we want to translate a sentence as below: <img src="/images/327.png" /></p>
<p>Expand the transformer module, we can see: <img src="/images/328.png" /></p>
<p>The Encoder-Decoder are what we mention above. Further expand the module, we can get that: <img src="/images/329.png" /></p>
<p>And the Encoder-Decoder looks like: <img src="/images/330.png" /></p>
<h3 id="how-it-works">How it works</h3>
<p>First of all, we need to do word-embedding as the input of the first Encoder, all the encoder receive a list of vectors each of the size 512, it means that, both word-embedding and the output of a Encoder should be in the same size, that is, list of vectors each of the size 512. This size(512) is depended on the longest word of our training data, it should be a hyperparameter.</p>
<p>We could see this figure, the FC layer is also named feed forward layer. <img src="/images/331.png" /></p>
<p>It shows that, after self-attention, there are dependencies between these paths, but no dependencies in feed forward layer, thus the various paths can be executed in parallel while flowing through the feed-forward layer.</p>
<h3 id="detail-of-the-self-attention">Detail of the "Self-Attention"</h3>
<p><strong>Step 1: create 3 vectors</strong></p>
<p>After Embedding of one word, we get an embedding vector, with 512 size. Next, we need to create 3 new vector, named: Queries Vector, Keys Vector and Values Vector. The size of these 3 vectors should be smaller than Embedding Vector, usually, they could be 64.</p>
<p>But how can we obtain these 3 vectors?</p>
<p>Here we need 3 matrix, that is <span class="math inline">\(W^q\)</span>, <span class="math inline">\(W^k\)</span> and <span class="math inline">\(W^v\)</span>. We multiply embedding vector by the <span class="math inline">\(W^q\)</span> to obtain vector q, that is, Queries Vector, and the same to get other two vectors.</p>
<p><strong>Step 2: compute scores</strong> These scores are used to measure how much focus to place on other parts of the input sentence as we encode a word at a certain position. For example, we have the following sentence:</p>
<blockquote>
<p>The animal didn't cross the street because it was too tired</p>
</blockquote>
<p>What does <code>it</code> mean here? Fur us, it is a quite easy question, but computer does not think so. So it is necessary to compute this score. Just like the figure below: <img src="/images/332.png" /></p>
<p>To calculate these scores, there are 2 common methods: <img src="/images/333.png" /></p>
<p>Here we only consider the left one. It means that, we use dot product of the query vector with the key vector of the respective word weâ€™re scoring.</p>
<p><strong>Step 3, 4</strong> Divide the score by 8 (the square root of the dimension of the key vectors used in the paper), and then use SOftmax to normalizes the score. Such as the figure below: <img src="/images/334.png" /></p>
<blockquote>
<p><strong>Note</strong>: the score of itself is also required and the score above should first divide by 8, and then softmax. The activate function could also be replaced by other function likes ReLU.</p>
</blockquote>
<p><strong>Step 5, 6</strong> Multiply each value vector by the softmax score, this step can be used to ignore the unrelated word.</p>
<p>And then sum up the weighted value vectors, to produces the output of the self-attention layer at this position.</p>
<p>Such as the figure below: <img src="/images/335.png" /></p>
<h4 id="in-matrix-form">In Matrix Form</h4>
<p>This part shows how to compute with matrix, several picture are enough: <img src="/images/336.png" /> <img src="/images/337.png" /> <img src="/images/338.png" /></p>
<blockquote>
<p><strong>Note</strong>: Only <span class="math inline">\(W^q\)</span>, <span class="math inline">\(W^k\)</span> and <span class="math inline">\(W^v\)</span> should be learned.</p>
</blockquote>
<h3 id="multi-head-self-attention">Multi-head-Self-attention</h3>
<p>Use multi-head can improve the ability of the model to focus on different positions. Take 2 heads as example: <img src="/images/339.png" /> There are 2 sets of Query/Key/Value weight matrices, that means that, we will get 2 <span class="math inline">\(b\)</span> by using one embedding vector, but we only need one vector as input for next layer.</p>
<p>So here we introduce a new weight matrix <span class="math inline">\(W^0\)</span>: <img src="/images/340.png" /> It means that, We concat the matrices then multiply them by an additional weights matrix <span class="math inline">\(W^0\)</span> <img src="/images/341.png" /> (<strong>this image takes 8 heads as example</strong>)</p>
<h3 id="position-encoding">Position Encoding</h3>
<p>The last problem is, although we consider the whole sentence, we do not consider the relative position of the individual words.</p>
<p>To solve this problem, we need to use an additional vector, which can tell the model the exactly position of each word, or the distance between different word. And this vector could be considered in embedding vector.</p>
<p>For example, if the dimension of the embedding vector is 4, it could be: <img src="/images/342.png" /></p>
<p>This position vector in paper looks like this: <img src="/images/343.png" /> Each column represents a position vector. The first column will be the vector we want to add to the first word embedding in the input sequence. Each column contains 512 values, each with a value between 1 and -1</p>
<h3 id="a-small-detail">A small detail</h3>
<p>One detail in the encoder architecture is that each sub-layer (self-attention, ffnn) in each encoder has a residual connection around it, followed by a layer normalization step. Such like this: <img src="/images/344.png" /> More specifically: <img src="/images/345.png" /></p>
<h2 id="decoder">Decoder</h2>
<p>After learning the principle of the Transformer as well as the Encoder, now we could start our Decoder.</p>
<p>After processing the input sequence by encoder, the output of the top encoder is then transformed into a set of attention vectors K and V. These are to be used by each decoder in its â€œencoder-decoder attentionâ€ layer which helps the decoder focus on appropriate places in the input sequence: <img src="/images/346.png" /></p>
<p>Repeat this process, until a special signal is outputted, to tell the decoder that the process should be finished.</p>
<p>What's more, the self-attention in decoder is a bit different from the self-attention in encoder. In the decoder, the self-attention layer is only allowed to attend to earlier positions in the output sequence.</p>
<p>This process can be showed as below: <img src="/images/347.png" /> <img src="/images/348.png" /> we could see that, the self-attention of decoder only care about the earlier positions in the output sequence, for example, we use "I", "am", "a" that we obtained before to get the new word "student".</p>
<p>It should be noted that, the K and V vectors from encoder should be used in every decoder part.</p>
<p>Finally, we get a float vector, we should turn it into a word, this is what the last layer, softmax layer, do. It is a simple full connected layer, that projects the vector produced by the stack of decoders, into a much, much larger vector called a logits vector.</p>
<h1 id="reference">Reference</h1>
<p>[1] Paper: Attention is all you need</p>
<p>[2] http://jalammar.github.io/illustrated-transformer/</p>
<p>[3] https://zhuanlan.zhihu.com/p/48508221</p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>ä¸€æ¬¡é¡¹ç›®çš„åæ€å’Œæ€»ç»“</title>
    <url>/posts/33.html</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨è¿™æ¬¡Data Science2 çš„è¯¾ç¨‹é¡¹ç›®ä¸­ï¼Œé€‰äº†Kaggleä¸Šä¸€ä¸ªæ­£åœ¨è¿›è¡Œçš„æ¯”èµ›ä½œä¸ºè¯¾é¢˜ï¼Œè¿™åº”è¯¥æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è·Ÿäººåˆä½œåšè¿™ä¹ˆå¤§çš„é¡¹ç›®ï¼Œä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ­£ç»å‚åŠ Kaggleçš„æ¯”èµ›ï¼Œæ•´ä¸ªæ¯”èµ›è¿‡ç¨‹èµ°äº†å¾ˆå¤šå¼¯è·¯ï¼Œè¸©äº†å¾ˆå¤šå‘ï¼Œè§‰å¾—éå¸¸æœ‰å¿…è¦åšä¸ªè®°å½•ï¼Œä½œä¸ºç£ä¿ƒè‡ªå·±çš„æˆé•¿å§ã€‚ç¬¬ä¸€éƒ¨åˆ†ä¸»è¦æ˜¯ä¸€äº›åæ€å’Œæ€»ç»“ï¼Œå¦å¤–åœ¨è¿™ä¸¤ä¸ªæœˆé‡Œçœ‹äº†ä¸å°‘è®ºæ–‡ï¼Œå‡†å¤‡æ¯å¤©å†™ä¸€ç‚¹ï¼Œæ”¾åœ¨ç¬¬äºŒéƒ¨åˆ†äº†ã€‚<br><span id="more"></span></p>
<h1 id="åæ€1ï¼šæ•´ä½“è§„åˆ’"><a href="#åæ€1ï¼šæ•´ä½“è§„åˆ’" class="headerlink" title="åæ€1ï¼šæ•´ä½“è§„åˆ’"></a>åæ€1ï¼šæ•´ä½“è§„åˆ’</h1><h2 id="é—®é¢˜ï¼š"><a href="#é—®é¢˜ï¼š" class="headerlink" title="é—®é¢˜ï¼š"></a>é—®é¢˜ï¼š</h2><p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä¸€å¼€å§‹å¹¶æ²¡æœ‰ä¸€ä¸ªæ¸…æ™°çš„è§„åˆ’ï¼Œè®¤ä¸ºå¯ä»¥åƒåšå…¶å®ƒè¯¾ç¨‹å°é¡¹ç›®ä¸€æ ·ï¼Œå…ˆåšç€ï¼Œæœ‰é—®é¢˜æŸ¥èµ„æ–™ï¼Œåæ­£å°±ä¸€ç›´åšä¸‹å»ï¼Œå±äºèˆ¹åˆ°æ¡¥å¤´è‡ªç„¶ç›´çš„é‚£ç§ï¼Œè¿™å°±æ˜¯â€œèµ°å¼¯è·¯â€çš„å¼€å§‹ã€‚å¤§é¡¹ç›®ä¸æ¯”å°é¡¹ç›®ï¼Œå¤§é¡¹ç›®ä¸€å¼€å§‹å°±ä¼šæœ‰å¾ˆå¤šä¸ªæ–¹å‘éœ€è¦é€‰æ‹©ï¼Œå¹¶ä¸”æ¯ä¸ªæ–¹å‘ä¼šé‡åˆ°çš„äº‹éƒ½ä¸æ˜æœ—ï¼Œå¦‚æœä¸€å¼€å§‹ä¸åšå……è¶³çš„è°ƒæŸ¥å‡†å¤‡å·¥ä½œï¼Œéšæ„å‡­ç›´è§‰æˆ–è€…ä¸€äº›ä¸å¤ªé è°±çš„ä¾æ®é€‰ä¸€ä¸ªæ–¹å‘ï¼Œå¦‚æœé”™äº†ï¼Œå°±å¾—é‡æ–°æ¥è¿‡ï¼Œéå¸¸æµªè´¹æ—¶é—´ã€‚\</p>
<h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>æ ¹æ®é˜Ÿå‹çš„ç»éªŒï¼Œè¿™ç§ç¨‹åº¦çš„é¡¹ç›®ç†åº”æœ‰ä¸¤ä¸ªè§„åˆ’ï¼ŒåŠ¨æ€å’Œé™æ€çš„ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥è¯´æ˜¯çŸ­æœŸå’Œé•¿æœŸã€‚é™æ€è§„åˆ’æ˜¯ä¸€ä¸ªæ¯”è¾ƒç¬¼ç»Ÿçš„ä¸œè¥¿ï¼Œä½†èŠ±çš„æ—¶é—´åº”è¯¥æ˜¯éå¸¸å¤šçš„ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬å¾—çŸ¥é“ï¼Œä¸€å¼€å§‹æˆ‘ä»¬æœ‰å¤šå°‘ä¸ªæ–¹å‘å¯ä»¥é€‰æ‹©ï¼Œæ¯ä¸ªæ–¹å‘å¤§è‡´éœ€è¦åšä»€ä¹ˆå·¥ä½œï¼Œå¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜ï¼Œä»¥åŠéœ€è¦ç»å†çš„é˜¶æ®µï¼Œè¿™ä¸ªé™æ€è¿‡ç¨‹éå¸¸è€—æ—¶ï¼Œä½†è¿™æ˜¯ä¸ºäº†èŠ‚çœåé¢çš„æ—¶é—´ï¼Œæé«˜åé¢çš„æ•ˆç‡ï¼Œè§„åˆ’åˆ°ä»€ä¹ˆç¨‹åº¦è¿™æ˜¯ç»éªŒæ€§çš„ä¸œè¥¿ï¼Œä¸å¥½è¯´ï¼Œç°åœ¨æˆ‘ä¹Ÿæ²¡ä»€ä¹ˆæ¦‚å¿µï¼Œä½†è¿™æ—¶é—´ä¸€å®šå¾—èŠ±ã€‚ç¬¬äºŒæ˜¯åŠ¨æ€è§„åˆ’ï¼Œä¹Ÿå°±æ˜¯çŸ­æœŸçš„ï¼Œå› ä¸ºé™æ€è§„åˆ’åªæ˜¯ä¸€ä¸ªå¤§æ¦‚çš„ä¸œè¥¿ï¼Œå…·ä½“åœ¨è¿›è¡Œçš„è¿‡ç¨‹ä¸­ä¼šå‡ºç°å¾ˆå¤šä¸ç¡®å®šçš„å› ç´ ï¼Œé‡åˆ°è¿™äº›é—®é¢˜çŸ­æœŸå†…æˆ‘ä»¬è¦æ€ä¹ˆåšï¼Œè¿™å°±æ˜¯åŠ¨æ€çš„ï¼Œä¹Ÿåº”è¯¥æ˜¯å…·ä½“çš„ã€‚\</p>
<h2 id="å®ä¾‹ï¼š"><a href="#å®ä¾‹ï¼š" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h2><p>ä»¥è¿™æ¬¡é¡¹ç›®ä¸ºä¾‹ï¼Œåšç»†èƒå®ä¾‹åˆ†å‰²ï¼Œä¸€å¼€å§‹çš„æ—¶å€™ä»¥Anchor-free å’Œ Anchor-based å°†å››äººå°ç»„åˆ†ä¸ºä¸¤ä¸ªï¼Œæˆ‘å’Œå¦ä¸€ä¸ªäººåšAnchor-based ï¼Œå…¶å®è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åº”è¯¥èŠ±æ—¶é—´åšé™æ€è§„åˆ’çš„ï¼Œä½†æˆ‘ä»¬æ²¡æœ‰ï¼Œè€Œæ˜¯ç›´æ¥æ¥äº†ä¸ªçŸ­æœŸçš„ç›®æ ‡ï¼Œåšpipelineï¼ŒåŒ…æ‹¬åŸºäºPytorchçš„Datasetå’ŒDataloaderï¼Œè¿™ä¸ªå¯¹æˆ‘ä»¬çš„é¡¹ç›®å¾ˆé‡è¦ï¼Œä½†æ ¹æ®åé¢çš„å‘å±•ï¼Œè¿™ä¸ªå¯¹æ¯”èµ›ä¸é‡è¦ã€‚è¿˜æœ‰æ•°æ®é›†çš„å¤„ç†ï¼ŒKaggleè®¨è®ºåŒºå…¶å®æœ‰éå¸¸å¤šçš„èµ„æºï¼Œç”šè‡³ç°æˆçš„ä»£ç æˆ–è€…åˆ«äººå·²ç»å¤„ç†å¥½çš„æ•°æ®é›†ï¼Œä½†æˆ‘ä»¬æ²¡æœ‰çœ‹ï¼Œè¿™éƒ¨åˆ†èŠ±äº†éå¸¸å¤šçš„æ—¶é—´ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬ä¸€å¼€å§‹å°±èŠ±ä¸€å®šçš„æ—¶é—´å……åˆ†äº†è§£æ¯”èµ›ï¼Œäº†è§£Kaggleå¹³å°èƒ½æä¾›çš„èµ„æºï¼Œåé¢çš„è¿›åº¦ä¼šå¿«å¾ˆå¤šã€‚\</p>
<h1 id="åæ€2ï¼šæ¨¡å‹çš„é€‰æ‹©"><a href="#åæ€2ï¼šæ¨¡å‹çš„é€‰æ‹©" class="headerlink" title="åæ€2ï¼šæ¨¡å‹çš„é€‰æ‹©"></a>åæ€2ï¼šæ¨¡å‹çš„é€‰æ‹©</h1><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>è¿™ä¸ªæ¯”èµ›ä¸­æˆ‘ä»¬å°è¯•äº†éå¸¸å¤šçš„æ¨¡å‹ï¼Œè€Œä¸”çŠ¯äº†ä¸€ä¸ªå¤§å¿Œï¼šä»å¤æ‚åˆ°ç®€å•ã€‚å›å¤´æƒ³æƒ³è¿™çœŸçš„å¾ˆè¦å‘½ï¼Œä¸€å¼€å§‹æˆ‘ä»¬çš„æ€è·¯éå¸¸ç®€å•ï¼Œå› ä¸ºè¿™æ˜¯å®ä¾‹åˆ†å‰²ï¼Œå°±ä»COCOæ•°æ®é›†é‡Œæ‰¾æ¨¡å‹ï¼Œåœ¨æ’åé å‰çš„æ¨¡å‹é‡Œæ‰¾ï¼Œç¡®å®šäº†ä¸ªï¼šCBNetV2 + Swin Transfomer + HTC, å‚æ•°é‡ä¸€ä¸¤ä¸ªäº¿ï¼Œä¸æ¯«æ²¡æœ‰è€ƒè™‘åˆ°æˆ‘ä»¬ç°æœ‰æ•°æ®é›†çš„é‡èƒ½ä¸èƒ½è®­å‡ºè¿™æ¨¡å‹ï¼Œä¹ŸåŸºæœ¬æ²¡æœ‰è€ƒè™‘è®­è¿™æ¨¡å‹æˆ‘ä»¬æ‰€éœ€è¦çš„æ—¶é—´å·²ç»é‡‘é’±æˆæœ¬ã€‚</p>
<h2 id="æ€»ç»“ï¼š-1"><a href="#æ€»ç»“ï¼š-1" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>å…¶å®Olivierè¯´çš„éå¸¸æœ‰é“ç†ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆå®šä¸‹ä¸€ä¸ªbaseline modelï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œå®šçš„æ˜¯Mask RCNNï¼Œæˆ‘ä»¬å°±åº”è¯¥å…ˆåŠªåŠ›å»è°ƒå®ƒï¼Œè°ƒå‡ºä¸€ä¸ªå¥½çš„ç»“æœï¼Œç„¶åå†æ ¹æ®éœ€è¦æ…¢æ…¢æ”¹è¿›æˆ–è€…å¤æ‚åŒ–ï¼Œè€Œä¸æ˜¯ä¸€ä¸Šæ¥å°±æä¸€ä¸ªè¶…çº§å¤æ‚çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å‹æ ¹æ²¡é‚£äº›æ—¶é—´ï¼Œç¡¬ä»¶ï¼Œé‡‘é’±å»è°ƒè¿™ç§æ¨¡å‹ï¼Œæ•°æ®é‡ä¹Ÿä¸å¤Ÿï¼Œæœ€åè®­å‡ºæ¥çš„ç»“æœéå¸¸å·®ï¼Œè€Œä¸”å¯¹äºè¿™ä¹ˆå¤§çš„æ¨¡å‹ï¼Œè¦è°ƒå‚æˆ‘ä»¬æ— ä»ä¸‹æ‰‹ï¼Œä¸€ä¸ªæ¨¡å‹è·‘ä¸¤å¤©æˆ‘ä»¬çœŸæ˜¯ç–¯äº†ã€‚</p>
<h1 id="åæ€3ï¼šè®¤æ¸…è‡ªå·±ä»¥åŠæ¯”èµ›"><a href="#åæ€3ï¼šè®¤æ¸…è‡ªå·±ä»¥åŠæ¯”èµ›" class="headerlink" title="åæ€3ï¼šè®¤æ¸…è‡ªå·±ä»¥åŠæ¯”èµ›"></a>åæ€3ï¼šè®¤æ¸…è‡ªå·±ä»¥åŠæ¯”èµ›</h1><h2 id="é—®é¢˜ï¼š-1"><a href="#é—®é¢˜ï¼š-1" class="headerlink" title="é—®é¢˜ï¼š"></a>é—®é¢˜ï¼š</h2><p>å°±æ˜¯æˆ‘ä»¬è¦é‡åŠ›è€Œä¸ºï¼Œä¸€å¼€å§‹æˆ‘å±…ç„¶æƒ³åœ¨åŠä¸ªæœˆé‡Œæ‰‹å†™HTCï¼ŒçœŸæ˜¯ç–¯äº†ï¼Œè¿™ä¹ŸèŠ±äº†ä¸å°‘æ—¶é—´ã€‚ä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åŸºæœ¬ç¡®å®šäº†ç”¨MMDetection æ­å»ºæ¨¡å‹ï¼Œä¹‹å‰èµ°äº†è¿™ä¹ˆå¤šå¼¯è·¯ï¼Œç›´åˆ°è¿™æ—¶å€™æˆ‘ä»¬æ‰æœ‰åŠåªè„šè¸ä¸Šäº†æ­£è§„ï¼Œä½†æˆ‘ä»¬ä¾æ—§åœ¨é”™è¯¯çš„è·¯ä¸Šèµ°ç€ï¼Œæƒ³ç”¨MMDetectionä¸ªéå¸¸å¤æ‚çš„æ¨¡å‹ã€‚</p>
<h2 id="æ€»ç»“ï¼š-2"><a href="#æ€»ç»“ï¼š-2" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>æ­£ç¡®äº†è§£è‡ªå·±èƒ½åŠ›å’Œæ‰€è¦å¤„ç†çš„é—®é¢˜ä¹‹é—´çš„å·®è·ã€‚å¦å¤–ä¹Ÿè¦æ—¶åˆ»æ€è€ƒï¼Œç°é˜¶æ®µæˆ‘ä»¬éœ€è¦å®ç°ä»€ä¹ˆï¼ŒåŒæ—¶ä¹Ÿè¦æ€è€ƒä¸‹ä¸€é˜¶æ®µçš„éƒ¨ç½²ï¼Œä¸è¦è¯´å¤šä¹ˆé•¿è¿œï¼Œè‡³å°‘ï¼Œä¸‰å¤©ä»¥å†…çš„å®‰æ’å¾—æ¸…æ¥šã€‚é˜Ÿå‹è¿›åº¦ä¸€ç›´èµ°åœ¨æˆ‘å‰é¢ï¼Œåº”è¯¥å°±æ˜¯ä»–ä¸åœåœ¨æ€è€ƒçŸ­æœŸçš„è®¡åˆ’ï¼Œå¹¶ä¸”è¡ŒåŠ¨åŠ›ä¹Ÿè·Ÿå¾—ä¸Šã€‚\<br>åˆ°åé¢ç”¨MMDetectionçš„æ—¶å€™ï¼Œå…¶å®æˆ‘ä»¬å·²ç»æ˜¯åœ¨å•çº¯åœ°è°ƒconfigçš„å‚æ•°äº†ï¼Œè€Œä¸”è°ƒçš„æ—¶å€™æ—¢æ²¡æœ‰ç»éªŒæˆ–å®éªŒæ•°æ®æ”¯æŒï¼Œä¹Ÿæ²¡æœ‰ç†è®ºæ”¯æŒï¼Œåªèƒ½è°ƒä¸€äº›æœ€ç®€å•ç›´è§‚çš„ï¼Œè¯´éš¾å¬ä¸€ç‚¹ï¼Œè¿™ä¸ªå·¥ä½œç»™ä»»ä½•ä¸€ä¸ªæ¯«æ— ç›¸å…³ä¸“ä¸šçŸ¥è¯†çš„ä¸­å­¦ç”Ÿå¯èƒ½éƒ½èƒ½åšã€‚Kaggleä¸åº”è¯¥æ˜¯ç”¨è¿™ç§æ–¹æ³•å°±èƒ½æ‹¿åˆ°å¥½åˆ†æ•°çš„æ¯”èµ›ã€‚\</p>
<h1 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h1><p>ç«™åœ¨ç°åœ¨å›é¡¾è¿™ä¸ªæ¯”èµ›ï¼Œæˆ‘è®¤ä¸ºåˆç†çš„æµç¨‹æˆ–è®¸åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š\</p>
<blockquote>
<ol>
<li>äº†è§£æ¯”èµ›è§„åˆ™ï¼ŒåŒ…æ‹¬æäº¤çš„ä¸œè¥¿ï¼Œèƒ½ä¸èƒ½è”ç½‘ï¼Œè®­ç»ƒæ—¶é—´çš„é™åˆ¶ï¼Œèƒ½å¦ä½¿ç”¨å¤–éƒ¨æ•°æ®é›†ç­‰ï¼Œèƒ½æœ‰å¤šå…·ä½“å°±åšå¤šå…·ä½“ã€‚\</li>
<li>äº†è§£æ•°æ®é›†çš„æ„æˆï¼Œå“ªäº›æœ‰ç”¨å“ªäº›æ²¡ç”¨ã€‚\</li>
<li>å‰ä¸¤æ­¥ä¸€å®šè¦å»è®¨è®ºåŒºçœ‹çœ‹ï¼Œçœ‹çœ‹åˆ«äººå¯¹è¿™æ¯”èµ›çš„æƒ³æ³•ï¼Œå¯¹è¿™æ•°æ®é›†çš„çœ‹æ³•ä»¥åŠå¤„ç†æ–¹æ³•ã€‚\</li>
<li>ç¡®å®šbaseline modelï¼Œè¿™æ­¥å¾ˆé‡è¦ï¼Œå¦‚æœåƒè¿™ä¸ªæ¯”èµ›ä¸€æ ·å¾ˆç›´è§‚çš„è¯ï¼Œå¯ä»¥ç›´æ¥å®šä¸‹ Mask RCNNï¼Œå¦‚æœä¸äº†è§£ï¼Œæ‰¾è®ºæ–‡ï¼Œè®ºæ–‡çš„æ¥æºï¼Œè®¨è®ºåŒºæˆ–è®¸æœ‰ï¼Œå¦‚æœä¸æƒ³çœ‹è®ºæ–‡ï¼Œç¿»ç¿»è®¨è®ºåŒºï¼Œçœ‹å‡ºç°é¢‘ç‡æœ€é«˜çš„æ¨¡å‹æ˜¯å“ªä¸ªï¼Œå†å»æ·±å…¥äº†è§£ã€‚\</li>
<li>æ­å¥½æ¨¡å‹ï¼Œå¼„å¥½æ•°æ®é›†ï¼Œå°½æ—©æäº¤ç¬¬ä¸€æ¬¡æˆæœã€‚æ ¹æ®åˆ†æ•°è°ƒæ•´baseline modelï¼Œè®©åˆ†æ•°å°½é‡é«˜ï¼Œè°ƒæ•´çµæ„Ÿå¯æ¥è‡ªè®¨è®ºåŒºï¼Œå’Œå®éªŒçš„ç»“æœåˆ†æã€‚\</li>
<li>å½“baseline model å·²ç»è¾¾åˆ°è‡ªå·±æ‰€èƒ½è°ƒæ•´çš„æé™æ—¶ï¼Œå¼€å§‹å¾€å¤–æ‹“å±•ï¼Œåœ¨baseline modelçš„åŸºç¡€ä¸Šè¿›è¡Œæ¨¡å‹å¤æ‚åŒ–ï¼Œä»¥Mask RCNNä¸ºä¾‹ï¼Œå¯ä»¥æ”¹backboneï¼Œå¯ä»¥åŠ ä¸Šcascadeï¼Œç„¶åæŠŠä¹‹å‰Mask RCNNè°ƒå¥½çš„å‚æ•°ç”¨ä¸Šå»ï¼Œæˆ–è®¸ä¸ä¸€å®šå¾ˆå¥‘åˆï¼Œéœ€è¦å¾®è°ƒï¼Œä½†æˆ‘è®¤ä¸ºè¿™ç§åšæ³•å¹¶ä¸åã€‚ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯æ¬¡æ›´æ”¹æ¨¡å‹å°±é€‰ä¸€ä¸ªæ–¹å‘ï¼Œæ¯”å¦‚å…ˆæ”¹backboneï¼Œè°ƒåˆ°æœ€ä¼˜ï¼Œå†æ”¹å…¶å®ƒï¼Œæœ‰é˜Ÿå‹çš„è¯å¯ä»¥å„è‡ªè´Ÿè´£ä¸€ä¸ªæ–¹å‘ï¼Œä½†åŸºåº•åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚\</li>
</ol>
</blockquote>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ€»è€Œè¨€ä¹‹ï¼Œé€šè¿‡è¿™ä¸ªæ¯”èµ›çœŸçœŸåˆ‡åˆ‡è®¤è¯†åˆ°è§„åˆ’çš„é‡è¦æ€§ï¼Œæ¥ä¸‹æ¥æƒ³å¤šæ‰¾å‡ ä¸ªé¡¹ç›®ç§¯ç´¯ç»éªŒï¼Œå¦å¤–ï¼ŒMMDetectionçš„æºç å¾—çœ‹ï¼Œä¸‹æ¬¡å†ç”¨çš„æ—¶å€™ä¸èƒ½åªå±€é™äºè°ƒconfigã€‚\<br>æš‚æ—¶åªæƒ³åˆ°è¿™äº›ï¼Œä¹‹åå†ä»”ä»”ç»†ç»†å›é¡¾æ•´ä¸ªè¿‡ç¨‹ï¼Œæˆ–è®¸è¿˜æœ‰è¡¥å……ã€‚</p>
]]></content>
      <categories>
        <category>æœªåˆ†ç±»</category>
      </categories>
  </entry>
  <entry>
    <title>å›¾åƒå»å™ª (Graphcuts + Î±-expansion)</title>
    <url>/posts/31.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>è®°å½•ä¸€ç§åŸºäºÎ±æ‹“å±•å’Œå›¾åƒåˆ‡å‰²æŠ€æœ¯çš„å›¾åƒå»å™ªçš„æ–¹æ³•ï¼Œä½œä¸šçš„å…¶ä¸­ä¸€é¢˜ï¼Œè²Œä¼¼ä¹Ÿæ²¡åœ¨ç½‘ä¸Šçœ‹åˆ°ç›¸å…³çš„ä¸œè¥¿ï¼Œè§‰å¾—æŒºæœ‰æ„æ€å°±è®°ä¸€ä¸‹ã€‚é¡ºä¾¿ä¹Ÿæ€»ç»“ä¸€ä¸‹å…¶ä¸­ç”¨åˆ°çš„æ–¹æ³•ã€‚ <span id="more"></span></p>
<h1 id="graph-cuts">Graph Cuts</h1>
<p>è¿™é‡Œä»¥äºŒå…ƒåˆ†å‰²ä¸ºä¾‹ï¼Œå³æ˜¯è¯´ disparity åªå–[0, 1]ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<img src="/images/316.png" /> ç„¶åç°åœ¨å°±è¦å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œåˆ†ç±»ï¼Œæˆ–è€…è¯´åˆ‡å‰²ï¼Œä½†æˆ‘ä»¬è¦æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªåƒç´ å±äºå“ªä¸ª disparity å‘¢ï¼Œè¿™é‡Œå°±è¦å¼•å…¥Costï¼Œæœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§å¦‚ä¸‹å›¾ï¼š<img src="/images/317.png" /> ä¹Ÿå°±æ˜¯è¯´è¿™é‡Œçš„ 5 è¡¨ç¤ºè¯¥åƒç´ <strong>ä¸</strong>åˆ†é…åˆ° <span class="math inline">\(d=1\)</span>çš„Costï¼ŒåŒç†ï¼Œå¯¹äºä¸‹é¢<span class="math inline">\(d=0\)</span>ä¹Ÿä¼šæœ‰å¯¹åº”çš„Costï¼›<br />
ç¬¬äºŒç§æ˜¯ï¼š<img src="/images/318.png" /> ä¹Ÿå³æ˜¯è¯´è¿™é‡Œçš„2è¡¨ç¤ºæŠŠç›¸é‚»åƒç´ åˆ†é…ç»™ä¸åŒdisparityçš„Costã€‚<br />
ç°åœ¨æˆ‘ä»¬è¦è€ƒè™‘çš„å°±æ˜¯å¦‚ä½•æŠŠä¸åŒçš„åƒç´ å½’åˆ°ä¸åŒçš„disparityï¼Œè¿™é‡Œä»‹ç»ä¸€ç§æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼šæœ€å¤§æµ/æœ€å°å‰²æ³• (max-flow/min-cut)ã€‚</p>
<h2 id="æœ€å¤§æµæœ€å°å‰²æ³•-max-flowmin-cut">æœ€å¤§æµ/æœ€å°å‰²æ³• (max-flow/min-cut)</h2>
<h3 id="æœ€å¤§æµ">æœ€å¤§æµ</h3>
<p><strong>è¿™éƒ¨åˆ†ç›´æ¥å»çœ‹ã€å‚è€ƒ1ã€‘æ¯”è¾ƒå¥½</strong></p>
<p>ä¹çœ‹ä¹‹ä¸‹è¿™å¥½åƒæ˜¯ä¸¤ç§æ–¹æ³•ï¼Œä½†åœ¨è¿™é‡Œè¿™ä¸¤ä¸ªä¸œè¥¿å…¶å®æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ã€‚<br />
ã€å‚è€ƒ1ã€‘å…¶å®å·²ç»è®²å¾—å¾ˆå¥½äº†ï¼Œæˆ‘è¿™é‡Œç»“åˆã€å‚è€ƒ2ã€‘å†ç†ä¸€éï¼Œè‡³å°‘è®©æˆ‘å°è±¡æ·±åˆ»ä¸€ç‚¹ã€‚<br />
ä»¥æ°´ç®¡è¾“é€æ°´ä¸ºä¾‹ï¼Œè¦ä»èµ·å§‹ç‚¹é€æ°´åˆ°ç›®æ ‡ç‚¹ï¼ŒæŸä¸€è·¯å¾„æœ€å¤§å…è®¸æµé‡åº”å–å†³äºè¯¥è·¯å¾„æœ€è„†å¼±é‚£æ®µæ°´ç®¡æ‰€èƒ½æ‰¿å—çš„æœ€å¤§æµé‡ï¼Œä¸ç„¶ä¼šçˆ†ï¼Œä»¥ä¸‹å›¾ä¸ºä¾‹: <img src="/images/319.png" title="å›¾æºäºå‚è€ƒ1" /> è¿™é‡Œåªæœ‰ä¸€æ¡è·¯å¾„ï¼Œä¸”æœ€å°å€¼ä¸º2ï¼Œå³æ˜¯è¯´è¯¥è·¯å¾„çš„æœ€å¤§æµä¸º2ã€‚<br />
å¦‚æœè·¯å¾„å¤šä¸€ç‚¹çš„è¯é‚£å°±ä¸å¤ªå¥½ç®—äº†ï¼Œä»¥ä¸‹å›¾ä¸ºä¾‹ï¼š<img src="/images/320.png" title="å›¾æºäºå‚è€ƒ1" /> å¯¹äºè·¯å¾„â€œs-&gt;u-&gt;v-&gt;tâ€ï¼Œæœ€å°å€¼ä¸º2ï¼Œå³è¯¥è·¯å¾„å…è®¸çš„æœ€å¤§æµä¸º2ï¼Œç”¨äº†æµé‡2åå½“å‰çŠ¶æ€å°±å˜æˆä¸‹å›¾çš„çŠ¶æ€äº†ï¼š<img src="/images/321.png" title="å›¾æºäºå‚è€ƒ1" /> (è¿™é‡Œçš„x/y è¡¨ç¤ºå®¹é‡æœ€å¤§ä¸ºyï¼Œç°å·²ç»ç”¨äº†xã€‚)<br />
è¿™æ—¶å€™å°±ä¼šå‘ç°æ²¡è·¯å¾„å¯èµ°äº†ï¼Œå¹¶ä½œå‡ºåˆ¤æ–­ï¼šè¯¥å›¾æœ€å¤§æµä¸º2ã€‚ä½†æ˜¾ç„¶è¿™ç§åˆ¤æ–­æ˜¯é”™çš„ï¼Œä¸‹é¢è¿™ç§æƒ…å†µæ‰æ˜¯å¯¹çš„ï¼š<img src="/images/322.png" title="å›¾æºäºå‚è€ƒ1" /> ä¸ºäº†å¾—åˆ°æ­£ç¡®çš„æµé‡ï¼Œä¸Šé¢é‚£ç§ç®€å•è·¯å¾„å åŠ çš„æ–¹æ³•æ˜æ˜¾æ˜¯è¡Œä¸é€šçš„ï¼Œè¿™æ—¶å€™å°±è¦ç”¨residual graphäº†ã€‚</p>
<h4 id="residual-graph">residual graph</h4>
<p>è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯å¯ä»¥æ’¤é”€ä¹‹å‰çš„æ“ä½œï¼Œè¿™æ ·å°±å¯ä»¥è€ƒè™‘å¾—æ›´å…¨é¢(å­¦è¿‡â€œå›¾â€ç®—æ³•çš„åº”è¯¥å¾ˆå®¹æ˜“ç†è§£ï¼Œä½†æˆ‘æ²¡å­¦è¿‡ï¼Œåªåœ¨leetcodeä¸Šåšè¿‡å¹¿åº¦/æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•é¢˜ï¼Œæ„æ€å·®ä¸å¤šï¼Œæ‰€ä»¥å¯¹è¿™éƒ¨åˆ†æˆ‘åªæ˜¯åŸºæœ¬ç†è§£ï¼Œå¹¶ä¸å…¨é¢)ã€‚<br />
å½“æˆ‘ä»¬é€‰æ‹©äº†è·¯å¾„â€œs-&gt;u-&gt;v-&gt;tâ€æ—¶ï¼Œå…¶å…è®¸çš„æœ€å¤§æµä¸º<strong>2</strong>ï¼Œæ­¤æ—¶æŒ‰ç…§è¿™ä¸ªæµé‡ä»ç»ˆç‚¹å¾€èµ·ç‚¹å›æº¯ï¼Œå›¾å¦‚ä¸‹ï¼š<img src="/images/323.png" title="å›¾æºäºå‚è€ƒ1" />æŠµæ¶ˆéƒ¨åˆ†å¦‚æœæ˜¯0å°±çœç•¥äº†ã€‚<br />
ç„¶åç°åœ¨åœ¨æ ¹æ®è¿™ä¸ªæ–°å›¾æ‰¾ä¸€æ¡æ–°çš„è·¯å¾„ï¼Œæ¯”å¦‚è¯´â€œs-&gt;v-&gt;u-&gt;tâ€ï¼Œå…¶å…è®¸çš„æœ€å¤§æµä¸º<strong>1</strong>ï¼Œå›æº¯ååˆå¾—åˆ°ä¸€ä¸ªæ–°å›¾å¦‚ä¸‹ï¼š<img src="/images/324.png" title="å›¾æºäºå‚è€ƒ1" /> æ ¹æ®è¿™ä¸ªå›¾æˆ‘ä»¬æ²¡åŠæ³•æ‰¾åˆ°æ–°è·¯å¾„äº†ï¼Œæ‰€ä»¥æœ€å¤§æµä¸º2+1=3ï¼Œè¿™å°±æ˜¯æœ€ç»ˆçš„ç»“æœäº†ã€‚<br />
</p>
<h3 id="æœ€å°å‰²">æœ€å°å‰²</h3>
<p>æœ€å°å‰²çš„è¯å°±ç®€å•è¯´äº†ï¼Œå³æ˜¯æŠŠä¸åŒåƒç´ å½’åˆ°ä¸åŒçš„disparityï¼Œä½¿è¿™ç§å½’ç±»æ‰€éœ€çš„èƒ½é‡æœ€å°ï¼Œæ¯”å¦‚è¯´ä¸‹é¢è¿™å¹…å›¾ï¼š<img src="/images/325.png" /></p>
<h1 id="ğ°-expansion">ğ°-expansion</h1>
<p>ä¸Šé¢çš„å›¾å‰²æ³•æ˜¾ç„¶åªå¯¹äºŒåˆ†ç±»æœ‰ç”¨ï¼Œç»å¸¸ç”¨äºåˆ†ç¦»èƒŒæ™¯å’Œç›®æ ‡ç‰©ï¼Œä½†å¦‚æœè¦å¤„ç†å¤šä¸ªæ ‡ç­¾ï¼Œå°±è¦ç”¨åˆ°ğ°-expansionäº†ã€‚<br />
è¿™ç§æ–¹æ³•ç®€å•è¯´å°±æ˜¯è¿­ä»£åœ°ä½¿ç”¨å›¾å‰²æ‰¾åˆ°èƒ½é‡(æˆ–è€…å¯¹æ•°åéªŒ)åœ°å±€éƒ¨æœ€ä¼˜è§£ã€‚<br />
åŸºæœ¬æ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<ol type="1">
<li>åˆå§‹åŒ–disparity mapï¼Œæ¯”å¦‚å…¨éƒ¨è®¾0ï¼›<br />
</li>
<li>ä»¥éšæœºé¡ºåºåå¤æ‰«è¿‡æ‰€æœ‰çš„disparityï¼›<br />
</li>
<li>å°†ä¸­é—´è§£å†³æ–¹æ¡ˆè§†ä¸ºä¸€ä¸ªdisparity levelï¼Œå½“å‰æå‡ºçš„disparity levelè§†ä¸ºå¦ä¸€ä¸ªï¼›<br />
</li>
<li>è§£å†³äºŒè¿›åˆ¶çš„å›¾å‰²é—®é¢˜ï¼›<br />
</li>
<li>é‡å¤è¿›è¡Œï¼Œç›´åˆ°åœ¨ä¸€æ¬¡æ‰«æä¸­æ²¡æœ‰åƒç´ è¢«æ›´æ–°ä¸ºæ­¢ã€‚ã€€</li>
</ol>
</blockquote>
<p>ç”¨å›¾è¡¨ç¤ºçš„è¯å°±æ˜¯ï¼š<img src="/images/326.png" /> ç®€å•è§£é‡Šä¸€ä¸‹ï¼šğ°-expansionå°†å¤šæ ‡ç­¾é—®é¢˜è¡¨ç¤ºæˆä¸€ç³»åˆ—çš„äºŒå…ƒå­é—®é¢˜ï¼Œåœ¨æ¯ä¸€æ­¥é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªæ ‡ç­¾ Î± å¹¶æ‹“å±•ï¼šå¯¹äºæ¯ä¸ªåƒç´ ï¼Œè¦ä¹ˆä¿æŒæ ‡ç­¾åŸæ ·ï¼Œè¦ä¹ˆç”¨ Î± æ›¿æ¢ã€‚æ¯ä¸ªå­é—®é¢˜éƒ½èƒ½ä»¥å…¨å±€æœ€ä¼˜çš„æ–¹å¼å¾—åˆ°è§£å†³ã€‚ a) åˆå§‹æ ‡ç­¾ã€‚ b) æ©™è‰²æ ‡ç­¾æ‰©å¤§ï¼šæ¯ä¸ªæ ‡ç­¾ä¿æŒä¸å˜æˆ–å˜æˆæ©™è‰²ã€‚ c) é»„è‰²æ ‡ç­¾æ‰©å¤§ã€‚ d) çº¢è‰²æ ‡ç­¾æ‰©å¤§ã€‚</p>
<h1 id="ä½œä¸šè§£é‡Š">ä½œä¸šè§£é‡Š</h1>
<p>(ä½œä¸šä»£ç ä¾æ—§åœ¨GitHubé‡Œï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£å°±æ˜¯è¿˜æ²¡æ•´ç†å¥½)<br />
</p>
<p>ğ°-expansion æä¾›äº†ä¸€ç§å¯¹å…·æœ‰å¤šä¸ªæ ‡ç­¾çš„é©¬å°”ç§‘å¤«éšæœºç½‘æ ¼ï¼ˆMRFï¼‰è¿›è¡Œæ¨ç†çš„æ–¹æ³•ï¼Œå°†è§£å†³æ–¹æ¡ˆåˆ†è§£ä¸ºä¸€ç³»åˆ—äºŒè¿›åˆ¶é—®é¢˜ï¼Œå…¶ä¸­æ¯ä¸ªé—®é¢˜éƒ½å¯ä»¥è¢«ç²¾ç¡®è§£å†³ã€‚å…¶ä¸»è¦æ€æƒ³æ˜¯å¯¹æ¯ä¸ªæ ‡ç­¾è¿›è¡Œè¿­ä»£ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½å¯ä»¥é€‰æ‹©ä¿ç•™å…¶å½“å‰æ ‡ç­¾æˆ–åˆ‡æ¢åˆ°æ–°æ ‡ç­¾ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚<br />
è¿™é‡Œå®ç°ä¸€ç§è¿‘ä¼¼ç‰ˆæœ¬çš„ğ°-expansionï¼Œç°å‡è®¾å›¾åƒè¢«æ ‡å‡†å·®ä¸º<span class="math inline">\(\sigma_N\)</span>çš„é«˜æ–¯å™ªéŸ³ç ´åï¼Œå¹¶ä¸”è¿™ä¸ªé«˜æ–¯å™ªéŸ³æ˜¯åƒç´ ç‹¬ç«‹çš„(pixelwise independent)ã€‚<br />
å¯¹äºå°ºå¯¸ä¸º<span class="math inline">\(H\times W\)</span>çš„å›¾åƒï¼Œæ”¾å¼ƒä¸€äº›å¸¸æ•°é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä¸€ä¸ªé€‚å½“çš„ä¼¼ç„¶æ¨¡å‹ï¼š <span class="math display">\[
p(y|x) \propto \prod_{i,j}exp\left\{-\frac{1}{2\sigma^2_N}(x_{i,j}-y_{i,j})^2\right\}
\]</span> è¿™é‡Œ<span class="math inline">\(x,y\in R^{H\times W}\)</span>åˆ†åˆ«æ˜¯åŸå§‹å›¾åƒå’Œè¢«ç ´åçš„å›¾åƒã€‚<br />
</p>
<p>ä¸å†™ä¸‹å»äº†ï¼Œåˆ°æ—¶å€™ç›´æ¥åœ¨ä»£ç é‡ŒåŠ æ³¨é‡Šå§ã€‚ã€‚ã€‚</p>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p><a href="https://seineo.github.io/%E5%9B%BE%E8%AE%BA%EF%BC%9A%E6%9C%80%E5%A4%A7%E6%B5%81%E6%9C%80%E5%B0%8F%E5%89%B2%E8%AF%A6%E8%A7%A3.html">å‚è€ƒ1</a><br />
<a href="https://zhuanlan.zhihu.com/p/58185005">å‚è€ƒ2</a><br />
</p>
]]></content>
      <categories>
        <category>å›¾åƒå¤„ç†</category>
      </categories>
  </entry>
  <entry>
    <title>ä¸‰ç»´é‡å»ºåŸºç¡€ä¸æå‡ ä½•</title>
    <url>/posts/28.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>ä¸€èˆ¬åšä¸‰ç»´é‡å»ºæˆ‘ä»¬æ˜¯é‡‡ç”¨å¤šè§†å›¾çš„ï¼Œå•è§†å›¾è™½ç„¶ä¹Ÿèƒ½åšï¼Œä½†éœ€è¦æœ‰åœºæ™¯çš„å…ˆéªŒä¿¡æ¯ï¼Œæ¯”å¦‚ç‚¹çš„å¯¹åº”å…³ç³»ï¼Œçº¿ã€é¢å‡ ä½•ç­‰ï¼Œæ‰€ä»¥åœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹ï¼ŒåŸºäºå¤šè§†å›¾çš„ä¸‰ç»´é‡å»ºé€‚ç”¨èŒƒå›´æ˜¯è¦ä¼˜äºå•è§†å›¾çš„ï¼Œè¿™é‡Œä»‹ç»ä¸¤è§†å›¾çš„æƒ…å†µï¼ŒåŒ…æ‹¬å®ƒä»¬åŒ…å«çš„å‡ ä½•å…³ç³»ã€‚ <span id="more"></span></p>
<h1 id="ä¸‰è§’æµ‹é‡triangulation">ä¸‰è§’æµ‹é‡(Triangulation)</h1>
<p>æˆ‘ä»¬æƒ³è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼š</p>
<blockquote>
<p>ç°ç»™å®šä¸€ä¸ªä¸‰ç»´ç‚¹åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªå›¾åƒ(ç›¸æœºçŸ©é˜µå·²çŸ¥)ä¸­çš„æŠ•å½±ï¼Œå¸Œæœ›æ‰¾åˆ°è¯¥ç‚¹çš„åæ ‡ã€‚</p>
</blockquote>
<p>ä»¥ä¸¤å›¾åƒæŠ•å½±ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾ï¼š<img src="/images/286.png" /> æ­£å¸¸æ¥è¯´ï¼Œç”±äºç›¸æœºçŸ©é˜µæ˜¯å·²çŸ¥çš„ï¼Œ<span class="math inline">\(O_1x_1\)</span>å’Œ<span class="math inline">\(O_2x_2\)</span>æˆ‘ä»¬éƒ½èƒ½è¡¨ç¤ºå‡ºæ¥ï¼Œä¹Ÿå°±å¾ˆå®¹æ˜“æ±‚å‡ºè¿™ä¸ªç©ºé—´ä¸‰ç»´ç‚¹<span class="math inline">\(X\)</span>äº†ï¼Œç„¶è€Œè¿™æœ‰ä¸ªå‰æï¼Œå°±æ˜¯é‚£ä¸¤æ¡è§†çº¿åº”è¯¥ç›¸äº¤ï¼Œä½†ç”±äºå™ªéŸ³å’Œæ•°å€¼è¯¯å·®ï¼Œè¿™ä¸ªæ¡ä»¶ä¸€èˆ¬éƒ½ä¸èƒ½æ»¡è¶³ã€‚<br />
ä¹Ÿå°±æ˜¯è¯´ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯è¿™æ ·å­çš„ï¼š<img src="/images/287.png" /> æˆ‘ä»¬çš„æƒ³æ³•æ˜¯ï¼šæ‰¾åˆ°è¿æ¥ä¸¤æ¡è§†çº¿çš„æœ€çŸ­çº¿æ®µï¼Œå¹¶è®© X ä¸ºè¯¥çº¿æ®µçš„ä¸­ç‚¹ã€‚å…·ä½“æ“ä½œä¸ºï¼š</p>
<blockquote>
<ol type="1">
<li>å¯»æ‰¾çº¿æ®µçš„æ–¹å‘(å³å‚ç›´äºä¸¤æ¡å°„çº¿);</li>
<li>æ„é€ ä¸¤ä¸ªå¹³é¢ï¼Œæ¯ä¸ªå¹³é¢éƒ½åŒ…å«è¯¥çº¿æ®µä»¥åŠä¸€æ¡å°„çº¿;</li>
<li>å°†è¯¥å¹³é¢ä¸å…¶å®ƒå°„çº¿ç›¸äº¤ä»¥äº§ç”Ÿçº¿æ®µçš„ç«¯ç‚¹;</li>
<li>æ‰¾åˆ°ä¸­ç‚¹ã€‚</li>
</ol>
</blockquote>
<p>æ‰¾æ˜¯æ‰¾åˆ°äº†è¿™ä¸ªç‚¹ï¼Œæ€ä¹ˆæ±‚å‘¢ï¼Œæˆ‘ä»¬ç°åœ¨å·²çŸ¥çš„æ¡ä»¶æœ‰ï¼š<span class="math inline">\(x_1,x_2\)</span>ï¼Œå†…å‚çŸ©é˜µ<span class="math inline">\(K_1,K_2\)</span>ï¼Œæ—‹è½¬å¹³ç§»<span class="math inline">\(R,T\)</span>(ä¹Ÿå°±æ˜¯çŸ¥é“æŠ•å½±çŸ©é˜µ)ï¼Œè¿™é‡Œä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼Œçº¿æ€§æ³•å’Œéçº¿æ€§æ³•ã€‚</p>
<h2 id="çº¿æ€§æ³•">çº¿æ€§æ³•</h2>
<p>çº¿æ€§æ³•çš„è¯ï¼Œç²¾åº¦ä¸é«˜ä½†æ¯”è¾ƒå®¹æ˜“ã€‚<br />
ç”±å…±çº¿å¯çŸ¥ï¼š <span class="math display">\[
x_1\times P_1X=0
\]</span> <span class="math display">\[
x_2\times P_2X=0
\]</span> è¿™æ˜æ˜¾å°±æ˜¯ä¸ªé½æ¬¡çº¿æ€§æ–¹ç¨‹ç»„ï¼Œç”¨SVDåˆ†è§£å¾ˆå¿«å°±åšå‡ºæ¥äº†ï¼Œè¿™åœ¨ä¹‹å‰ç›¸æœºé‚£ç¯‡å·²ç»ä»‹ç»è¿‡ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œ<a href="https://superzlw.github.io/posts/26.html">é“¾æ¥åœ¨è¿™</a>ã€‚<br />
å¯¹äºå¤šäºä¸¤ä¸ªè§†å›¾çš„æƒ…å†µï¼Œæ— éå°±æ˜¯å¤šåˆ—å‡ ä¸ªæ–¹ç¨‹ã€‚</p>
<h2 id="éçº¿æ€§æ³•">éçº¿æ€§æ³•</h2>
<p>è¿™ç§æ–¹æ³•ç®€å•è¯´å°±æ˜¯å¸Œæœ›æ‰¾åˆ°ä¸ª<span class="math inline">\(X\)</span>ï¼Œä½¿å…¶æœ€å°åŒ–ä¸‹é¢è¿™ä¸ªå¼å­ï¼š <span class="math display">\[
d^2(x_1,P_1,X)+d^2(x_2,P_2,X)
\]</span> å¦‚å›¾ï¼š<img src="/images/288.png" /> ä¹Ÿå³æ˜¯è¯´ï¼Œæˆ‘ä»¬è¦æ‰¾çš„é‚£ä¸ªä¸‰ç»´ç‚¹ï¼Œå®ƒæŠ•å½±åˆ°å›¾åƒä¸Šçš„ç‚¹ï¼Œè¦è·Ÿæˆ‘ä»¬è§‚æµ‹ç‚¹è·ç¦»æœ€å°ã€‚ä¹Ÿå°±æ˜¯å›¾ä¸­çš„<span class="math display">\[x_1&#39;x_1+x_2&#39;x_2\]</span>æœ€å°ã€‚<br />
å‡è®¾æˆ‘ä»¬æŠŠä¸–ç•Œåæ ‡ç³»è®¾åœ¨<span class="math inline">\(O_1\)</span>çš„ä½ç½®ï¼Œé‚£ä¹ˆä¸¤ä¸ªæŠ•å½±çŸ©é˜µåˆ†åˆ«ä¸ºï¼š <span class="math display">\[
P_1=K_1[I|0]
\]</span> <span class="math display">\[
P_2=K_2[R|T]
\]</span> è‡³æ­¤æ¡ä»¶éƒ½è¶³å¤Ÿäº†ï¼Œç„¶åé€šè¿‡è¿­ä»£æ±‚è§£å°±è¡Œï¼Œä¸€èˆ¬æ˜¯ç”¨é«˜æ–¯ç‰›é¡¿æ³•æˆ–è€…L-Mæ³•æ±‚è§£ï¼Œè¿™ä¸ªåœ¨å¦ä¸€ç¯‡éçº¿æ€§ä¼˜åŒ–é‡Œä¹Ÿå·²ç»ä»‹ç»è¿‡äº†ï¼Œ<a href="https://superzlw.github.io/posts/15.html">é“¾æ¥åœ¨è¿™</a>ã€‚<br />
</p>
<h1 id="æå‡ ä½•">æå‡ ä½•</h1>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æƒ³çŸ¥é“çš„å°±æ˜¯åŒä¸€åœºæ™¯çš„ä¸¤ä¸ªä¸åŒè§†å›¾ä¹‹é—´çš„å…³ç³»ã€‚<br />
è¿™é‡Œå…ˆç»™å‡ ä¸ªåé¢éœ€è¦ç”¨åˆ°çš„æ¦‚å¿µï¼š<img src="/images/289.png" /></p>
<blockquote>
<ol type="1">
<li>æå¹³é¢(Epipolar plane): è¿‡ç‚¹<span class="math inline">\(P\)</span>ä¸ä¸¤ç›¸æœºä¸­å¿ƒçš„å¹³é¢;</li>
<li>åŸºçº¿(baseline): <span class="math inline">\(O_1\)</span>ä¸<span class="math inline">\(O_2\)</span>çš„è¿çº¿;</li>
<li>æçº¿(epipolar lines): æå¹³é¢ä¸æˆåƒå¹³é¢çš„äº¤çº¿ï¼Œä¹Ÿå°±æ˜¯<span class="math inline">\(p_1e_1\)</span>å’Œ<span class="math inline">\(p_2e_2\)</span>;</li>
<li>æç‚¹(Epipole): åŸºçº¿ä¸æˆåƒå¹³é¢çš„äº¤ç‚¹ï¼Œä¹Ÿå°±æ˜¯<span class="math inline">\(e_1\)</span>å’Œ<span class="math inline">\(e_2\)</span>ã€‚(å¯ä»¥åœ¨å¯è§åŒºåŸŸä¹‹å¤–)</li>
</ol>
</blockquote>
<p>ç°åœ¨æ¥çœ‹è¿™ä¸ªå›¾ï¼š<img src="/images/290.png" /> å…³äºè¿™ä¸ªæå‡ ä½•æœ‰å‡ ä¸ªæ€§è´¨éœ€è¦æä¸€ä¸‹(ç¬¬3,4ç‚¹æ¯”è¾ƒé‡è¦):</p>
<blockquote>
<ol type="1">
<li>æå¹³é¢ç›¸äº¤äºåŸºçº¿;</li>
<li>æçº¿ç›¸äº¤äºæç‚¹;</li>
<li><span class="math inline">\(p_1\)</span>çš„å¯¹åº”ç‚¹è½åœ¨æçº¿<span class="math inline">\(p_2e_2\)</span>ä¸Š;</li>
<li><span class="math inline">\(p_2\)</span>çš„å¯¹åº”ç‚¹è½åœ¨æçº¿<span class="math inline">\(p_1e_1\)</span>ä¸Š;</li>
</ol>
</blockquote>
<p>æœ€åä¸¤ä¸ªæ€§è´¨è¡¨æ˜ï¼Œæˆ‘ä»¬è¦æ‰¾ä¸€ä¸ªåƒç‚¹åœ¨å¦ä¸€ä¸ªå¹³é¢çš„å¯¹åº”ç‚¹æ—¶ï¼Œä¸ç”¨æ•´å¼ å›¾å»æ‰¾ï¼Œåªè¦æ‰¾æçº¿å°±è¡Œäº†ã€‚<br />
æ¥çœ‹å‡ ä¸ªç‰¹ä¾‹ï¼š<br />
<strong>(1). å¹³è¡Œè§†å›¾ï¼š</strong><img src="/images/291.png" /></p>
<blockquote>
<p>ä¸¤ä¸ªå›¾åƒå¹³è¡Œï¼›<br />
åŸºçº¿å¹³è¡Œäºå›¾åƒå¹³é¢ï¼Œä¸¤æç‚¹ä½äºæ— ç©·è¿œå¤„ï¼›<br />
æçº¿å¹³è¡Œäºå›¾åƒåæ ‡è½´çš„å…¶ä¸­ä¸€æ¡è½´ã€‚<br />
</p>
</blockquote>
<p><strong>(2). å‰åå¹³ç§»ï¼š</strong><img src="/images/292.png" /></p>
<blockquote>
<p>ä¸¤å¹…å›¾æç‚¹ä½ç½®ç›¸åŒï¼Œæç‚¹ç§°ä¸ºå±•å¼€ç„¦ç‚¹ã€‚</p>
</blockquote>
<h2 id="æå‡ ä½•çº¦æŸ">æå‡ ä½•çº¦æŸ</h2>
<p>ç°åœ¨æˆ‘ä»¬æƒ³è¦çŸ¥é“çš„æ˜¯ï¼Œä¸€ä¸ªå›¾ä¸­çš„ç‚¹å’Œå¦ä¸€å¹…å›¾ä¸­ç‚¹çš„å¯¹åº”å…³ç³»ã€‚<br />
å¦‚ä¸‹å›¾ï¼š<img src="/images/293.png" /> æ˜æ˜¾ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹å…³ç³»(è¿™äº›å…³ç³»éƒ½æ˜¯ç­‰ä»·çš„ï¼Œä¸€ä¸ªæ„æ€)ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(\overrightarrow{O_1P},\overrightarrow{O_2P},\overrightarrow{O_1O_2}\)</span> å…±é¢;<br />
</li>
<li><span class="math inline">\(\overrightarrow{O_1p_1},\overrightarrow{O_2p_2},\overrightarrow{O_1O_2}\)</span> å…±é¢;<br />
</li>
<li><span class="math inline">\(\overrightarrow{O_1p_1}\cdot [\overrightarrow{O_1O_2}\times \overrightarrow{O_2p_2}]=0\)</span>ã€‚</li>
</ol>
</blockquote>
<h3 id="æœ¬è´¨çŸ©é˜µæƒ…å†µä¸‹">æœ¬è´¨çŸ©é˜µæƒ…å†µä¸‹</h3>
<p>è¿™ç§æƒ…å†µæˆ‘ä»¬è€ƒè™‘çš„æ˜¯è§„èŒƒåŒ–ç›¸æœºï¼Œè§„èŒƒåŒ–ç›¸æœºæ˜¯æŒ‡ç›¸æœºå†…å‚æ•°çŸ©é˜µä¸ºå•ä½çŸ©é˜µçš„ç›¸æœºï¼Œå³æ˜¯ï¼š <span class="math display">\[
K=
\begin{bmatrix}
1&amp;0&amp;0\\
0&amp;1&amp;0\\
0&amp;0&amp;1
\end{bmatrix}
\]</span> å‡è®¾<span class="math inline">\(p_1=(u_1,v_1,1)^T\)</span>ï¼Œ<span class="math inline">\(p_2=(u_2,v_2,1)^T\)</span>ï¼Œä¸Šé¢æœ€åä¸€ä¸ªå…³ç³»(3)å°±ç­‰ä»·äºï¼š <span class="math display">\[
p_1^T[t\times (Rp_2)]=0
\]</span> ä¸Šé¢è¿™ä¸ªå‘¢å°±æ˜¯å¤–ææ€§çº¦æŸäº†ã€‚<br />
å‰ä¹˜çš„è¯å¯ä»¥è¡¨ç¤ºæˆçŸ©é˜µå½¢å¼ï¼Œæ¯”å¦‚è¯´ <span class="math display">\[
a\times b = 
\begin{bmatrix}
0&amp;-a_z&amp;a_y\\
a_z&amp;0&amp;-a_x\\
-a_y&amp;a_x&amp;0
\end{bmatrix}
\begin{bmatrix}
b_x\\
b_y\\
b_z
\end{bmatrix}=
[a]_{\times}b
\]</span> æ‰€ä»¥æœ¬è´¨çŸ©é˜µï¼š<span class="math inline">\(E=[t]_{\times}R\)</span><br />
å°†ä¸Šé¢é‚£ä¸ªå¤–ææ€§çº¦æŸç”¨æœ¬è´¨çŸ©é˜µæè¿°çš„è¯æ˜¯: <span class="math display">\[
p_1^T[t\times (Rp_2)]=p_1^TEp_2=0
\]</span> ä¹Ÿå°±æ˜¯è¯´ç©ºé—´ä¸€ä¸ªä¸‰ç»´ç‚¹åœ¨åŒè§†å›¾ä¸­å¿…é¡»æ»¡è¶³ <span class="math inline">\(p_1^TEp_2=0\)</span>ã€‚<br />
éšç€è¿™ä¸ªæœ¬è´¨çŸ©é˜µå¸¦æ¥çš„ï¼Œè¿˜æœ‰ä¸‹é¢ä¸€ç³»åˆ—çš„é‡è¦æ€§è´¨ï¼š</p>
<blockquote>
<ol type="1">
<li>æçº¿ç”¨æœ¬è´¨çŸ©é˜µå¯è¡¨ç¤ºä¸ºï¼š<span class="math inline">\(l_1=Ep_2\)</span>, <span class="math inline">\(l_2=E^Tp_1\)</span>;</li>
<li><span class="math inline">\(e_1^TE=E^Te_1=0\)</span>ä¸<span class="math inline">\(Ee_2=0\)</span>;</li>
<li>æœ¬è´¨çŸ©é˜µæ˜¯å¥‡å¼‚çš„ï¼Œç§©ä¸º2; å‰©ä¸‹çš„ä¸¤ä¸ªç‰¹å¾å€¼ç›¸ç­‰;</li>
<li>æœ¬è´¨çŸ©é˜µæœ‰5ä¸ªè‡ªç”±åº¦(ä¸‰ä¸ªæ—‹è½¬+ä¸‰ä¸ªå¹³ç§»ï¼Œä½†<span class="math inline">\(det(E)=0\)</span>å»æ‰äº†ä¸€ä¸ªï¼Œæˆ–è€…è¯´ç”±äºæ¯”ä¾‹æ˜¯ä»»æ„çš„ï¼Œæ‰€ä»¥å»æ‰äº†ä¸€ä¸ª)ã€‚</li>
</ol>
</blockquote>
<p>(ä¸Šé¢4ä¸ªæ€§è´¨éƒ½å®¹æ˜“è¯æ˜ï¼Œå°±ä¸å†™äº†ï¼Œä½†æœ‰ä¸€ä¸ªæ€§è´¨éœ€è¦è®°ä½ï¼š<strong>åå¯¹ç§°çŸ©é˜µçš„ç§©æ˜¯å¶æ•°çš„</strong>)<br />
</p>
<p>ä¸¾ä¸ªå¹³è¡Œç›¸æœºçš„ä¾‹å­ï¼Œå¦‚å›¾ï¼š<img src="/images/294.png" /> ç”±äºæ˜¯å¹³è¡Œçš„ï¼Œ<span class="math inline">\(R=I\)</span>ï¼Œå¹³ç§»é‡ä¸º<span class="math inline">\(b\)</span>ï¼Œåˆ™<span class="math inline">\(t=[-b,0,0]\)</span>ï¼Œæ‰€ä»¥æœ¬è´¨çŸ©é˜µä¸ºï¼š <span class="math display">\[
E=[t]_{\times}R=
\begin{bmatrix}
0&amp;0&amp;0\\
0&amp;0&amp;b\\
0&amp;-b&amp;0
\end{bmatrix}
\]</span> ç”±çº¦æŸæ¡ä»¶ <span class="math inline">\(p_{1}^TEp_2=0\)</span> å¾—ï¼š <span class="math display">\[
\begin{split}
0 &amp;=p_{1}^TEp_2 \\\\
&amp;= [x_1,y_1,1]\begin{bmatrix}
0&amp;0&amp;0\\
0&amp;0&amp;b\\
0&amp;-b&amp;0
\end{bmatrix}\begin{bmatrix}
x_2\\
y_2\\
1
\end{bmatrix}\\\\
&amp;= [x_1,y_1,1]\begin{bmatrix}
0\\
b\\
-by_2
\end{bmatrix}\\\\
&amp;= by_1-by_2
\end{split}
\]</span> è§£å¾—ï¼š<span class="math inline">\(y_1=y_2\)</span>, <span class="math inline">\(x_2\)</span> ä»»æ„ã€‚</p>
<h3 id="åŸºç¡€çŸ©é˜µæƒ…å†µä¸‹">åŸºç¡€çŸ©é˜µæƒ…å†µä¸‹</h3>
<p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬çš„ç›¸æœºéƒ½ä¸æ˜¯è§„èŒƒåŒ–çš„ç›¸æœºï¼Œè€Œæ˜¯æ™®é€šçš„ä¸€èˆ¬åŒ–ç›¸æœºï¼Œä¸é€‚ç”¨äºä¸Šé¢çš„æƒ…å†µï¼Œè¿™æ—¶å€™å°±å¼•å‡ºäº†ä¸æœ¬è´¨çŸ©é˜µç›¸å¯¹çš„â€œåŸºç¡€çŸ©é˜µâ€ã€‚<br />
ä¾æ—§æ˜¯è¿™ä¸ªå›¾ï¼š<img src="/images/295.png" /> ä½†è¿™æ—¶å€™çš„<span class="math inline">\(K\)</span>ä¸å†æ˜¯å•ä½çŸ©é˜µäº†ï¼Œæ€ä¹ˆåšï¼Ÿ<br />
æœ€ç›´æ¥çš„æƒ³æ³•å°±æ˜¯æŠŠå®ƒè½¬åŒ–ä¸ºè§„èŒƒåŒ–ç›¸æœºã€‚<br />
æˆ‘ä»¬å‡è®¾ä¸¤ä¸ªå†…å‚çŸ©é˜µåˆ†åˆ«æ˜¯:<span class="math inline">\(K_1,K_2\)</span>ï¼Œè¿™ä¸¤ä¸ªæ˜¯å·²çŸ¥çš„ã€‚ç„¶åæœ‰å¦‚ä¸‹å…³ç³»ï¼š <span class="math display">\[
x_1=K[I\;0]P
\]</span> å³æ˜¯: <span class="math display">\[
K^{-1}x_1=K^{-1}K[I\;0]P=
\begin{bmatrix}
1&amp;0&amp;0&amp;0\\
0&amp;1&amp;0&amp;0\\
0&amp;0&amp;1&amp;0
\end{bmatrix}P
\]</span> è®¾ï¼š<span class="math inline">\(K^{-1}x_1=x_{1c}\)</span>, æ‰€ä»¥æœ‰ï¼š <span class="math display">\[
x_{1c}=\begin{bmatrix}
1&amp;0&amp;0&amp;0\\
0&amp;1&amp;0&amp;0\\
0&amp;0&amp;1&amp;0
\end{bmatrix}P
\]</span> åŒç†ï¼Œ<span class="math inline">\(K_2^{-1}x_2=x_{2c}\)</span> å¦‚æ­¤å¾—å‡ºæ¥çš„<span class="math inline">\(x_{1c},x_{2c}\)</span>å°±æ˜¯è§„èŒƒåŒ–ç›¸æœºä¸‹<span class="math inline">\(P\)</span>çš„å¯¹åº”ç‚¹ã€‚<br />
æ–‡å­—æè¿°çš„è¯å°±æ˜¯ï¼šæŠŠæˆåƒå¹³é¢ä¸Šå®é™…è§‚æµ‹ç‚¹ä¹˜ä»¥è¯¥ç›¸æœºå†…å‚æ•°çŸ©é˜µçš„é€†çŸ©é˜µï¼Œå°±å¯ä»¥å¾—åˆ°å¯¹åº”çš„è§„èŒƒåŒ–ç›¸æœºä¸‹çš„ç‚¹ã€‚<br />
ç”±æœ¬è´¨çŸ©é˜µçš„æ€§è´¨æœ‰: <span class="math display">\[
x_{2c}^TEx_{1c}=x_{2c}^T[t]_{\times}Rx_{1c}=(K_2^{-1}x_2)^T\cdot [t]_{\times}RK_{1}^{-1}x_1=x_2^TK_2^{-T}[t]_{\times}RK_{1}^{-1}x_1=0
\]</span> ä¸­é—´è¿™ä¸²å°±æ˜¯æˆ‘ä»¬è¦å¼•å‡ºçš„åŸºç¡€çŸ©é˜µ<span class="math inline">\(F\)</span>ï¼š<span class="math inline">\(F=K_2^{-T}[t]_{\times}RK_{1}^{-1}\)</span>ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥æœ‰å¦‚ä¸‹ç»“è®ºï¼š <span class="math display">\[
x_2^TFx_1=0
\]</span> åŸºç¡€çŸ©é˜µæœ‰ä¸æœ¬è´¨çŸ©é˜µç±»ä¼¼çš„æ€§è´¨ï¼Œå¦‚ä¸‹ï¼š</p>
<blockquote>
<ol type="1">
<li>æçº¿åˆ†åˆ«æ˜¯ï¼š<span class="math inline">\(l_1=Fx_1\)</span>å’Œ<span class="math inline">\(l_2=F^Tx_2\)</span>;</li>
<li><span class="math inline">\(Fe_1=0\)</span>ä¸<span class="math inline">\(F^Te_2=e_2^TF=0\)</span>;</li>
<li><span class="math inline">\(F\)</span>æ˜¯å¥‡å¼‚çš„ï¼Œç§©ä¸º2;</li>
<li><span class="math inline">\(F\)</span>æœ‰7ä¸ªè‡ªç”±åº¦(å°ºåº¦ä»»æ„ï¼Œ<span class="math inline">\(det(F)=0\)</span>)ã€‚</li>
</ol>
</blockquote>
<h2 id="ä¼°è®¡åŸºç¡€çŸ©é˜µå½’ä¸€åŒ–å…«ç‚¹ç®—æ³•">ä¼°è®¡åŸºç¡€çŸ©é˜µï¼šå½’ä¸€åŒ–å…«ç‚¹ç®—æ³•</h2>
<p><span class="math inline">\(F\)</span>æœ‰7ä¸ªè‡ªç”±åº¦ï¼Œç†è®ºä¸Š7ä¸ªç‚¹å°±å¯ä»¥æ±‚è§£äº†ï¼Œä½†è¿™æ ·åšçš„è¯è§£æ˜¯éçº¿æ€§çš„ï¼Œå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥è¿™é‡Œç”¨8ä¸ªç‚¹ï¼Œä¿—ç§°â€œå…«ç‚¹ç®—æ³•â€ã€‚<br />
ç°å‡è®¾ä¸€ä¸ªä¸‰ç»´ç‚¹åœ¨ä¸¤æˆåƒå¹³é¢ä¸Šçš„è§‚æµ‹ç‚¹åˆ†åˆ«ä¸ºï¼š<span class="math inline">\([x&#39;,y&#39;,1]\)</span>å’Œ<span class="math inline">\([x,y,1]\)</span>ï¼ŒæŒ‰ç…§ä¸Šé¢çš„ç»“è®ºæˆ‘ä»¬æœ‰ï¼š <span class="math display">\[
\begin{bmatrix}
x&#39;&amp;y&#39;&amp;1
\end{bmatrix}
\begin{bmatrix}
F_{11}&amp;F_{12}&amp;F_{13}\\
F_{21}&amp;F_{22}&amp;F_{23}\\
F_{31}&amp;F_{32}&amp;F_{33}
\end{bmatrix}
\begin{bmatrix}
x\\y\\1
\end{bmatrix}
=0
\]</span> å±•å¼€çš„è¯å³æ˜¯ï¼š <span class="math display">\[
\begin{bmatrix}
xx&#39;&amp;yx&#39;&amp;x&#39;&amp;xy&#39;&amp;yy&#39;&amp;y&#39;&amp;x&amp;y&amp;1
\end{bmatrix}
\begin{bmatrix}
F_{11}\\F_{12}\\F_{13}\\F_{21}\\F_{22}\\F_{23}\\F_{31}\\F_{32}\\F_{33}\\
\end{bmatrix}=0
\]</span> ç®€å†™æˆï¼š <span class="math display">\[
Af=0
\]</span> ç”±äº<span class="math inline">\(f\)</span>ä¸èƒ½ä¸º0ï¼Œæ‰€ä»¥æ·»åŠ ä¸€ä¸ªçº¦æŸï¼š<span class="math inline">\(||f||=1\)</span>ï¼Œè¿™ï¼Œåˆæ˜¯å¸¦çº¦æŸçš„é½æ¬¡æ–¹ç¨‹ï¼Œæ­£ç»8ä¸ªç‚¹çš„è¯ç›´æ¥ç®—ï¼Œä½†ä¸€èˆ¬æˆ‘ä»¬ä¼šç”¨å¤šäº8ä¸ªç‚¹å»ä¼°è®¡ï¼Œä»¥å‡å°‘è¯¯å·®ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨SVDåˆ†è§£ï¼Œç›¸å…³è®¡ç®—çœ‹ç›¸æœºé‚£ç¯‡ï¼Œ<a href="https://superzlw.github.io/posts/26.html">åœ¨è¿™</a>ã€‚<br />
ä½†æ˜¯åœ¨è®¡ç®—ä¹‹å‰æˆ‘ä»¬ä¸èƒ½å¿˜äº†æ•°å€¼ç¨³å®šæ€§ï¼Œä¹Ÿå°±æ˜¯è¯´æ–¹ç¨‹ç»„çš„ç³»æ•°åº”è¯¥åœ¨åŒä¸€æ•°é‡çº§ï¼Œæ¯”å¦‚åƒç´ æ˜¯<span class="math inline">\(1E6\)</span>ï¼Œä¹Ÿå°±æ˜¯è¯´è¦é¢„å¤„ç†ï¼Œä¸ç„¶ä¼šç”±äºæ•°å€¼å·®å¼‚å¾ˆå¤§å¯¼è‡´æœ€åç»“æœç²¾åº¦å¾ˆä½ã€‚æ–¹æ³•è¿‡ç¨‹å¦‚ä¸‹ï¼š<img src="/images/296.png" /> ä¹‹åå°±å¯ä»¥æ±‚è§£äº†ã€‚ ä½†ç”¨è¿™ç§æ–¹æ³•ç®—å‡ºæ¥çš„è¿˜ä¸æ˜¯æˆ‘ä»¬è¦æ±‚çš„åŸºç¡€çŸ©é˜µï¼Œå› ä¸ºåŸºç¡€çŸ©é˜µçš„ç§©åº”è¯¥æ˜¯2ï¼Œè€Œè¿™ç§æ–¹æ³•ç®—å‡ºæ¥çš„çŸ©é˜µç§©é€šå¸¸ä¸º3ï¼Œå³æ»¡ç§©ã€‚<br />
è¦è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿç®€å•(ä¸”ç²—æš´)ï¼ŒåŠ å…¥åœ¨ä¸Šé¢æˆ‘ä»¬æ±‚å‡ºæ¥çš„æ»¡ç§©â€œåŸºç¡€çŸ©é˜µâ€ä¸º <span class="math inline">\(\widetilde{F}\)</span>ï¼Œæˆ‘ä»¬å¯¹å…¶å†åšä¸€æ¬¡SVDåˆ†è§£ï¼š <span class="math display">\[
\widetilde{F}=U_F\widetilde{D}_FV_{F}^T
\]</span> ä»¤ï¼š <span class="math display">\[
D_F=\widetilde{D}_F \quad , \quad D_{F,33}=0
\]</span> æ¥ç€å›æ„ï¼š <span class="math display">\[
\overline{F}=U_FD_FV_F^T
\]</span> ç”±äºä¸Šé¢æˆ‘ä»¬å¯¹åæ ‡è¿›è¡Œäº†å¤„ç†ï¼Œæœ€åä¸€æ­¥æŠŠ<span class="math inline">\(\overline{F}\)</span>è¿”å›å»ï¼š <span class="math display">\[
F=T&#39;^T\overline{F}T
\]</span> ç”¨è¿™ç§å¥‡å¼‚å€¼ç½®é›¶çš„æ–¹æ³•æˆ‘ä»¬å¯ä»¥ä¿è¯æ±‚å‡ºçš„<span class="math inline">\(F\)</span>æ»¡è¶³åœ¨çº¦æŸ <span class="math inline">\(det(F)=0\)</span> çš„æƒ…å†µä¸‹æœ€å°åŒ– <span class="math inline">\(||F-\widetilde{F}||_F\)</span><br />
è‡³æ­¤æ±‚è§£å°±ç»“æŸäº†ã€‚<br />
ä¸Šè¿°è¿‡ç¨‹å¯ä»¥ç”¨ä¸‹é¢è¿™å¼ å›¾æ€»ç»“ï¼š<img src="/images/297.png" /></p>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p>ã€1ã€‘ https://www.youtube.com/watch?v=BKVEvj9F_H4&amp;list=LL&amp;index=42</p>
]]></content>
      <categories>
        <category>å›¾åƒå¤„ç†</category>
      </categories>
  </entry>
  <entry>
    <title>RANSACç®—æ³•</title>
    <url>/posts/27.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>å½“æˆ‘ä»¬æœ‰ä¸€ç»„æ•°æ®éœ€è¦æ‹Ÿåˆæ¨¡å‹çš„æ—¶å€™ï¼Œæœ€ç®€å•çš„æ˜¯ç”¨æœ€å°äºŒä¹˜æ³•ï¼Œåˆå«çº¿æ€§å›å½’å»æ‹Ÿåˆï¼Œç„¶è€Œè¿™ç§æ–¹æ³•æ˜¯ç”¨æ‰€æœ‰æ•°æ®å»æ‹Ÿåˆï¼Œå¦‚æœæ‰€æœ‰æ•°æ®éƒ½æ˜¯è·Ÿæ¨¡å‹æœ‰å…³çš„è¯ï¼Œé‚£æ•ˆæœåº”è¯¥è¿˜è¡Œï¼Œä½†å¦‚æœæˆ‘ä»¬çš„æ•°æ®é›†æœ‰å¾ˆå¤šæ•°æ®æ˜¯å±äº"outliers"çš„è¯ï¼Œæ•ˆæœå°±ä¼šå¾ˆå·®ï¼Œè¿™æ—¶å€™å¯ä»¥ç”¨è¿™ç¯‡çš„è¿™ä¸ªç®—æ³•ï¼šRANSACç®—æ³•ã€‚ <span id="more"></span></p>
<h1 id="ç®€ä»‹">ç®€ä»‹</h1>
<p>ç”¨è¿™ä¸ªç®—æ³•çš„å‰ææ˜¯ï¼Œæˆ‘ä»¬å‡è®¾ï¼šæˆ‘ä»¬çš„æ•°æ®æ˜¯ç”±"inliers"å’Œ"outliers"ç»„æˆçš„ï¼Œå¹¶ä¸”è¿™ä¸ª"outliers"è¿˜ä¸å°‘(å°‘çš„è¯ä¹Ÿå¯ä»¥ç”¨ï¼Œçœ‹æœ‰æ²¡æœ‰å¿…è¦è€Œå·²)ï¼Œè€Œä¸”æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸ª"inliers"å¤§æ¦‚å äº†å¤šå°‘ï¼Œè¿™ä¸ªé‡å±äºå…ˆéªŒï¼Œéœ€è¦äº‹å…ˆçŸ¥é“çš„ã€‚å®é™…å®ç°ç®—æ³•æ—¶æˆ‘ä»¬è¿˜éœ€è¦ç¡®å®šçš„æœ‰ä»¥ä¸‹å‡ ä¸ªå‚æ•°</p>
<blockquote>
<ol type="1">
<li>å¾—åˆ°æ­£ç¡®æ¨¡å‹çš„æ¦‚ç‡ï¼šå­—é¢æ„æ€ï¼Œå°±æ˜¯è¯´æœ‰å¤šå¤§æ¦‚ç‡èƒ½å¾—åˆ°æ­£ç¡®æ¨¡å‹ï¼Œå³æ˜¯é€‰å‡ºçš„ç”¨äºæ‹Ÿåˆæ¨¡å‹çš„ç‚¹éƒ½æ˜¯"inliers"ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ç”¨æ¥ç®—æœ€å¤§è¿­ä»£æ¬¡æ•°çš„;</li>
<li>è¿­ä»£æ¬¡æ•°ï¼šè¿™ä¸ªå¯ä»¥æ ¹æ®ä¸Šé¢çš„æ¦‚ç‡æ¥ç®—ï¼Œä¸‹é¢ä¼šè§£é‡Š;</li>
<li>æ¨¡å‹å‚æ•°çš„æ•°ç›®ï¼šä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦çŸ¥é“æ‹Ÿåˆçš„è¿™ä¸ªæ¨¡å‹æˆ‘ä»¬éœ€è¦å¤šå°‘å‚æ•°ï¼Œæ¯”å¦‚ç›´çº¿æ˜¯2ä¸ªï¼ŒHomographyçŸ©é˜µæ˜¯4ä¸ª;</li>
<li>é˜ˆå€¼ï¼šå³æ˜¯åˆ¤æ–­ç‚¹å±äº"inliers"è¿˜æ˜¯"outliers"ã€‚</li>
</ol>
</blockquote>
<h2 id="è®¡ç®—è¿­ä»£æ¬¡æ•°">è®¡ç®—è¿­ä»£æ¬¡æ•°</h2>
<p>æ¯”å¦‚è¯´ï¼Œæ‰€æœ‰æ•°æ®ä¸­"inliers"å çš„æ¯”é‡ä¸º<span class="math inline">\(w\)</span>ï¼Œæ‹Ÿåˆæ¨¡å‹éœ€è¦<span class="math inline">\(d\)</span>ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´<span class="math inline">\(d\)</span>ä¸ªæ•°æ®ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»æ•°æ®ä¸­é€‰å‡º<span class="math inline">\(d\)</span>ä¸ªæ•°æ®éƒ½æ˜¯"inliers"çš„æ¦‚ç‡æ˜¯: <span class="math inline">\(w^d\)</span>ï¼Œè‡³å°‘æœ‰ä¸€ä¸ª"outliers"çš„æ¦‚ç‡æ˜¯ <span class="math inline">\((1-w^d)\)</span>ï¼Œ<span class="math inline">\(k\)</span>æ¬¡å¾ªç¯æ¯æ¬¡éƒ½è‡³å°‘æœ‰ä¸€ä¸ª"outliers"çš„æ¦‚ç‡æ˜¯ï¼š <span class="math display">\[
(1-w^d)^k
\]</span> é‚£ä¹ˆé€‰åˆ°æ­£ç¡®<span class="math inline">\(d\)</span>ä¸ª"inliers"çš„æ¦‚ç‡æ˜¯ï¼š <span class="math display">\[
P=1-(1-w^d)^k
\]</span> æ±‚å¾—ï¼š <span class="math display">\[
k=\frac{\log(1-P)}{\log(1-w^d)}
\]</span></p>
<h1 id="ä»£ç ">ä»£ç </h1>
<p>(å› ä¸ºè¿™ä¸ªç®—æ³•ä¸éš¾ï¼Œè¿™ä¸ªä»£ç ä¹Ÿæ˜¯éšæ‰‹å†™çš„ï¼Œæ‰€ä»¥è¿™ä¸ªä»£ç é£æ ¼å¾ˆä¸å¥½ï¼Œå‚æ•°å‘½åä¹Ÿä¸å¤ªè¡Œã€‚æ‰€ä»¥è¿™ä¸œè¥¿ï¼Œå¤§æ¦‚çœ‹çœ‹å°±å¥½)ã€‚<br />
è¿™é‡Œæ˜¯ç”¨æœ€ç®€å•çš„ç›´çº¿æ‹Ÿåˆï¼Œæœ‰40ä¸ª"inliers"ï¼Œéƒ½æ·»åŠ äº†é«˜æ–¯å™ªéŸ³ï¼Œå¹¶ä¸”æœ‰60ä¸ªéšæœºçš„"outliers"ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Gauss_noise</span>(<span class="params">data</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        data: ndarray, (2,n)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    noise_x = np.random.normal(<span class="number">0</span>,<span class="number">1</span>,<span class="built_in">len</span>(data[<span class="number">0</span>]))</span><br><span class="line">    noise_y = np.random.normal(<span class="number">0</span>,<span class="number">1</span>,<span class="built_in">len</span>(data[<span class="number">1</span>]))</span><br><span class="line">    data[<span class="number">1</span>] += noise_y</span><br><span class="line">    data[<span class="number">0</span>] += noise_x</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">real_model</span>(<span class="params">x</span>):</span></span><br><span class="line">    a = <span class="number">4</span></span><br><span class="line">    b = <span class="number">6.9</span></span><br><span class="line">    y = a * x + b</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outliers</span>(<span class="params">nums = <span class="number">60</span></span>):</span></span><br><span class="line">    down = <span class="number">0</span></span><br><span class="line">    up = <span class="number">40</span></span><br><span class="line">    outliers = np.random.rand(<span class="number">2</span>, nums)*<span class="number">60</span></span><br><span class="line">    <span class="keyword">return</span> outliers</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">inliers_nums = <span class="number">40</span></span><br><span class="line">outliers_nums = <span class="number">60</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">20</span>,inliers_nums).reshape(<span class="number">1</span>,-<span class="number">1</span>)</span><br><span class="line">y = real_model(x)</span><br><span class="line">inliers = np.concatenate((x,y), axis=<span class="number">0</span>)</span><br><span class="line">inliers = Gauss_noise(inliers)</span><br><span class="line">outliers = outliers(outliers_nums)</span><br><span class="line"></span><br><span class="line">data = np.concatenate((inliers, outliers),axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">data_nums = <span class="built_in">len</span>(data[<span class="number">0</span>])</span><br><span class="line">    </span><br><span class="line">estimate_a = <span class="number">0.</span></span><br><span class="line">estimate_b = <span class="number">0.</span></span><br><span class="line"></span><br><span class="line">accuracy = <span class="number">0.99</span></span><br><span class="line">error = <span class="number">0.8</span></span><br><span class="line">current_inliers = <span class="number">0</span></span><br><span class="line">curr_iter = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">accept_nums = <span class="built_in">int</span>(<span class="number">0.4</span> * data_nums)</span><br><span class="line"></span><br><span class="line">max_iter = np.log(<span class="number">1</span> - accuracy) / np.log(<span class="number">1</span> - (inliers_nums / data_nums)**<span class="number">2</span>)</span><br><span class="line"><span class="keyword">while</span> current_inliers &lt; accept_nums <span class="keyword">and</span> curr_iter &lt; max_iter:</span><br><span class="line">    curr_iter += <span class="number">1</span></span><br><span class="line">    ids = np.random.choice(<span class="built_in">range</span>(data_nums), <span class="number">2</span>, replace = <span class="literal">False</span>)</span><br><span class="line">    x_1 = data[<span class="number">0</span>,ids[<span class="number">0</span>]]</span><br><span class="line">    x_2 = data[<span class="number">0</span>,ids[<span class="number">1</span>]]</span><br><span class="line">    y_1 = data[<span class="number">1</span>,ids[<span class="number">0</span>]]</span><br><span class="line">    y_2 = data[<span class="number">1</span>,ids[<span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">    a = (y_2 - y_1) / (x_2 - x_1)</span><br><span class="line">    b = y_1 - a * x_1</span><br><span class="line"></span><br><span class="line">    tmp_inliers = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(data_nums):</span><br><span class="line">        y = a * data[<span class="number">0</span>,i] + b</span><br><span class="line">        <span class="keyword">if</span> np.<span class="built_in">abs</span>(data[<span class="number">1</span>,i] - y) &lt; error:</span><br><span class="line">            tmp_inliers += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> tmp_inliers &gt;= current_inliers:</span><br><span class="line">        estimate_a = a</span><br><span class="line">        estimate_b = b</span><br><span class="line">        current_inliers = tmp_inliers</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.scatter(data[<span class="number">0</span>],data[<span class="number">1</span>])</span><br><span class="line">plt.plot(data[<span class="number">0</span>,:<span class="number">40</span>], estimate_a * data[<span class="number">0</span>,:<span class="number">40</span>] + estimate_b, color=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ•ˆæœå¦‚ä¸‹ï¼š <img src="/images/285.png" /></p>
<p>å†æä¸€ä¸ªï¼Œæ—¢ç„¶è¿™ä¸ªç®—æ³•å¯ä»¥ç”¨æ¥åŒºåˆ†"inliers"å’Œ"outliers"ï¼Œé‚£è¦æ˜¯æˆ‘å…ˆç”¨è¿™ä¸ªç®—æ³•æŠŠ"inliers"åˆ†å‡ºæ¥ï¼Œç„¶åç”¨çº¿æ€§å›å½’ï¼Œæ•ˆæœä¼šä¸ä¼šæ›´å¥½ï¼Ÿ<br />
ç„¶è€Œè¯•éªŒå‘ç°ï¼Œå¥½æ˜¯æœ‰å¥½é‚£ä¹ˆä¸€ç‚¹ç‚¹å§ï¼Œä¸»è¦æ˜¯é‚£ä¸ªbiasæ›´æ¥è¿‘äº†ï¼Œä½†åŒºåˆ«çœŸçš„ä¸å¤§ï¼Œä»£ç å†™å¾—å¾ˆä¹±å°±ä¸è´´äº†ï¼Œåæ­£è²Œä¼¼ä¹Ÿæ²¡å•¥æ„ä¹‰ã€‚ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>æœªåˆ†ç±»</category>
      </categories>
  </entry>
  <entry>
    <title>ç›¸æœºæ¨¡å‹ä¸æ ‡å®š</title>
    <url>/posts/26.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>ç›¸æœºæ¨¡å‹åŒ–çš„è¯ï¼Œè¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠä¸€ä¸ªä¸‰ç»´åœºæ™¯è½¬åŒ–ä¸ºäºŒç»´å›¾åƒã€‚è¿™é‡Œä¸»è¦æ˜¯ä»‹ç»åŸºæœ¬ç›¸æœºæ¨¡å‹ï¼Œä¸–ç•Œã€ç›¸æœºã€å›¾åƒåæ ‡ç³»ä¹‹é—´çš„è½¬æ¢ä»¥åŠç›¸æœºçš„æ ‡å®šã€‚ <span id="more"></span></p>
<h1 id="ç›¸æœºæ¨¡å‹">ç›¸æœºæ¨¡å‹</h1>
<p>è¿™é‡Œç”¨æœ€ç®€å•ä¹Ÿæ˜¯æœ€å¹¿æ³›çš„é’ˆå­”ç›¸æœºæ¨¡å‹ï¼Œå•ç›®çš„ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™ä¸ªï¼š<img src="/images/272.png" /> ä»3Dåˆ°2Dçš„è½¬æ¢ä¸­æˆ‘ä»¬é—å¤±äº†<strong>è§’åº¦</strong>ä»¥åŠ<strong>è·ç¦»</strong>ä¿¡æ¯ã€‚<br />
å‡è®¾ç‚¹<span class="math inline">\(P\)</span>çš„ä¸‰ç»´åæ ‡æ˜¯<span class="math inline">\([x,y,z]\)</span>ï¼Œå…¶å¯¹åº”å›¾åƒåæ ‡ä¸º<span class="math inline">\([x^,,y^,]\)</span>ï¼Œæœ‰å¦‚ä¸‹å…³ç³»ï¼š<img src="/images/273.png" /> ï¼ˆå°±æ˜¯ç®€å•çš„ç›¸ä¼¼ä¸‰è§’å½¢ï¼‰<br />
ä¹Ÿå°±æ˜¯è¯´: <span class="math display">\[
(x,y,z) \rightarrow (f&#39;\frac{x}{z},f&#39;\frac{y}{z})
\]</span> ç”¨é½æ¬¡åæ ‡è¡¨ç¤ºçš„è¯ä¸ºï¼š<img src="/images/274.png" /> åœ¨å¾ˆå¤šåœ°æ–¹å·¦è¾¹çš„é‚£ä¸ªç­‰å¼ä¼šå†™æˆè¿™æ ·å­ï¼š <span class="math display">\[
\begin{pmatrix}
    f&#39;&amp;0&amp;0&amp;0\\
    0&amp;f&#39;&amp;0&amp;0\\
    0&amp;0&amp;1&amp;0
\end{pmatrix}
\begin{pmatrix}
    x\\
    y\\
    z\\
    1
\end{pmatrix}
=z
\begin{pmatrix}
    f&#39;\frac{x}{z}\\
    f&#39;\frac{y}{z}\\
    1
\end{pmatrix}
\]</span> è™½ç„¶çœ‹ä¸Šå»åªæ˜¯æŠŠç³»æ•°æå‡ºæ¥è€Œå·²ï¼Œä½†è¡¨è¾¾çš„æ„æ€å´å¤šäº†ä¸€ä¸ªï¼šå¯¹äºåŒä¸€ä¸ªå›¾åƒåæ ‡ï¼Œå…¶ä¸‰ç»´åæ ‡æœ‰æ— æ•°ç§å¯èƒ½ï¼Œåªè¦åœ¨æŠ•å½±çº¿ä¸Šå°±è¡Œã€‚è¿™æ˜¯å¼•è¿›é½æ¬¡åæ ‡çš„ä¸€ä¸ªå¾ˆå¤§çš„ç‰¹ç‚¹ã€‚</p>
<h1 id="åæ ‡ç³»è½¬å˜">åæ ‡ç³»è½¬å˜</h1>
<p>ä¸Šé¢é‚£ç§æƒ…å†µæ˜¯æœ€ç®€å•çš„ï¼Œä½†ä¸€èˆ¬æ¥è¯´ï¼Œç›¸æœºåœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„ä½ç½®æ˜¯ä¸å®šçš„ï¼Œæ‰€ä»¥è¦åœ¨ä¸­é—´å¼•å…¥ä¸€ä¸ªæ–°çš„åæ ‡ç³»â€”â€”â€”â€”ç›¸æœºåæ ‡ç³»ï¼Œåˆå«å½’ä¸€åŒ–åæ ‡ç³»ã€‚<br />
æ‰€ä»¥è¿™é‡Œè¦ç”¨åˆ°ä¸‰ä¸ªåæ ‡ç³»ï¼Œåˆ†åˆ«ä¸ºï¼šä¸–ç•Œåæ ‡ç³»ï¼Œç›¸æœºåæ ‡ç³»å’Œå›¾åƒåæ ‡ç³»ï¼Œå®ƒä»¬çš„è½¬å˜è¿‡ç¨‹å¦‚ä¸‹ï¼š<img src="/images/275.png" /> ä¹Ÿå°±æ˜¯ï¼š</p>
<blockquote>
<p>é¦–å…ˆå°†ä¸–ç•Œåæ ‡è½¬ä¸ºç›¸æœºåæ ‡<br />
ç„¶åå°†ç›¸æœºåæ ‡è½¬ä¸ºå›¾åƒåæ ‡</p>
</blockquote>
<h2 id="ä¸–ç•Œåæ ‡åˆ°ç›¸æœºåæ ‡">ä¸–ç•Œåæ ‡åˆ°ç›¸æœºåæ ‡</h2>
<p>(è¿™ä¸ªè¿‡ç¨‹ä¹Ÿå°±æ˜¯å½’ä¸€åŒ–çš„è¿‡ç¨‹)<br />
ç›¸æœºåæ ‡ä¸ä¸–ç•Œåæ ‡æ˜¯æ—‹è½¬åŠ å¹³ç§»çš„å…³ç³»ï¼Œå³æ˜¯å¦‚ä¸‹ï¼š <span class="math display">\[
\widetilde{x}^C=R(\widetilde{x}^W-\widetilde{c})
\]</span> å…¶ä¸­ï¼š<span class="math inline">\(\widetilde{c}\)</span>æ˜¯ç›¸æœºä¸­å¿ƒåœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„ä½ç½®ã€‚<br />
å†™æˆé½æ¬¡å½¢å¼çš„è¯å°±æ˜¯ï¼š<img src="/images/276.png" /> è¿™æ˜¯ä¸€ç§çº¿æ€§å˜æ¢çš„å½¢å¼ï¼Œè¿™æ—¶å€™ç»´åº¦è¿˜æ²¡æœ‰é—å¤±<br />
è¿™ä¸ªè½¬æ¢çŸ©é˜µå†™ç®€æ´ä¸€ç‚¹å³æ˜¯ï¼š <span class="math display">\[
x^C=
\begin{bmatrix}
    R&amp;t\\
    0&amp;1
\end{bmatrix}
x^W
\]</span> å…¶ä¸­<span class="math inline">\(t=-R\widetilde{c}\)</span></p>
<h2 id="ç›¸æœºåæ ‡åˆ°å›¾åƒåæ ‡">ç›¸æœºåæ ‡åˆ°å›¾åƒåæ ‡</h2>
<p>è¿™é‡Œå…ˆç»™ä¸‰ä¸ªå®šä¹‰ï¼š</p>
<blockquote>
<ol type="1">
<li>ä¸»è½´(Principal axis)ï¼šä»ç›¸æœºä¸­å¿ƒå‚ç›´äºå›¾åƒå¹³é¢çš„çº¿ï¼›<br />
</li>
<li>å½’ä¸€åŒ–(ç›¸æœº)åæ ‡ç³»(Normalized (camera) coordinate system)ï¼šä»¥ç›¸æœºä¸­å¿ƒä¸ºåŸç‚¹ï¼Œzè½´ä¸ºä¸»è½´çš„åæ ‡ç³»<br />
</li>
<li>ä¸»ç‚¹(Principal point)ï¼šä¸»è½´ä¸å›¾åƒå¹³é¢ç›¸äº¤çš„ç‚¹(å½’ä¸€åŒ–åæ ‡ç³»çš„åŸç‚¹ï¼‰</li>
</ol>
</blockquote>
<p>å³æ˜¯ä¸‹å›¾è¿™æ ·ï¼š<img src="/images/277.png" /></p>
<p>ç›¸æœºåæ ‡ç³»çš„åŸç‚¹åœ¨ä¸»ç‚¹ä¸Šï¼Œè€Œå›¾åƒåæ ‡ç³»çš„åŸç‚¹åœ¨è§’è½(ä¸€èˆ¬æ˜¯å·¦ä¸Šè§’)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸¤ä¸ªåæ ‡ç³»å­˜åœ¨ç€åç§»é‡ï¼Œä»¥å›¾åƒåæ ‡ç³»ä¸ºå‚è€ƒçš„è¯ï¼Œè¯¥åç§»é‡ä¸º<span class="math inline">\((p_x,p_y)\)</span>ã€‚<br />
å°†æœ€ä¸Šé¢é‚£ä¸ªæŠ•å½±è½¬æ¢å†™ä¸‹æ¥ï¼Œå¯¹äºä¸‰ç»´åæ ‡ç‚¹<span class="math inline">\((X,Y,Z)\)</span>ï¼Œå…¶å›¾åƒåæ ‡ä¸º<span class="math inline">\((f\frac{X}{Z},f\frac{Y}{Z})\)</span>ï¼Œå³ï¼š <span class="math display">\[
\begin{pmatrix}
    f&amp;0&amp;0&amp;0\\
    0&amp;f&amp;0&amp;0\\
    0&amp;0&amp;1&amp;0
\end{pmatrix}
\begin{pmatrix}
    X\\
    Y\\
    Z\\
    1
\end{pmatrix}
=
\begin{pmatrix}
    fX\\
    fY\\
    Z
\end{pmatrix}
\]</span> å†™æˆç´§å‡‘ä¸€äº›çš„å½¢å¼ä¸ºï¼š <span class="math display">\[
x^I=K\cdot [I|0]\cdot x^C=K\cdot \widetilde{x}^C
\]</span> å…¶ä¸­ï¼š <span class="math display">\[
K=diag\left\{f,f,1\right\}
\]</span> (æ³¨æ„ï¼Œè¿™é‡Œæœ‰ä¸ªéé½æ¬¡å‘é½æ¬¡è½¬æ¢çš„è®¡ç®—)<br />
ç„¶åè€ƒè™‘è¿™ä¸ªä¸­å¿ƒåç§»é‡ï¼Œå³å¯¹äºä¸‰ç»´åæ ‡<span class="math inline">\((X,Y,Z)\)</span>ï¼Œå…¶å›¾åƒåæ ‡åº”ä¸º<span class="math inline">\(f\frac{X}{Z}+p_x,f\frac{Y}{Z}+p_y\)</span>ï¼Œå†™æˆçŸ©é˜µè®¡ç®—å½¢å¼å¦‚ä¸‹ï¼š <span class="math display">\[
\begin{pmatrix}
    f&amp;0&amp;p_x&amp;0\\
    0&amp;f&amp;p_y&amp;0\\
    0&amp;0&amp;1&amp;0
\end{pmatrix}
\begin{pmatrix}
    X\\
    Y\\
    Z\\
    1
\end{pmatrix}
=
\begin{pmatrix}
    fX+Zp_x\\
    fY+Zp_y\\
    Z
\end{pmatrix}
\]</span> è¿™é‡Œå¯¹åº”çš„çš„<span class="math inline">\(K\)</span>ä¸ºæ ‡å®šçŸ©é˜µ(calibration matrix)ï¼Œå³ï¼š <span class="math display">\[
K=
\begin{pmatrix}
    f&amp;0&amp;p_x\\
    0&amp;f&amp;p_y\\
    0&amp;0&amp;1
\end{pmatrix}
\]</span> ä¹Ÿå°±æ˜¯è¾“å…¥ä¸€ä¸ªå½’ä¸€åŒ–çš„ä¸–ç•Œåæ ‡ï¼Œé€šè¿‡çŸ©é˜µ<span class="math inline">\(K\)</span>å¯ä»¥å¾—åˆ°å…¶å¯¹åº”çš„å›¾åƒåæ ‡ã€‚<br />
ä½†æ˜¯è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¯´å¯¹äºä¸–ç•Œåæ ‡ç³»ï¼Œæˆ‘ä»¬ç”¨çš„å•ä½ä¸€èˆ¬ä¼šæ˜¯â€œç±³â€ï¼Œâ€œå˜ç±³â€ï¼Œâ€œè‹±å¯¸â€ä¹‹ç±»çš„ï¼Œä½†åœ¨å›¾åƒåæ ‡ç³»ä¸­æˆ‘ä»¬ç»Ÿä¸€ä½¿ç”¨â€œåƒç´ â€ä¸ºå•ä½ï¼Œæ‰€ä»¥è¿™è¿˜éœ€è¦ä¸€ä¸ªè½¬æ¢è¿‡ç¨‹ï¼š</p>
<blockquote>
<p>å‡è®¾åœ¨æ°´å¹³æ–¹å‘ä¸Šä»¥æŸä¸€å•ä½(m,mm,inch,...)ä¸ºåŸºå‡†å…±æœ‰<span class="math inline">\(m_x\)</span>ä¸ªåƒç´ ï¼Œåœ¨å‚ç›´æ–¹å‘ä¸Šæœ‰<span class="math inline">\(m_y\)</span>ä¸ªåƒç´ ã€‚</p>
</blockquote>
<p>å°±æœ‰å¦‚ä¸‹å…³ç³»ï¼š <span class="math display">\[
K=
\begin{pmatrix}
    m_x&amp;0&amp;0\\
    0&amp;m_y&amp;0\\
    0&amp;0&amp;1
\end{pmatrix}
\begin{pmatrix}
    f&amp;0&amp;p_x\\
    0&amp;f&amp;p_y\\
    0&amp;0&amp;1
\end{pmatrix}
=
\begin{pmatrix}
    \alpha_x&amp;0&amp;\beta_x\\
    0&amp;\alpha_y&amp;\beta_y\\
    0&amp;0&amp;1
\end{pmatrix}
\]</span> ä»¥ä¸Šè¿™äº›å°±æ˜¯ç›¸æœºçš„ä¸»è¦å†…å‚æ•°ï¼ŒåŒ…æ‹¬æœ‰ï¼š</p>
<blockquote>
<ol type="1">
<li>ä¸»ç‚¹åæ ‡;<br />
</li>
<li>ç„¦è·;<br />
</li>
<li>åƒç´ æ”¾å¤§ç³»æ•°;<br />
</li>
<li>å¯¹äºéçŸ©å½¢åƒç´ ï¼Œè¿˜æœ‰åæ–œç³»æ•°(Skew)ï¼Œè¿™é‡Œä¸è®¨è®ºã€‚<br />
</li>
</ol>
</blockquote>
<p>å¸¸è§çš„è¿˜æœ‰ç•¸å˜å‚æ•°ï¼Œè¿™ä¸ªæ˜¯ä¸ºäº†è¡¥å……å†…å‚æ•°çš„ï¼Œä¸‹é¢ä¼šè®¨è®ºã€‚<br />
è¿™äº›å‚æ•°æ˜¯ç›¸æœºåœ¨å‡ºå‚æ—¶å°±è®¾å®šå¥½çš„ï¼Œä¸€èˆ¬ä¸ä¼šè½»æ˜“æ”¹å˜ã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>ç”¨ä¸€å¼ å›¾ç®€å•æ€»ç»“ä¸‹ï¼š<img src="/images/278.png" /> è¿™é‡Œçš„çŸ©é˜µ<span class="math inline">\(P\)</span>æ˜¯æŠ•å½±çŸ©é˜µï¼Œå³æ˜¯ç»™ä¸€ä¸ªé½æ¬¡ä¸–ç•Œåæ ‡ï¼Œé€šè¿‡çŸ©é˜µ<span class="math inline">\(P\)</span>ï¼Œå¯ä»¥å¾—åˆ°å¯¹åº”çš„é½æ¬¡å›¾åƒåæ ‡ï¼Œå…¶ä¸­<span class="math inline">\(K\in R^{3\times 3}\)</span>ï¼Œ<span class="math inline">\(P\in R^{3\times 4}\)</span>ã€‚</p>
<h1 id="æ­£æŠ•å½±æ¨¡å‹">æ­£æŠ•å½±æ¨¡å‹</h1>
<p>å…³äºè¿™ä¸ªç®€å•è¯´ä¸€ä¸‹å°±å¥½ï¼Œæ­£æŠ•å½±ï¼Œä¹Ÿå°±æ˜¯å¹³è¡ŒæŠ•å½±ï¼Œå½¢å¼å¦‚ä¸‹ï¼š<img src="/images/279.png" /> å…¶æŠ•å½±çŸ©é˜µä¸ºï¼š<img src="/images/280.png" /></p>
<h1 id="ç›¸æœºæ ‡å®š">ç›¸æœºæ ‡å®š</h1>
<p>ç›¸æœºæ ‡å®šå°±æ˜¯æ ¹æ®æŸäº›æ–¹æ³•ç¡®å®šå‡ºç›¸æœºçš„å†…å‚æ•°å’Œç•¸å˜å‚æ•°ã€‚</p>
<h2 id="ä¸è€ƒè™‘ç•¸å˜">ä¸è€ƒè™‘ç•¸å˜</h2>
<p>å…ˆå‡è®¾æˆ‘ä»¬æœ‰ä¸‰ç»´åæ ‡ç‚¹<span class="math inline">\(X_i\)</span>ï¼Œä»¥åŠå¯¹åº”çš„å›¾åƒåæ ‡ç‚¹<span class="math inline">\(x_i\)</span>ï¼Œéƒ½æ˜¯é½æ¬¡çš„ï¼Œç°åœ¨æƒ³è¦ä¼°è®¡æŠ•å½±çŸ©é˜µ<span class="math inline">\(P\)</span>ã€‚<br />
ç”±äºå…±çº¿æ€§ï¼Œæœ‰å¦‚ä¸‹å…³ç³»ï¼š <span class="math display">\[
\lambda x_i=PX_i
\]</span> å³ï¼š <span class="math display">\[
\lambda
\begin{pmatrix}
    x_i\\
    y_i\\
    1
\end{pmatrix}=
\begin{bmatrix}
    p_1^T\\
    p_2^T\\
    p_3^T
\end{bmatrix}X_i
\]</span> è¿™é‡Œ<span class="math inline">\(p_j^T\)</span>è¡¨ç¤ºçŸ©é˜µ<span class="math inline">\(P\)</span>çš„ç¬¬<span class="math inline">\(j\)</span>è¡Œã€‚<br />
ç”¨å‰ç§¯ï¼š <span class="math display">\[
x_i \times PX_i=0
\]</span> å³ï¼š <span class="math display">\[
\begin{bmatrix}
    y_ip_3^TX_i-p_2^TX_i\\
    p_1^TX_i-x_ip_3^TX_i\\
    x_ip_2^TX_i-y_ip_1^TX_i
\end{bmatrix}=0
\]</span> å†™æˆçŸ©é˜µä¹˜ç§¯å½¢å¼ä¸ºï¼š <span class="math display">\[
\begin{bmatrix}
    0&amp;-X_i^T&amp;y_iX_i^T\\
    X_i^T&amp;0&amp;-x_iX_i^T\\
    -y_iX_i^T&amp;x_iX_i^T&amp;0
\end{bmatrix}
\begin{pmatrix}
    p_1\\
    p_2\\
    p_3
\end{pmatrix}=0
\]</span> è¿™ä¸ªçŸ©é˜µ<span class="math inline">\(P\)</span>è™½ç„¶æœ‰12ä¸ªå‚æ•°ï¼Œä½†ç”±äºå°ºåº¦æ˜¯éšæ„çš„ï¼Œæ‰€ä»¥å®é™…åªè¦è€ƒè™‘11ä¸ªè‡ªç”±åº¦å°±è¡Œï¼Œç„¶åç”±äºä¸Šé¢é‚£ä¸ªçŸ©é˜µç­‰å¼åªæä¾›äº†ä¸¤ä¸ªçº¿æ€§ç‹¬ç«‹ç­‰å¼(å› ä¸ºç§©ä¸º2)ï¼Œæ‰€ä»¥ä¸ºäº†æ±‚è§£çŸ©é˜µ<span class="math inline">\(P\)</span>ï¼Œæˆ‘ä»¬æœ€å°‘éœ€è¦6ä¸ª 3D/2D å¯¹åº”ç‚¹ã€‚å¦‚æœæˆ‘ä»¬æœ‰å¤šäº6ä¸ªæ•°æ®å¯¹çš„è¯ï¼Œé‚£å°±æ›´å¥½äº†ï¼Œå¯ä»¥ç”¨æœ€å°äºŒä¹˜æ³•ä¼°è®¡ã€‚<br />
å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰å¾ˆå¤šä¸ªæ•°æ®å¯¹ï¼Œæ ¹æ®ä¸Šé¢çš„æ–¹æ³•å†™æˆå¦‚ä¸‹å½¢å¼ï¼š<img src="/images/281.png" /> ç®€å•è®°ä¸ºï¼š <span class="math display">\[
Ap=0
\]</span> ç”±äºå½“<span class="math inline">\(p=0\)</span>æ—¶è™½ç„¶ç¬¦åˆæ–¹ç¨‹ï¼Œä½†æ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œè¦æ’é™¤ï¼Œæ‰€ä»¥åŠ ä¸ªçº¦æŸï¼š<span class="math inline">\(||p||=1\)</span>ï¼Œä¹Ÿå°±æ˜¯å¦‚ä¸‹é½æ¬¡æœ€å°äºŒä¹˜å½¢å¼ï¼š <span class="math display">\[
Ap=0\quad s.t. \quad ||p||=1
\]</span> å…ˆè¯´è§£æ³•æ­¥éª¤ï¼š</p>
<blockquote>
<ol type="1">
<li>è¿›è¡ŒSVDåˆ†è§£ï¼š<span class="math inline">\(A=USV^T\)</span></li>
<li>å‡è®¾å¥‡å¼‚å€¼æ˜¯æ’å¥½åºäº†çš„ï¼Œå³<span class="math inline">\(S=diag(s_1,...,s_{12}),s_{i+1}\leq s_i\)</span></li>
<li>å–æœ€åä¸€ä¸ªå³å¥‡å¼‚å€¼å‘é‡ï¼Œæ­¤æ—¶<span class="math inline">\(p=v_{12}\)</span></li>
</ol>
</blockquote>
<p>ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Ÿä¸‹é¢ç®€å•è¯´æ˜ã€‚</p>
<h3 id="é½æ¬¡æœ€å°äºŒä¹˜ç®€ä»‹">é½æ¬¡æœ€å°äºŒä¹˜ï¼šç®€ä»‹</h3>
<p>ç°å‡è®¾å‘é‡<span class="math inline">\(p\in R^n\)</span>æ»¡è¶³ï¼š <span class="math display">\[
Ap=0
\]</span> å…¶ä¸­<span class="math inline">\(A\in R^{m\times n}\)</span>ä¸”<span class="math inline">\(0\in R^m\)</span>ï¼Œè¿›ä¸€æ­¥å‡è®¾<span class="math inline">\(m\geq n\)</span>ä¸”<span class="math inline">\(rank(A)=n\)</span>ã€‚<br />
ç”±äº<span class="math inline">\(A\)</span>æ˜¯æµ‹é‡çŸ©é˜µï¼Œå°±éš¾å…æœ‰å™ªéŸ³ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæœ€å°åŒ–ä¸‹é¢è¿™ä¸ªï¼š <span class="math display">\[
||Ap||^2
\]</span> ä¸ºäº†é¿å…<span class="math inline">\(p=0\)</span>è¿™ä¸ªè§£ï¼Œæˆ‘ä»¬åœ¨è¿™é‡ŒåŠ ä¸ªçº¦æŸ<span class="math inline">\(||p||=1\)</span>ï¼Œä¹Ÿå°±æ˜¯è¯´ç°åœ¨æˆ‘ä»¬çš„é—®é¢˜å˜ä¸ºï¼š<br />
</p>
<blockquote>
<p>åœ¨çº¦æŸ<span class="math inline">\(||p||=1\)</span>çš„æ¡ä»¶ä¸‹ï¼Œå¯»æ‰¾<span class="math inline">\(p\)</span>ï¼Œä½¿å¾—<span class="math inline">\(||Ap||^2\)</span>æœ€å°ã€‚</p>
</blockquote>
<p>ç°åœ¨å¼€å§‹è§£è¿™ä¸ªé—®é¢˜ã€‚<br />
é¦–å…ˆæˆ‘ä»¬æ”¹å†™è¿™ä¸ªçº¦æŸæ¡ä»¶ä¸ºï¼š<span class="math inline">\(1-p^Tp=0\)</span>ï¼Œç„¶åç”¨æ‹‰æ ¼æœ—æ—¥ä¹˜å­ï¼š <span class="math display">\[
\frac{\partial}{\partial p}(p^TA^TA^Tp+\lambda (1-p^Tp))=0
\]</span> å³ï¼š <span class="math display">\[
2A^TAp-2\lambda p=0 \quad \rightarrow \quad (A^TA)p=\lambda p
\]</span> è¿™é‡Œ<span class="math inline">\(p\)</span>æ˜¯<span class="math inline">\((A^TA)\)</span>çš„ç‰¹å¾å‘é‡ï¼Œ<span class="math inline">\(\lambda\)</span>æ˜¯ç‰¹å¾å€¼ã€‚<br />
è¿™å°±å¼•å‡ºäº†ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡äº†ï¼Œä½†ç°åœ¨è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¦é€‰å“ªä¸ªç‰¹å¾å€¼/å‘é‡ï¼Ÿ<br />
å›åˆ°æˆ‘ä»¬åŸæ¥çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¦æœ€å°åŒ–å¦‚ä¸‹çš„é‡ï¼š <span class="math display">\[
||Ap||^2=p^TA^TAp
\]</span> ç”¨çº¦æŸ<span class="math inline">\(||p||=1\)</span>æ”¹å†™ä¸€ä¸‹å¦‚ä¸‹ï¼š <span class="math display">\[
||Ap||^2=p^T\lambda p=\lambda
\]</span> è¿™å°±å‡ºæ¥äº†ï¼Œæˆ‘ä»¬è¦é€‰çš„<span class="math inline">\(p\)</span>å°±æ˜¯<span class="math inline">\(A^TA\)</span>æœ€å°ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚</p>
<p>ç„¶åç»§ç»­ï¼Œæ¯•ç«Ÿä¸Šé¢æˆ‘ä»¬çš„å¯¹è±¡æ˜¯<span class="math inline">\(A^TA\)</span>ï¼Œä¸æ˜¯<span class="math inline">\(A\)</span>ï¼Œç°åœ¨è¦å¼•è¿›SVDåˆ†è§£ã€‚</p>
<h3 id="é½æ¬¡æœ€å°äºŒä¹˜svd">é½æ¬¡æœ€å°äºŒä¹˜ï¼šSVD</h3>
<p>SVDï¼Œå³æ˜¯å¥‡å¼‚å€¼åˆ†è§£ï¼Œå…¨ç§°ä¸ºsingular value decompositionï¼Œè¡¨ç¤ºæˆå¦‚ä¸‹å½¢å¼ï¼š <span class="math display">\[
A=USV^T
\]</span> å…¶ä¸­<span class="math inline">\(U\in R^{m\times n}\)</span>ï¼Œ<span class="math inline">\(V\in R^{n\times n}\)</span>æ˜¯æ­£äº¤çš„(å³æ˜¯é€†ç­‰äºè½¬ç½®ï¼Œè¡Œåˆ—å¼ç»å¯¹å€¼ä¸º1çš„çŸ©é˜µ)ï¼Œ<span class="math inline">\(S\in R^{n\times n}\)</span>æ˜¯å¯¹è§’çŸ©é˜µï¼Œä¸”å€¼æ²¿å¯¹è§’çº¿é€’å‡ã€‚<br />
ç°åœ¨æˆ‘ä»¬æœ‰ï¼š <span class="math display">\[
A^TA=(USV^T)^TUSV^T=VS^TU^TUSV^T=VS^2V^T
\]</span> ä¸Šé¢è¿™ä¸ªå¼å­å°±æ˜¯ä¸€ä¸ªç‰¹å¾å€¼åˆ†è§£(æ­£äº¤æ€§)ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(A^TA\)</span>çš„ç‰¹å¾å‘é‡å°±æ˜¯<span class="math inline">\(A\)</span>çš„å³å¥‡å¼‚å‘é‡ï¼›</li>
<li><span class="math inline">\(A^TA\)</span>çš„ç‰¹å¾å€¼æ˜¯<span class="math inline">\(A\)</span>å¥‡å¼‚å€¼çš„å¹³æ–¹ã€‚</li>
</ol>
</blockquote>
<p>æ‰€ä»¥ï¼Œè¦æ‰¾<span class="math inline">\(A^TA\)</span>çš„æœ€å°ç‰¹å¾å€¼ï¼Œå°±æ˜¯è¦è®¡ç®—<span class="math inline">\(A\)</span>çš„æœ€å³è¾¹çš„å¥‡å¼‚å‘é‡ã€‚<br />
è‡³æ­¤å°±å›ç­”å®Œä¸Šé¢çš„é—®é¢˜äº†ã€‚<br />
å…³äºSVDåˆ†è§£ï¼Œè¯¦ç»†çš„å¯ä»¥å‚çœ‹<a href="https://shartoo.github.io/2016/10/25/SVD-decomponent/">è¿™ç¯‡</a>ã€‚</p>
<h3 id="é€šè¿‡pæ±‚k">é€šè¿‡<span class="math inline">\(P\)</span>æ±‚<span class="math inline">\(K\)</span></h3>
<p>è‡³æ­¤æˆ‘ä»¬å°±æ±‚å‡ºäº†æŠ•å½±çŸ©é˜µ<span class="math inline">\(P\)</span>ï¼Œå®ƒåŒ…å«äº†ç›¸æœºçš„å¤–å‚å’Œå†…å‚ï¼Œä½†ç›¸æœºçš„æ ‡å®šåªè¦æ±‚å†…å‚ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç»§ç»­å¾€ä¸‹åšã€‚<br />
è¿™é‡ŒçŸ©é˜µ<span class="math inline">\(P\)</span>æ˜¯ä¸€ä¸ª<span class="math inline">\(3\times 4\)</span>çš„çŸ©é˜µï¼Œæˆ‘ä»¬æŠŠå®ƒæŒ‰å¦‚ä¸‹æ–¹å¼åˆ†è§£ï¼š <span class="math display">\[
P=[M|m]=[KR|-KR\widetilde{c}]
\]</span> è¿™é‡ŒçŸ©é˜µ<span class="math inline">\(M\in R^{3\times 3},m\in R^{3\times 1}\)</span>ï¼Œç„¶åå°†çŸ©é˜µ<span class="math inline">\(M\)</span>è¿›è¡ŒQRåˆ†è§£æˆä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µ<span class="math inline">\(K\)</span>å’Œä¸€ä¸ªæ­£äº¤çš„çŸ©é˜µ<span class="math inline">\(R\)</span>ï¼Œè¿™é‡Œçš„<span class="math inline">\(K\)</span>å°±æ˜¯æˆ‘ä»¬è¦çš„æ ‡å®šçŸ©é˜µï¼Œ<span class="math inline">\(R\)</span>æ˜¯æ—‹è½¬çŸ©é˜µã€‚æœ€åï¼Œé€šè¿‡SVDæ‰¾åˆ°cä½œä¸ºPçš„é›¶ç©ºé—´ã€‚<br />
è‡³æ­¤ï¼Œè¿™ç§ä¸è€ƒè™‘ç•¸å˜çš„æ ‡å®šå°±ç»“æŸäº†ã€‚</p>
<h2 id="è€ƒè™‘ç•¸å˜å‚æ•°">è€ƒè™‘ç•¸å˜å‚æ•°</h2>
<p>ä¸Šé¢æ˜¯ç‰¹æ®Šæƒ…å†µï¼Œä¸€èˆ¬åœ¨ç°å®ä¸­æˆ‘ä»¬æ˜¯ä¸èƒ½å¿½ç•¥ç•¸å˜å‚æ•°çš„ï¼Œåœ¨è¿›è¡Œæ ‡å®šå‰ï¼Œå…ˆå¯¹ç•¸å˜å‚æ•°ä½œç®€è¦è¯´æ˜ã€‚<br />
</p>
<h3 id="ç•¸å˜å‚æ•°">ç•¸å˜å‚æ•°</h3>
<p>æ ¹æ®ç•¸å˜çš„æ–¹å¼ä¸åŒç•¸å˜å‚æ•°å¯åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå¾„å‘ç•¸å˜å’Œåˆ‡å‘ç•¸å˜(è¿˜æœ‰å…¶ä»–çš„æ¯”å¦‚è–„é€é•œç•¸å˜ï¼Œè¿™é‡Œä¸è€ƒè™‘)ã€‚</p>
<h4 id="å¾„å‘ç•¸å˜">å¾„å‘ç•¸å˜</h4>
<p>å¾„å‘ç•¸å˜æ˜¯ç”±äºé€é•œå½¢çŠ¶çš„åˆ¶é€ å·¥è‰ºå¯¼è‡´ã€‚ä¸”è¶Šå‘é€é•œè¾¹ç¼˜ç§»åŠ¨å¾„å‘ç•¸å˜è¶Šä¸¥é‡ã€‚<br />
æ¯”å¦‚è¯´è¿™æ˜¯æˆ‘ä»¬æ­£å¸¸çš„å›¾åƒï¼š<img src="/images/282.png" /> å…¶ä¸­çš„åƒç´ ç‚¹åæ ‡æˆ‘ä»¬ç”¨æåæ ‡æ¥è¡¨ç¤ºï¼Œä¸º<span class="math inline">\((r,\theta)\)</span>ï¼Œå¾„å‘ç•¸å˜çš„è¯ï¼Œå°±æ˜¯<span class="math inline">\(r\)</span>çš„ç¼©æ”¾ï¼Œå…¶åˆåˆ†ä¸ºä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºæ¡¶å½¢ç•¸å˜å’Œæ•å½¢ç•¸å˜ï¼Œå¦‚ä¸‹ï¼š<img src="/images/283.png" /> å…¶ä¸­æ¡¶å½¢ç•¸å˜å¤§éƒ½å‘ç”Ÿåœ¨ä½¿ç”¨å¹¿è§’é•œå¤´æˆ–ä½¿ç”¨å˜ç„¦é•œå¤´çš„å¹¿è§’ç«¯æ—¶ï¼Œæ•å½¢ç•¸å˜åˆ™æ˜¯ä½¿ç”¨é•¿ç„¦é•œå¤´æˆ–ä½¿ç”¨å˜ç„¦é•œå¤´çš„é•¿ç„¦ç«¯æ—¶å‘ç”Ÿã€‚<br />
ç”¨æ•°å­¦å½¢å¼è¡¨ç¤ºçš„è¯ï¼Œæˆ‘ä»¬å…ˆå‡å®šå½’ä¸€åŒ–å¹³é¢ä¸Šæœ‰ä¸€ç‚¹<span class="math inline">\(p\)</span>ï¼Œåæ ‡ä¸º<span class="math inline">\([x,y]^T\)</span>ï¼Œå¯¹åº”çš„æåæ ‡å½¢å¼ä¸º<span class="math inline">\([r,\theta]^T\)</span>ï¼Œå…¶ä¸­<span class="math inline">\(r\)</span>è¡¨ç¤ºä¸åæ ‡ç³»åŸç‚¹çš„è·ç¦»ï¼Œ<span class="math inline">\(\theta\)</span>è¡¨ç¤ºä¸æ°´å¹³è½´çš„å¤¹è§’ã€‚å¾„å‘ç•¸å˜çš„è¯å°±æ˜¯<span class="math inline">\(r\)</span>å‘ç”Ÿäº†å˜åŒ–ï¼Œç•¸å˜åçš„åæ ‡å¯è¡¨ç¤ºä¸ºï¼š <span class="math display">\[
x_{distorted}=x(1+k_1r^2+k_2r^4+k_3r^6)
\]</span> <span class="math display">\[
y_{distorted}=y(1+k_1r^2+k_2r^4+k_3r^6)
\]</span> è¿™é‡Œçš„<span class="math inline">\(k_1,k_2,k_3\)</span>å³æ˜¯å¾„å‘ç•¸å˜å‚æ•°ã€‚<br />
è¿™é‡Œçš„å¤šé¡¹å¼ä¸ä¸€å®šéå¾—æ˜¯è¿™å‡ ä¸ªï¼Œå¯ä»¥å¤šå†™å‡ é¡¹æˆ–å°‘äº›å‡ é¡¹ï¼Œçœ‹è‡ªå·±éœ€æ±‚å§ï¼Œä¸è¿‡å¤§éƒ½ç”¨è¿™å‡ ä¸ªè¡¨ç¤ºã€‚<br />
</p>
<h4 id="åˆ‡å‘ç•¸å˜">åˆ‡å‘ç•¸å˜</h4>
<p>åˆ‡å‘ç•¸å˜æ˜¯ç”±äºé€é•œæœ¬èº«ä¸ç›¸æœºä¼ æ„Ÿå™¨å¹³é¢ï¼ˆæˆåƒå¹³é¢ï¼‰æˆ–å›¾åƒå¹³é¢ä¸å¹³è¡Œè€Œäº§ç”Ÿçš„ï¼Œå…¶ç•¸å˜æ¥æºç¤ºæ„å›¾å¦‚ä¸‹ï¼š<img src="/images/284.png" /> åŒæ ·å¯ç”¨æ•°å­¦è¡¨ç¤ºå¦‚ä¸‹ï¼š <span class="math display">\[
x_{distorted}=x+2p_1xy+p_2(r^2+2x^2)
\]</span> <span class="math display">\[
y_{distorted}=y+p_1(r^2+2y^2)+2P_2xy
\]</span> è¿™é‡Œçš„<span class="math inline">\(p_1,p_2\)</span>å°±æ˜¯åˆ‡å‘ç•¸å˜å‚æ•°ã€‚</p>
<h4 id="æ±‚è§£ç•¸å˜å‚æ•°">æ±‚è§£ç•¸å˜å‚æ•°</h4>
<p>é¦–å…ˆï¼Œæ ¹æ®ä¸Šé¢ä¸¤ç±»ç•¸å˜å¯çŸ¥ï¼Œä¸€ä¸ªç•¸å˜åçš„åæ ‡åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š <span class="math display">\[
x_{distorted}=x(1+k_1r^2+k_2r^4+k_3r^6)+2p_1xy+p_2(r^2+2x^2)
\]</span> <span class="math display">\[
y_{distorted}=y(1+k_1r^2+k_2r^4+k_3r^6)+p_1(r^2+2y^2)+2P_2xy
\]</span> è¿™é‡Œæ¶‰åŠåˆ°5ä¸ªç•¸å˜å‚æ•°ï¼Œåˆ†åˆ«ä¸ºï¼š<span class="math inline">\(k_1,k_2,k_3,p_1,p_2\)</span>ã€‚<br />
ç•¸å˜çš„è¯ä¸èƒ½ç›´æ¥æ±‚è§£ï¼Œä½†å¯ä»¥ç”¨ä¼˜åŒ–çš„æ€æƒ³ï¼Œç›®æ ‡å‡½æ•°é€‰ç”¨æœ€å°åŒ–é‡æŠ•å½±è¯¯å·®ï¼Œä¹Ÿå°±æ˜¯å°†ç©ºé—´åæ ‡ç‚¹æŒ‰ç…§ä¼°è®¡çš„æŠ•å½±æ–¹ç¨‹æŠ•å½±åˆ°å›¾åƒä¸Šï¼Œå¾—åˆ°åƒç´ ä¼°è®¡å€¼ï¼Œä½¿è¯¥å€¼ä¸å®é™…è§‚æµ‹å€¼ä¹‹é—´çš„è¯¯å·®æœ€å°ã€‚<br />
å…¶ä¸­å˜é‡åˆå§‹å€¼è®¾ä¸ºï¼šç•¸å˜å‚æ•°ä¸º0ï¼Œå…¶ä½™å‚æ•°ç”¨ä¸Šé¢æ— ç•¸å˜æ ‡å®šçš„æ–¹æ³•çš„ç»“æœã€‚<br />
æ³¨æ„ï¼Œè¿™é‡Œçš„ä¼˜åŒ–å˜é‡ä¸åªæ˜¯ç•¸å˜å‚æ•°ï¼Œè¿˜æœ‰å…¶ä½™å†…å‚ã€‚<br />
è‡³äºå…¶ä¸­çš„ä¼˜åŒ–ç»†èŠ‚ï¼Œä¸€å¤§å †å…¬å¼è¿˜æ²¡çœ‹ï¼Œç•™ç€ä»¥åå§ã€‚<br />
å…¶å®ç›´æ¥ç”¨OpenCVæˆ–è€…Matlabå°±å¯ä»¥å¼„å‡ºæ¥äº†ï¼Œå°¤å…¶æ˜¯Matlabï¼ŒçœŸ-å‚»ç“œå¼æ“ä½œï¼Œä¸è¿‡è¿˜æ˜¯å¾—çŸ¥é“è¿™äº›å†…éƒ¨ç®—æ³•çš„ã€‚è¿™ä¸ªä¼˜åŒ–ç»†èŠ‚ï¼Œä»¥åæœ‰å¿ƒæƒ…çš„è¯çœ‹å®Œå†è¡¥å……äº†ã€‚</p>
<h1 id="é™„">é™„</h1>
<p>å…³äºåæ ‡ç³»çš„æŠ•å½±å˜æ¢ï¼Œå¯ä»¥çœ‹<a href="https://superzlw.github.io/posts/1.html">è¿™ä¸ª</a>ï¼Œæœ‰ç›´æ¥çš„ä¾‹å­ã€‚</p>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p>ã€1ã€‘ è§†è§‰SLAM 14è®²<br />
ã€2ã€‘ https://shartoo.github.io/2016/10/25/SVD-decomponent/<br />
ã€3ã€‘ https://www.qinxing.xyz/posts/b7ea425d/<br />
ã€4ã€‘ https://zhuanlan.zhihu.com/p/24651968<br />
ã€5ã€‘ https://zhuanlan.zhihu.com/p/87334006</p>
]]></content>
      <categories>
        <category>å›¾åƒå¤„ç†</category>
      </categories>
  </entry>
  <entry>
    <title>å…‰æµä¸‰éƒ¨æ›²---1. LKå…‰æµ</title>
    <url>/posts/25.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>ç›®å‰å…³äºå…‰æµä¸€å…±å­¦è¿‡ä¸‰ç§æ–¹æ³•ï¼Œåˆ†åˆ«ä¸ºLKå…‰æµï¼ŒHSå…‰æµä»¥åŠæ¦‚ç‡æ³•ï¼Œä¸€æ­¥ä¸€æ­¥æ¥å§ï¼Œè¿™é‡Œå…ˆè®²LKå…‰æµï¼Œä¹‹åå¦‚æœå­¦äº†å…¶å®ƒæ–¹æ³•å†æ¥æ›´æ–°ã€‚ <span id="more"></span></p>
<h1 id="å…‰æµ">å…‰æµ</h1>
<p>å…‰æµï¼ˆoptical flowï¼‰æ˜¯æŒ‡ç©ºé—´è¿åŠ¨ç‰©ä½“åœ¨è§‚æµ‹å¹³é¢ä¸Šçš„åƒç´ è¿åŠ¨çš„ç¬æ—¶é€Ÿåº¦ã€‚ä¸€èˆ¬ç”¨å›¾åƒåºåˆ—ä¸­åƒç´ åœ¨ä¸åŒæ—¶é—´ä¸Šçš„å˜åŒ–æ¥ç¡®å®šç›¸é‚»å¸§ä¹‹é—´çš„ç›¸å…³å…³ç³»ï¼Œä»è€Œè®¡ç®—å‡ºç›¸é‚»å¸§å›¾åƒçš„è¿åŠ¨ã€‚å½“ç›¸é‚»å¸§æ—¶é—´é—´éš”è¶³å¤ŸçŸ­æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç›®æ ‡ç‚¹çš„ä½ç§»æ¥ä»£æŒ‡è¿™ä¸ªé€Ÿåº¦ã€‚<br />
ç®€è¨€ä¹‹ï¼š</p>
<blockquote>
<p><strong>Optical flow = 2D velocity field describing the apparent motion in the images.</strong></p>
</blockquote>
<p>å…‰æµåœºçš„è¯ï¼Œæ˜¯æŒ‡å›¾åƒä¸­æ‰€æœ‰åƒç´ ç‚¹æ„æˆçš„ä¸€ç§äºŒç»´ç¬æ—¶é€Ÿåº¦åœºï¼Œå¦‚ä¸‹å›¾çš„ä¾‹å­æ‰€ç¤ºï¼š<img src="/images/298.png" /></p>
<h1 id="å…‰æµä¼°è®¡">å…‰æµä¼°è®¡</h1>
<p>å…‰æµä¼°è®¡å³æ˜¯é€šè¿‡ç»™å®šçš„ä¸¤å¸§å›¾ç‰‡ï¼Œä¼°è®¡å®ƒä»¬ä¹‹é—´çš„<span class="math inline">\(u(x,y)\)</span>å’Œ<span class="math inline">\(v(x,y)\)</span>ã€‚<br />
ä¸ºäº†è®¡ç®—å…‰æµï¼Œæˆ‘ä»¬ä¼šé¦–å…ˆåšä»¥ä¸‹ä¸¤ä¸ªå‡è®¾ï¼š</p>
<blockquote>
<p><strong>å‡è®¾1</strong>ï¼šå¯¹äºå›¾åƒä¸­çš„å°åŒºåŸŸï¼Œå°½ç®¡å®ƒä»¬çš„ä½ç½®å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œä½†å°åŒºåŸŸä¸­çš„å›¾åƒæµ‹é‡å€¼(ä¾‹å¦‚äº®åº¦)ä¿æŒä¸å˜ï¼Œç§°ä¸ºäº®åº¦æ’å®šå‡è®¾ã€‚<br />
<strong>å‡è®¾2</strong>ï¼šåœºæ™¯ä¸­çš„ç›¸é‚»ç‚¹é€šå¸¸å±äºåŒä¸€è¡¨é¢ï¼Œå› æ­¤é€šå¸¸å…·æœ‰ç›¸ä¼¼çš„3Dè¿åŠ¨ã€‚ç§°ä¸ºç©ºé—´è¿ç»­æ€§å‡è®¾ã€‚</p>
</blockquote>
<p>å¯¹äºå‡è®¾1ï¼Œç”¨æ•°å­¦è¡¨ç¤ºçš„è¯å¯ä»¥å†™æˆå¦‚ä¸‹å½¢å¼ï¼š <span class="math display">\[
I(x+u(x,y),y+v(x,y),t+1)=I(x,y,t)
\]</span> å…¶ä¸­<span class="math inline">\(u(x,y)\)</span>å’Œ<span class="math inline">\(v(x,y)\)</span>åˆ†åˆ«ç§°ä¸ºæ°´å¹³æµä½ç§»å’Œå‚ç›´æµä½ç§»ã€‚<br />
è®¡ç®—è¿™ä¸ªå…‰æµæœ€ç›´æ¥çš„æƒ³æ³•æ˜¯æœ€å°åŒ–äº®åº¦å·®å¼‚ï¼Œäº®åº¦å·®å¼‚å¯è¡¨ç¤ºä¸ºï¼š <span class="math display">\[
E_{SSD}(u,v)=\sum_{(x,y)\in R}(I(x+u,y+v,t+1)-I(x,y,t))^2
\]</span> ä¹Ÿå°±æ˜¯è®¡ç®—ä¸€ä¸ªåŒºåŸŸåƒç´ åœ¨æŸä¸€æ–¹å‘çš„äº®åº¦å·®å¼‚ã€‚<br />
å†å…·ä½“ä¸€ç‚¹çš„è¯ï¼Œå°±æ˜¯å¯¹æ¯ä¸ªåƒç´ ï¼Œå–å…¶é‚»è¿‘åŒºåŸŸå¹¶å°è¯•æ‰€æœ‰å¯èƒ½çš„è¿åŠ¨ï¼Œå–ä¸€ä¸ªæœ€å°çš„<span class="math inline">\(SSD\)</span>ï¼Œè¯¥æ–¹å‘å³ä¸ºè¯¥åŒºåŸŸåƒç´ çš„å…‰æµæ–¹å‘ã€‚<br />
ä½†è¿™ä¹ˆç®—çš„è¯æ•ˆç‡å¾ˆä½ï¼Œè€Œä¸”æŠŠè¿åŠ¨ç©ºé—´åˆ†æ•£äº†ï¼Œè¿™è·Ÿç°å®ä¸å¤ªç¬¦ã€‚<br />
æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°å¦ä¸€ä¸ªæ–¹æ³•æ¥è¿‘ä¼¼ã€‚</p>
<h2 id="æ”¹è¿›">æ”¹è¿›</h2>
<p>å¯¹äºä¸Šé¢é‚£ä¸ªå·®å¼‚å…¬å¼ï¼Œå³è¾¹ç¬¬ä¸€é¡¹å¯ä»¥å†™ä¸ºï¼š <span class="math display">\[
I(x+u,y+v,t+1)=I(x+\Delta_x,y+\Delta_y,t+\Delta_t)
\]</span> ç»§ç»­ç”¨æ³°å‹’çº§æ•°å±•å¼€å¯è¡¨ç¤ºä¸ºï¼š <span class="math display">\[
I(x,y,t)+\Delta_x\frac{\partial}{\partial x}I(x,y,t)+\Delta_y\frac{\partial}{\partial y}I(x,y,t)+\Delta_t\frac{\partial}{\partial t}I(x,y,t)+\epsilon(\Delta_x^2,\Delta_y^2,\Delta_t^2)
\]</span> æœ€åä¸€é¡¹<span class="math inline">\(\epsilon\)</span>æ˜¯è¿‘ä¼¼è¯¯å·®ï¼Œå½“<span class="math inline">\(\Delta_t\)</span>è¶³å¤Ÿå°æ—¶ï¼Œè¿™ä¸ªè¯¯å·®è¿‘ä¼¼ä¸º0ã€‚<br />
æ‰€ä»¥ä¸Šé¢çš„SSDè¿‘ä¼¼å¯å†™ä¸ºï¼š <span class="math display">\[
\begin{split}
E_{SSD}(u,v) &amp;\approx \sum_{(x,y)\in R}(I(x,y,t)+u\frac{\partial}{\partial x}I(x,y,t)+v\frac{\partial}{\partial y}I(x,y,t)+\frac{\partial}{\partial t}I(x,y,t)-I(x,y,t))^2\\\\
&amp;= \sum_{(x,y)\in R}(u\frac{\partial}{\partial x}I(x,y,t)+v\frac{\partial}{\partial y}I(x,y,t)+\frac{\partial}{\partial t}I(x,y,t))^2\\\\
&amp;= \sum_{(x,y)\in R}(u\cdot I_x(x,y,t)+v\cdot I_y(x,y,t)+I_t(x,y,t))^2
\end{split}
\]</span> è¿™ä¸ªSSDè¿‘ä¼¼æ–¹ç¨‹ç›¸è¾ƒäºæ›´ä¸Šé¢çš„é‚£ä¸ªå·®å¼‚æ€§æ–¹ç¨‹æ¥è¯´ï¼Œè¿™ä¸ªæ–¹ç¨‹å¯¹äºè¿åŠ¨<span class="math inline">\(u,v\)</span>æ˜¯å‡¸çš„ï¼Œæ‰€ä»¥æ›´å®¹æ˜“è®¡ç®—ï¼Œä½†æ˜¯ï¼Œè¿™åªé€‚ç”¨äº<mark><strong>å°è¿åŠ¨</strong></mark>çš„æƒ…å†µã€‚<br />
å½“<span class="math inline">\(\Delta_t\)</span>è¶³å¤Ÿå°è¶‹è¿‘äº0çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰ä¸‹é¢è¿™ä¸ªå¼å­ï¼š <span class="math display">\[
u\cdot I_x+v\cdot I_y+I_t=0
\]</span> è¿™å°±æ˜¯å…‰æµçº¦æŸæ–¹ç¨‹(optical flow constraint equation, OFCE)ï¼Œä¹Ÿæˆä¸ºçº¿æ€§åŒ–äº®åº¦æ’å®šçº¦æŸã€‚<br />
ä¸Šé¢è¿™ä¸ªçº¦æŸæ–¹ç¨‹å¯æ”¹å†™æˆä¸‹é¢å½¢å¼ï¼š <span class="math display">\[
\Delta I^Tu=-I_t
\]</span> å…¶ä¸­: <span class="math display">\[
u=
\begin{pmatrix}
u\\v
\end{pmatrix}
\quad
\Delta I=
\begin{pmatrix}
I_x\\
I_y
\end{pmatrix}
\]</span> *********************************************************************************<br />
å¦å¤–ï¼Œå¯¹äºè¿™ä¸ªå…¬å¼çš„æ¨å¯¼ï¼Œæœ‰äº›åœ°æ–¹ä¼šè¿™ä¹ˆå†™ï¼Œéƒ½ä¸€ä¸ªæ„æ€ï¼š <span class="math display">\[
\frac{dI}{dt}=\frac{\partial I}{\partial x}\frac{dx}{dt}+\frac{\partial I}{\partial y}\frac{dy}{dt}+\frac{\partial I}{\partial t}
\]</span> å½“å‡è®¾æ¯ä¸ªåœºæ™¯ç‚¹çš„å›¾åƒå¼ºåº¦éšæ—¶é—´æ¨ç§»è€Œä¸å˜æ—¶(ä¾‹å¦‚äº®åº¦)ï¼Œåˆ™æœ‰ï¼š <span class="math display">\[
\frac{dI}{dt}=0
\]</span> åˆ™ï¼š <span class="math display">\[
u\cdot I_x+v\cdot I_y+I_t=0
\]</span> ä¸¤ç§æ¨å¯¼ä¸€ä¸ªæ„æ€ã€‚<br />
*********************************************************************************<br />
ç”¨è¿™ä¸ªçº¦æŸçš„è¯æœ‰ä¸ªé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢æåˆ°çš„å­”å¾„é—®é¢˜(The Aperture Problem)ã€‚</p>
<h3 id="the-aperture-problem">The Aperture Problem</h3>
<p>å­”å¾„é—®é¢˜(The Aperture Problem)çš„è¯ï¼Œè¡¨ç°ä¸ºä¸‹å›¾è¿™ç§æƒ…å†µ<img src="/images/299.png" /> <img src="/images/300.png" /> ä¹Ÿå°±æ˜¯è¯´å¯¹äºç¬¬ä¸€å¹…å›¾ï¼Œè™½ç„¶çº¿æ˜¯å¾€å³å¹³ç§»çš„ï¼Œä½†æˆ‘ä»¬çš„åˆ¤æ–­å´æ˜¯ä¸‹é¢è¿™æ ·ï¼š<img src="/images/301.png" /> ç®€å•è§£é‡Šä¸€ä¸‹ï¼Œç°å‡è®¾æˆ‘ä»¬å–ä¸€ä¸ªå•ä¸€çš„åƒç´ ç‚¹ï¼Œå¹¶å¾—åˆ°äº†ä¸‹é¢è¿™ä¸ªçº¦æŸæ–¹ç¨‹ï¼š <span class="math display">\[
u\cdot I_x+v\cdot I_y+I_t=0
\]</span> ç”»å‡ºæ¥çš„è¯å¦‚ä¸‹å›¾ï¼š<img src="/images/302.png" /> è¿™é‡Œæœ‰ä¸¤ä¸ªæœªçŸ¥æ•°ï¼Œå´åªæœ‰ä¸€æ¡çº¿ï¼Œæˆ‘ä»¬æ²¡æ³•ç¡®è®¤å…·ä½“çš„<span class="math inline">\(u,v\)</span>ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å–å›¾ä¸­"Normal flow"æ–¹å‘çš„å€¼(å¦‚æœè¿˜æœ‰ä¸€æ¡çº¿ç¡®å®šä¸€ä¸ªäº¤ç‚¹ï¼Œé‚£å°±ä¸ç”¨çº ç»“äº†)ã€‚<br />
å†ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹å›¾ï¼š<img src="/images/303.png" /> ä¸ä¸Šé¢æƒ…å†µç±»ä¼¼ï¼Œå¯¹äºå…‰åœˆä¸­è§‚å¯Ÿåˆ°çš„ç›´çº¿çš„ç§»åŠ¨ï¼Œæœ‰æ— æ•°ç§å¯èƒ½ï¼Œä¸Šå›¾åªå–å…¶ä¸­ä¸‰ç§ï¼Œåˆ—å‡ºä¸‹é¢è¿™ä¸ªçº¦æŸæ–¹ç¨‹ï¼š <span class="math display">\[
u\cdot I_x+v\cdot I_y+I_t=0
\]</span> ç”±äºæˆ‘ä»¬è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬åªç ”ç©¶å‚ç›´æ–¹å‘ï¼Œä¹Ÿå°±æ˜¯ä¸­é—´è¿™ç§(è¿™æ˜¯äººä¸ºå®šçš„)ï¼Œå› ä¸ºå…¶å®ƒå¯èƒ½æ€§æˆ‘ä»¬æ²¡æ³•ç ”ç©¶ï¼Œé™¤éæœ‰å…ˆéªŒã€‚ä¹Ÿå°±æ˜¯è¯´<span class="math inline">\(v\)</span>æ–¹å‘æ²¡è¿åŠ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ï¼š <span class="math display">\[
u\cdot I_x+0\cdot I_y+I_t=0
\]</span> è¿›è€Œï¼š <span class="math display">\[
u=-\frac{I_t}{I_x}
\]</span> ç°åœ¨åè¿‡æ¥è€ƒè™‘ï¼Œç”±äºæˆ‘ä»¬åªç ”ç©¶<span class="math inline">\(u\)</span>æ–¹å‘ï¼Œ<span class="math inline">\(v\)</span>æ–¹å‘æ²¡è¿åŠ¨çš„è¯ï¼Œå³æ˜¯:<span class="math inline">\(I_y=0\)</span>ï¼Œæ­¤æ—¶<span class="math inline">\(v\)</span>å¯ä¸ºä»»æ„å€¼ã€‚<br />
è¿™å°±æ˜¯å¸¸è§åˆ°çš„ä¸¤ä¸ªç»“è®ºï¼š</p>
<blockquote>
<ol type="1">
<li>æ¢¯åº¦æ–¹å‘çš„å…‰æµæ˜¯ç¡®å®šçš„ï¼›</li>
<li>ä½†å¹³è¡Œäºè¾¹ç¼˜çš„å…‰æµæ˜¯æœªçŸ¥çš„ã€‚</li>
</ol>
</blockquote>
<p>(è¿™éƒ¨åˆ†ä¸å¤ªå¥½ç”¨æ–‡å­—è¯´æ˜ï¼Œå¾ˆå¤šåœ°æ–¹ç›´æ¥è¯´â€œç”±çº¦æŸæ–¹ç¨‹ç›´è§‰ä¸Šå¯çŸ¥â€ä¸Šé¢ä¸¤ä¸ªç»“è®ºï¼Œå›¾ä¹Ÿä¸ç»™ï¼Œç¥å®ƒå–µçš„â€œç›´è§‰â€â€¦â€¦)<br />
è¿™éƒ¨åˆ†çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹å°±è¡Œã€‚<br />
ä¹Ÿå°±æ˜¯è¯´è¿åŠ¨åœºè·Ÿå…‰æµä¸ä¸€å®šä¸€æ ·ï¼Œä¸¾ä¸ªæ›´ç®€å•çš„ä¾‹å­ï¼Œç†å‘åº—é—¨å£çš„é¢œè‰²æŸ±<img src="/images/304.png" /> å…¶è¿åŠ¨åœºå’Œå…‰æµåˆ†åˆ«æ˜¯ï¼š<img src="/images/305.png" /></p>
<h2 id="å¤šä¸ªçº¦æŸ">å¤šä¸ªçº¦æŸ</h2>
<p>ä¸Šé¢è¯´åˆ°ï¼Œå› ä¸ºä¸¤ä¸ªæœªçŸ¥æ•°ä¸€æ¡çº¿æ‰€ä»¥æˆ‘ä»¬åªèƒ½ä¼°è®¡æ³•çº¿æ–¹å‘çš„å…‰æµï¼Œé‚£ç°åœ¨æˆ‘ä»¬æ‰¾å¤šå‡ ä¸ªç‚¹ï¼Œå°±ä¼šæœ‰ä¸‹é¢è¿™ç§æƒ…å†µï¼š<img src="/images/306.png" /> è¿™å°±ç¡®å®šä¸‹æ¥äº†ã€‚æˆ‘ä»¬èƒ½è¿™ä¹ˆåšæ˜¯å› ä¸ºä¸Šé¢æœ‰äº†å‡è®¾2ï¼Œä¹Ÿå°±æ˜¯ç©ºé—´è¿ç»­æ€§å‡è®¾ï¼Œä¹Ÿå°±æ˜¯è¯´å‡è®¾å…‰æµåœ¨ä¸€ä¸ªåŒºåŸŸå†…æ˜¯æ’å®šçš„ã€‚<br />
å›åˆ°ä¸Šé¢é‚£ä¸ªå¼å­ï¼š <span class="math display">\[
E_{SSD}(u,v) \approx \sum_{(x,y)\in R}(u\cdot I_x(x,y,t)+v\cdot I_y(x,y,t)+I_t(x,y,t))^2
\]</span> è¦è®¡ç®—è¿åŠ¨çš„è¯è¿™é‡Œåˆ†åˆ«å¯¹<span class="math inline">\(u,v\)</span>æ±‚å¯¼å¹¶ä½¿å…¶ä¸º0ï¼š <span class="math display">\[
\frac{\partial}{\partial u}E_{SSD}(u,v) \approx
2\sum_{(x,y)\in R}(u\cdot I_x(x,y,t)+v\cdot I_y(x,y,t)+I_t(x,y,t))I_x(x,y,t)=0
\]</span> <span class="math display">\[
\frac{\partial}{\partial v}E_{SSD}(u,v) \approx
2\sum_{(x,y)\in R}(u\cdot I_x(x,y,t)+v\cdot I_y(x,y,t)+I_t(x,y,t))I_y(x,y,t)=0
\]</span> å³ï¼š<img src="/images/307.png" /> å†™æˆçŸ©é˜µå½¢å¼ï¼š<img src="/images/308.png" /> å·¦è¾¹ç¬¬ä¸€ä¸ªçŸ©é˜µæ˜¯å¯¹ç§°æ­£å®šçŸ©é˜µï¼Œå¯é€†ï¼Œå®ƒçš„ç‰¹å¾å‘é‡ç»™å‡ºäº†å±€éƒ¨å›¾åƒå˜åŒ–çš„ä¸»è¦æ–¹å‘ã€‚ç‰¹å¾å€¼åˆ™è¡¨ç¤ºå…¶å¼ºåº¦ã€‚<br />
æ­¤æ—¶æ±‚ä¸ªé€†å…‰æµ<span class="math inline">\(u,v\)</span>å°±ç®—å‡ºæ¥äº†ã€‚ è¿™ç§æ–¹æ³•å°±æ˜¯LKå…‰æµæ³•ã€‚</p>
<h2 id="coarse-to-fine-estimation">Coarse-to-fine estimation</h2>
<p>è¿™é‡Œè¿˜æœ‰ä¸ªé—®é¢˜ï¼ŒLK-modelè¦æ±‚æ˜¯å°è¿åŠ¨ã€‚ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç”¨Coarse-to-fine estimationï¼ŒåŸºæœ¬æ“ä½œæ˜¯ï¼š</p>
<blockquote>
<ol type="1">
<li>å»ºç«‹ä¸€ä¸ªé«˜æ–¯é‡‘å­—å¡”;</li>
<li>ä»æœ€ä½åˆ†è¾¨ç‡å¼€å§‹ï¼Œæ­¤æ—¶è¿åŠ¨å¾ˆå°;</li>
<li>ä½¿ç”¨è¿™ä¸ªè¿åŠ¨æ¥ pre-warp ä¸‹ä¸€ä¸ªæ›´ç²¾ç»†çš„å°ºåº¦;</li>
<li>åªè®¡ç®—è¿åŠ¨å¢é‡</li>
</ol>
</blockquote>
<p>å…·ä½“è¿‡ç¨‹è§<a href="https://blog.csdn.net/sgfmby1994/article/details/68489944">è¿™é‡Œ</a></p>
<h2 id="å¯†é›†lkå…‰æµdense-lk-flow">å¯†é›†LKå…‰æµ(Dense LK Flow)</h2>
<p>è¦è®¡ç®—å¯†é›†LKå…‰æµçš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥åªæŠŠåŒºåŸŸRçœ‹ä½œæ˜¯æ¯ä¸ªåƒç´ å‘¨å›´çš„ä¸€ä¸ªå°åŒºåŸŸï¼Œå¹¶ä¸ºæ¯ä¸ªåƒç´ è®¡ç®—ä¸€ä¸ªæµåŠ¨çŸ¢é‡ã€‚<br />
å¯¹äºè€é—®é¢˜ï¼šsmall motionsï¼Œå¯ä»¥ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹æ³•è§£å†³ï¼š</p>
<blockquote>
<ol type="1">
<li>è¿­ä»£ä¼°è®¡</li>
<li>Coarse-to-fine estimation</li>
</ol>
</blockquote>
<h3 id="è¿­ä»£ä¼°è®¡">è¿­ä»£ä¼°è®¡</h3>
<p>é¦–å…ˆé€šè¿‡ä¸¤å¼ å›¾è®¡ç®—å…¶LKå…‰æµï¼Œå¦‚ä¸‹ï¼š<img src="/images/309.png" /> ç„¶åå°†ç¬¬äºŒå‰¯å›¾æ ¹æ®ä¸Šé¢è®¡ç®—å‡ºæ¥çš„å…‰æµï¼Œå‘ç¬¬ä¸€å¹…å›¾é æ‹¢ï¼Œå¦‚ä¸‹ï¼š<img src="/images/310.png" /> å†è®¡ç®—ç¬¬ä¸€å‰¯å›¾ä¸warpåçš„ç¬¬äºŒå¹…å›¾çš„å…‰æµï¼Œå¦‚ä¸‹ï¼š<img src="/images/311.png" /> å°†ä¸Šé¢è®¡ç®—å‡ºæ¥çš„å…‰æµè·Ÿä¹‹å‰çš„å…‰æµå åŠ ï¼Œå†å°†ç¬¬äºŒå‰¯å›¾æŒ‰ç…§è¿™ä¸ªæ–°çš„å…‰æµå‘ç¬¬ä¸€å¹…å›¾é æ‹¢ï¼Œå¦‚ä¸‹ï¼š<img src="/images/312.png" /> å¦‚æ­¤å¾€å¤ä¸€ç›´ä¸‹å»ç›´åˆ°æ”¶æ•›ã€‚</p>
<h3 id="coarse-to-fine-estimation-1">Coarse-to-fine estimation</h3>
<p>å¦‚æœç”¨é«˜æ–¯é‡‘å­—å¡”çš„è¯ï¼Œç»“æœä¼šæ˜¯è¿™æ ·å­ï¼š<img src="/images/313.png" /> è·ŸGround Truthåšå¯¹æ¯”çš„è¯ï¼Œå¦‚ä¸‹ï¼š<img src="/images/314.png" /> æ•ˆæœæ˜æ˜¾ä¸å¤ªå¥½ï¼Œæœ‰äº›åœ°æ–¹çª—å£å¤ªå¤§äº†ï¼Œä»¥è‡³äºä¸€äº›ä¸è¿ç»­çš„åœ°æ–¹éƒ½è¢«ç£¨å¹³äº†ï¼Œæœ‰äº›åœ°æ–¹çª—å£åˆ™å¤ªå°ï¼Œä¼°è®¡ç»“æœå¾ˆå·®ï¼Œå› ä¸ºçª—å£ä¸­æ²¡æœ‰è¶³å¤Ÿçš„å›¾åƒä¿¡æ¯ã€‚<br />
ç»ˆç©¶ï¼ŒLKå…‰æµæ³•åªæ˜¯ä¸€ç§å±€éƒ¨å…‰æµæ³•ï¼Œè‡³äºå…¨å±€å…‰æµæ³•ï¼Œè§å¦å¤–ä¸¤ç¯‡ã€‚</p>
<h1 id="è¯´æ˜">è¯´æ˜</h1>
<p>è¿™ä¸ªç›¸å…³ä»£ç éƒ½ä¼šä¸Šä¼ åˆ°æˆ‘çš„Githubä¸Šï¼Œä½†ç”±äºæ”’äº†åå‡ ä¸ªä»£ç éƒ½è¦ä¿®æ”¹ä¸Šä¼ ï¼Œæœ€è¿‘åˆå¾ˆå¤šäº‹ï¼Œæ‰€ä»¥å¦‚æœGithubä¸Šæ²¡æœ‰ï¼Œé‚£å°±æ˜¯è¿˜æ²¡ä¸Šä¼ ã€‚</p>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p>ã€1ã€‘ https://blog.csdn.net/sgfmby1994/article/details/68489944</p>
]]></content>
      <categories>
        <category>å›¾åƒå¤„ç†</category>
      </categories>
  </entry>
  <entry>
    <title>æ‹Ÿåˆä¼˜åº¦æ£€éªŒ</title>
    <url>/posts/23.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>æ‹Ÿåˆä¼˜åº¦æ£€éªŒæ˜¯ç”¨æ¥æ£€æµ‹æå‡ºçš„æ¨¡å‹ä¸æ•°æ®æ˜¯å¦ä¸€è‡´ï¼Œè¿™åœ¨æ•°æ®ç§‘å­¦é¢†åŸŸå¾ˆé‡è¦ï¼Œå› ä¸ºé€šè¿‡è¿™ç§æ£€æµ‹å¯ä»¥çŸ¥é“ï¼š</p>
<blockquote>
<ol type="1">
<li>æ•°æ®æ˜¯å¦ç¬¦åˆæˆ‘ä»¬æå‡ºçš„å‡è®¾ï¼ˆæ¯”å¦‚é«˜æ–¯æ€§ï¼‰;<br />
</li>
<li>ä¸¤ä¸ªæ•°æ®é›†çš„åˆ†å¸ƒæ˜¯å¦å¯ä»¥å‡å®šä¸ºç›¸åŒã€‚</li>
</ol>
</blockquote>
<span id="more"></span>
<p>ä¸€èˆ¬æ¥è¯´ï¼š</p>
<blockquote>
<ol type="1">
<li><strong>ç¦»æ•£åˆ†å¸ƒ</strong>å¯¹åº”äº<strong>Chi-square test</strong> ;<br />
</li>
<li><strong>è¿ç»­åˆ†å¸ƒ</strong>å¯¹åº”äº<strong>Kolmogorov Smirnov</strong>ã€‚</li>
</ol>
</blockquote>
<h1 id="chi-square-test">Chi-square test</h1>
<p>è¿™ä¸ªå°±æ˜¯ç»å¸¸èƒ½å¬åˆ°çš„å¡æ–¹æ£€æµ‹ï¼Œå¡æ–¹æ£€æµ‹ä¸€èˆ¬æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºæ‹Ÿåˆåº¦çš„å¡æ–¹æ£€éªŒå’Œå¡æ–¹ç‹¬ç«‹æ€§æ£€éªŒï¼Œè¿™é‡Œé‡ç‚¹ä»‹ç»ç¬¬ä¸€ç§ã€‚<br />
</p>
<h2 id="æ‹Ÿåˆåº¦å¡æ–¹æ£€æµ‹">æ‹Ÿåˆåº¦å¡æ–¹æ£€æµ‹</h2>
<p>ç®€å•å®šä¹‰çš„è¯ï¼Œå°±æ˜¯ä½¿ç”¨æ ·æœ¬æ•°æ®æ£€éªŒæ€»ä½“åˆ†å¸ƒå½¢æ€æˆ–è€…æ¯”ä¾‹çš„å‡è¯´ï¼Œæˆ–è€…è¯´å¾—å†æ¸…æ¥šä¸€ç‚¹ï¼Œæ£€éªŒè¯¥æ ·æœ¬çš„åˆ†å¸ƒæ¯”ä¾‹ä¸æ€»ä½“åˆ†å¸ƒæ¯”ä¾‹çš„æ‹Ÿåˆç¨‹åº¦ã€‚<br />
æ‹Ÿåˆåº¦å¡æ–¹æ£€æµ‹åˆåˆ†ä¸ºå¦‚ä¸‹ä¸¤ç§æƒ…å†µï¼š<br />
</p>
<h3 id="case-1-æ‰€æœ‰å‚æ•°éƒ½æ˜¯ç¡®å®šçš„">case 1: æ‰€æœ‰å‚æ•°éƒ½æ˜¯ç¡®å®šçš„</h3>
<p>ç”±äºè¿™æ˜¯æ£€éªŒåˆ†å¸ƒæ¯”ä¾‹çš„ï¼Œæ‰€ä»¥é›¶å‡è®¾å’Œå¤‡é€‰å‡è®¾å¯ä»¥å†™æˆè¿™æ ·ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(H_0\)</span>: <span class="math inline">\(P\left\{ Y=i\right\}=p_i\)</span> vs <span class="math inline">\(H_1\)</span>: <span class="math inline">\(P\left\{ Y=i\right\}\neq p_i\)</span>, <span class="math inline">\(i\in\)</span> {<span class="math inline">\(k\)</span> discrete outcomes}ã€‚<br />
</li>
</ol>
</blockquote>
<p>å®šä¹‰å¦‚ä¸‹å˜é‡ï¼š<br />
</p>
<blockquote>
<p><span class="math inline">\(X_i\)</span> ä¸ºè¾“å‡ºç»“æœ <span class="math inline">\(i\)</span> åœ¨ <span class="math inline">\(n\)</span> æ¬¡é‡å¤è¯•éªŒä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œå•çœ‹ç»“æœ <span class="math inline">\(i\)</span> çš„è¯ï¼Œå¯ä»¥çœ‹æˆæ˜¯äºŒé¡¹åˆ†å¸ƒï¼Œæ‰€ä»¥æœ‰ <span class="math inline">\(E[X_i]=np_i\)</span>ã€‚<br />
</p>
</blockquote>
<p>æ£€æµ‹ç»Ÿè®¡é‡ä¸ºï¼š <span class="math display">\[
T=\sum_i\frac{(x_i-np_i)^2}{np_i}
\]</span> å½“æ¬¡æ•° <span class="math inline">\(n\)</span> å¾ˆå¤§ï¼Œä¸”é›¶å‡è®¾æˆç«‹æ—¶ï¼Œ<span class="math inline">\(T\)</span> å¯è¿‘ä¼¼çœ‹ä½œæ˜¯ <span class="math inline">\(k-1\)</span> ä¸ªè‡ªç”±åº¦çš„å¡æ–¹åˆ†å¸ƒï¼Œå°±å¯ä»¥æŸ¥é˜…å¡æ–¹è¡¨è¿›è¡Œæ¯”è¾ƒäº†ã€‚<br />
</p>
<p>æœ€åæ ¹æ®è®¾ç½®çš„ <span class="math inline">\(\alpha\)</span> å€¼ï¼Œå½“ <span class="math inline">\(T \geq \chi_{\alpha,k-1}^2\)</span> æ—¶ï¼Œæ‹’ç»é›¶å‡è®¾ï¼Œå¦åˆ™æ¥å—ã€‚<br />
</p>
<h4 id="ä¸€ä¸ªä¾‹å­">ä¸€ä¸ªä¾‹å­</h4>
<p>åœ¨ä¸€ä¸ªè¯•éªŒä¸­å…±æœ‰6ä¸ªå¯èƒ½çš„è¾“å‡ºåˆ†åˆ«æ˜¯ <span class="math inline">\(a,b,c,d,e,f\)</span>ï¼Œç°å‡è®¾å…¶å‡ºç°æ¦‚ç‡åˆ†åˆ«ä¸ºï¼š0.1ï¼Œ0.1ï¼Œ0.05ï¼Œ0.4ï¼Œ0.2ï¼Œ0.15ï¼Œè¯•éªŒé‡å¤40æ¬¡æ‰€å¾—åˆ°çš„å„ç»“æœé¢‘æ•°åˆ†åˆ«æ˜¯ï¼š3ï¼Œ3ï¼Œ5ï¼Œ18ï¼Œ4ï¼Œ7ã€‚é—®ï¼šä¸€å¼€å§‹é‚£ä¸ªé¢‘ç‡å‡è®¾æ˜¯å¦åˆç†ï¼Ÿ<br />
<strong>é›¶å‡è®¾<span class="math inline">\(H_0\)</span></strong>ï¼š<br />
<span class="math display">\[
P\left\{ Y=a\right\}=0.1, \quad P\left\{ Y=b\right\}=0.1, \quad P\left\{ Y=c\right\}=0.05
\]</span> <span class="math display">\[
P\left\{ Y=d\right\}=0.4, \quad P\left\{ Y=e\right\}=0.2, \quad P\left\{ Y=f\right\}=0.15
\]</span> <strong>è®¡ç®—ç»Ÿè®¡é‡</strong><br />
å°† <span class="math inline">\(n=40\)</span>ï¼Œ6ä¸ª<span class="math inline">\(p_i\)</span>ä»£å…¥ <span class="math inline">\(T=\sum_i\frac{(x_i-np_i)^2}{np_i}\)</span> æ±‚å‡º <span class="math inline">\(T=7.416666667\)</span>ã€‚<br />
<strong>æŸ¥è¡¨</strong><br />
è®¾<span class="math inline">\(\alpha=0.05\)</span>ï¼Œè‡ªç”±åº¦<span class="math inline">\(df=6-1=5\)</span>ï¼ŒæŸ¥è¡¨å¾—: <span class="math inline">\(\chi_{0.05,5}^2=11.070\)</span>ã€‚<br />
<strong>å†³ç­–</strong><br />
ç”±äº <span class="math inline">\(T \leq \chi_{0.05,5}^2\)</span>ï¼Œæ‰€ä»¥æ¥å—é›¶å‡è®¾ã€‚</p>
<h3 id="case-2-æŸäº›å‚æ•°éƒ½æ˜¯æœªç¡®å®šçš„">case 2: æŸäº›å‚æ•°éƒ½æ˜¯æœªç¡®å®šçš„</h3>
<p>ä¸ä¸Šé¢<span class="math inline">\(n\)</span>å’Œ<span class="math inline">\(p_i\)</span>éƒ½ç¡®å®šçš„æƒ…å†µä¸åŒï¼Œè¿™é‡Œæœ‰äº›å‚æ•°æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦æˆ‘ä»¬æ ¹æ®å…¶å®ƒåŠæ³•(æ¯”å¦‚MLE)è¿‘ä¼¼ç¡®å®šã€‚<br />
å‡è®¾æˆ‘ä»¬æœ‰ <span class="math inline">\(m\)</span> ä¸ªæœªæŒ‡å®šçš„å‚æ•°ï¼Œéœ€è¦æˆ‘ä»¬ç”¨MLEæ¥ç¡®å®šï¼Œæ¯”å¦‚è¯´æ³Šæ¾åˆ†å¸ƒ <span class="math inline">\(Y\sim Pois(\lambda)\)</span> çš„å‡å€¼çš„MLEä¼°è®¡ä¸º: <span class="math inline">\(\hat{\lambda}=\frac{1}{n}\sum_{j=1}^ny_j\)</span>;<br />
æµ‹è¯•ç»Ÿè®¡é‡ä¸ºï¼š <span class="math display">\[
T=\sum_i\frac{(x_i-n\hat{p}_i)^2}{n\hat{p}_i}
\]</span> è¿™é‡Œçš„<span class="math inline">\(\hat{p}_i\)</span>æ˜¯ä¼°è®¡å‚æ•°ã€‚<br />
æ¯”å¦‚è¯´æ³Šæ¾åˆ†å¸ƒçš„<span class="math inline">\(pmf\)</span>ä¸ºï¼š <span class="math inline">\(P(Y=i)=\frac{e^{-\lambda}\lambda^i}{i!}\)</span><br />
å°†æ•°æ®åˆ†ä¸º<span class="math inline">\(k\)</span>ç»„ï¼Œæ¯ç»„è¿›è¡Œåˆ†å¸ƒç»Ÿè®¡ã€‚<br />
è‹¥è¯•éªŒæ¬¡æ•°<span class="math inline">\(n\)</span>è¶³å¤Ÿå¤§ä¸”é›¶å‡è®¾ä¸ºçœŸï¼Œåˆ™<span class="math inline">\(T\)</span>è¿‘ä¼¼ä¸ºå¡æ–¹åˆ†å¸ƒï¼Œè‡ªç”±åº¦ä¸º <span class="math inline">\(k-1-m\)</span>ã€‚<br />
å¯¹äºè®¾å®šå€¼<span class="math inline">\(\alpha\)</span>ï¼Œè‹¥ <span class="math inline">\(T \geq \chi_{\alpha,k-1-m}^2\)</span>ï¼Œåˆ™æ‹’ç»é›¶å‡è®¾ï¼Œå¦åˆ™æ¥å—ã€‚</p>
<h4 id="ä¸€ä¸ªä¾‹å­-1">ä¸€ä¸ªä¾‹å­</h4>
<p>æˆ‘ä»¬æœ‰ä¸‹é¢30ä¸ªæ•°æ®ï¼Œè¡¨æ˜30å‘¨é‡Œæ¯å‘¨è½¦ç¥¸å‘ç”Ÿçš„æ¬¡æ•°ï¼Œç°åœ¨éœ€è¦éªŒè¯ä¸€å‘¨äº‹æ•…å‘ç”Ÿæ¬¡æ•°æœä»æ³Šæ¾åˆ†å¸ƒã€‚<img src="/images/265.png" /> æˆ‘ä»¬å°†æ•°æ®åˆ†æˆå¦‚ä¸‹5ç»„ï¼š <span class="math display">\[
(1).Y=0,\quad (2).Y=1,\quad (3).Y=2\;or\; 3, \quad (4). Y=4\;or\;5,\quad (5). Y&gt;5
\]</span></p>
<p><strong>æ­¥éª¤1</strong><br />
é¦–å…ˆæˆ‘ä»¬å¯¹æ•°æ®æ ¹æ®åˆ†ç»„è¿›è¡Œç»Ÿè®¡ï¼Œç»“æœå¦‚ä¸‹ï¼š <img src="/images/266.png" /> <strong>æ­¥éª¤2</strong><br />
è®¡ç®—ä¼°è®¡å‚æ•° <span class="math inline">\(\hat{\lambda}\)</span>ï¼›<br />
æ ¹æ®ä¸Šé¢æ³Šæ¾åˆ†å¸ƒçš„MLEè®¡ç®—ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯æ•°æ®çš„å‡å€¼äº†ï¼Œç­‰äºï¼š<span class="math inline">\(\hat{\lambda}=3.167\)</span>ï¼›<br />
<strong>æ­¥éª¤3</strong><br />
æ ¹æ®æ±‚å‡ºçš„ä¼°è®¡å‚æ•°ï¼Œä»£å…¥æ³Šæ¾åˆ†å¸ƒçš„ <span class="math inline">\(pmf\)</span> ä¸­ï¼Œè®¡ç®—å„ä¸ªç»„çš„æ¦‚ç‡ï¼š <span class="math display">\[
\hat{p}_1=0.042,\quad \hat{p}_2=0.133,\quad \hat{p}_3=0.434,\quad \hat{p}_4=0.288, \quad \hat{p}_5=0.102
\]</span> <strong>æ­¥éª¤4</strong><br />
è®¡ç®—éªŒè¯ç»Ÿè®¡é‡ï¼š <span class="math display">\[
T=\sum_{i=1}^5=\frac{(x_i-30\hat{p}_i)^2}{30\hat{p}_i}=21.99
\]</span> <strong>æ­¥éª¤5</strong><br />
æŸ¥å¡æ–¹è¡¨ï¼Œæ ¹æ® <span class="math inline">\(\alpha=0.05\)</span>ï¼Œè‡ªç”±åº¦<span class="math inline">\(df=k-1-m=5-1-1=3\)</span> æŸ¥å¾—ï¼š<span class="math inline">\(\chi_{0.05,3}^2=7.815\)</span>ã€‚<br />
<strong>æ­¥éª¤6</strong><br />
å†³ç­–ï¼Œç”±äº<span class="math inline">\(21.99\geq 7.815\)</span>ï¼Œæ‰€ä»¥æ‹’ç»é›¶å‡è®¾ï¼Œä¸€å‘¨äº‹æ•…é¢‘æ•°ä¸æœä»æ³Šæ¾åˆ†å¸ƒã€‚<br />
</p>
<h2 id="å¡æ–¹ç‹¬ç«‹æ€§æ£€éªŒ">å¡æ–¹ç‹¬ç«‹æ€§æ£€éªŒ</h2>
<p>è¿™é‡Œåªæ˜¯ç®€å•ä»‹ç»æ€ä¹ˆç”¨è¿™ä¸ªæ£€éªŒï¼Œè¦å…·ä½“æ¨å¯¼çš„è¯çœ‹<a href="https://zhuanlan.zhihu.com/p/131286213">è¿™é‡Œ</a>ã€‚<br />
å¡æ–¹ç‹¬ç«‹æ€§æ£€éªŒæ˜¯ä¸ºäº†æ£€éªŒä¸¤ä¸ªå˜é‡æ˜¯å¦ç‹¬ç«‹ï¼Œæ¯”å¦‚è¯´æ€§åˆ«ä¸è€ƒè¯•é€šè¿‡ç‡æ˜¯å¦ç‹¬ç«‹ï¼Œæˆ–è€…ä¼šä¸ä¼šè¯´è‹±è¯­ä¸æ”¶åˆ°çš„offeræ˜¯å¦ç‹¬ç«‹ç­‰ã€‚<br />
è¿™é‡Œç›´æ¥ç”¨é“¾æ¥é‡Œçš„è¿™ä¸ªä¾‹å­ï¼Œä¸¤ä¸ªå˜é‡åˆ†åˆ«æ˜¯æ€§åˆ«ä¸åˆ†æœŸä¸å¦ã€‚<br />
è§‚æµ‹å€¼å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">åˆ†æœŸ</th>
<th style="text-align: center;">ä¸åˆ†æœŸ</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">ç”·</td>
<td style="text-align: center;">90</td>
<td style="text-align: center;">110</td>
<td style="text-align: center;">200</td>
</tr>
<tr class="even">
<td style="text-align: center;">å¥³</td>
<td style="text-align: center;">30</td>
<td style="text-align: center;">70</td>
<td style="text-align: center;">100</td>
</tr>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;">120</td>
<td style="text-align: center;">180</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>è¿™é‡Œçš„ 90ï¼Œ110ï¼Œ30ï¼Œ70åˆ†åˆ«ç”¨<span class="math inline">\(o_1,o_2,o_3,o_4\)</span>è¡¨ç¤ºã€‚<br />
åšé›¶å‡è®¾ï¼šä¸¤å˜é‡ç‹¬ç«‹ã€‚<br />
æ ¹æ®è¿™ä¸ªé›¶å‡è®¾ï¼Œæˆ‘ä»¬æœŸæœ›çš„å€¼åº”è¯¥æ˜¯ï¼ˆå°±æ˜¯æ¯”ä¾‹ç›¸åŒï¼‰ï¼š</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">åˆ†æœŸ</th>
<th style="text-align: center;">ä¸åˆ†æœŸ</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">ç”·</td>
<td style="text-align: center;">80</td>
<td style="text-align: center;">120</td>
<td style="text-align: center;">200</td>
</tr>
<tr class="even">
<td style="text-align: center;">å¥³</td>
<td style="text-align: center;">40</td>
<td style="text-align: center;">60</td>
<td style="text-align: center;">100</td>
</tr>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;">120</td>
<td style="text-align: center;">180</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>è¿™é‡Œçš„80ï¼Œ120ï¼Œ40ï¼Œ60åˆ†åˆ«ç”¨<span class="math inline">\(e_1,e_2,e_3,e_4\)</span>è¡¨ç¤ºã€‚<br />
è®¡ç®—å¡æ–¹ç»Ÿè®¡é‡ï¼š <span class="math display">\[
X=\sum_{i=1}^4\frac{(o_i-e_i)^2}{e_i}=6.25
\]</span> æŸ¥è¡¨éªŒè¯ã€‚</p>
<h1 id="kolmogorov-smirnov">Kolmogorov Smirnov</h1>
<p>è¿™ç§æ£€æµ‹æ–¹æ³•æ˜¯åŸºæœ¬æ€è·¯å°±æ˜¯ï¼Œæ¯”è¾ƒç†è®ºçš„ç»éªŒç´¯ç§¯åˆ†å¸ƒä¸è§‚æµ‹çš„ç»éªŒç´¯ç§¯åˆ†å¸ƒï¼Œæ±‚å‡ºæœ€å¤§åç¦»å€¼ï¼Œç„¶ååˆ¤æ–­è¿™ç§åç¦»å€¼æ˜¯ä¸æ˜¯å¶ç„¶å‡ºç°çš„ã€‚<br />
æ¯”å¦‚è¯´ç°åœ¨æœ‰ä¸€ä¸ªè¿ç»­åˆ†å¸ƒçš„æ ·æœ¬æ•°æ®ï¼š<span class="math inline">\(y_1,...,y_n\)</span>ã€‚<br />
æˆ‘ä»¬åšå‡ºé›¶å‡è®¾ï¼š<span class="math inline">\(F\)</span> æ˜¯æ€»ä½“è¿ç»­åˆ†å¸ƒã€‚<br />
ç°åœ¨éªŒè¯è¿™ä¸ªé›¶å‡è®¾ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<blockquote>
<ol type="1">
<li>å°†è¯¥åˆ†å¸ƒåˆ†æˆä¸åŒåŒºé—´ï¼Œç„¶åç”¨ä¸Šé¢çš„å¡æ–¹æ£€æµ‹ï¼›<br />
</li>
<li>ç”¨ K-S æ£€éªŒã€‚</li>
</ol>
</blockquote>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨æœ‰<span class="math inline">\(n=5\)</span>ä¸ªæ•°æ®ï¼š<span class="math inline">\(y_1,y_2,y_3,y_4,y_5\)</span>ï¼Œæ ¹æ®è¿™5ä¸ªæ•°æ®å¾—å‡ºçš„ç»éªŒç´¯ç§¯å‡½æ•°ä¸ºï¼š <span class="math display">\[
F_e(x)=\frac{\#i:y_i \leq x}{n}
\]</span> é›¶å‡è®¾å¯¹åº”çš„å‡½æ•°ä¸º<span class="math inline">\(F\)</span>ï¼Œç”»å›¾å¦‚ä¸‹ï¼š<img src="/images/267.png" /> å¦‚æœé›¶å‡è®¾æˆç«‹ï¼Œåˆ™<span class="math inline">\(F_e(x)\)</span>åº”è¯¥å¾ˆæ¥è¿‘äº<span class="math inline">\(F(x)\)</span>ã€‚<br />
K-S æ£€æµ‹çš„ç»Ÿè®¡é‡ä¸ºï¼ˆå°±æ˜¯æœ€å¤§è·ç¦»ï¼‰ï¼š <span class="math display">\[
D \equiv Maximum_x |F_e(x)-F(x)|
\]</span> ä¸‹å›¾æ˜¯sample test: Use the One sample Kolmogorov Smirnov tableï¼š<img src="/images/268.png" /> (è‡³äºsample tests use the two sample Kolmorogov Smirnov table ï¼Œåœ¨<a href="https://www.real-statistics.com/statistics-tables/two-sample-kolmogorov-smirnov-table/">è¿™é‡Œ</a>)<br />
æ ¹æ®<span class="math inline">\(\alpha\)</span>å’Œ<span class="math inline">\(n\)</span>å°±å¯ä»¥è¯»å‡ºä¸´ç•Œå€¼ï¼Œä¸¤è€…æ¯”è¾ƒï¼Œå½“æœ€å¤§å€¼å°äºä¸´ç•Œå€¼æ—¶ï¼Œæ¥å—é›¶å‡è®¾ï¼Œå¦åˆ™æ‹’ç»ã€‚<br />
<strong>ç®€å•è¯´ä¸€ä¸‹åŒæ ·æœ¬çš„</strong> åŒæ ·æœ¬æ£€æµ‹ä¹Ÿå·®ä¸å¤šï¼Œåªæ˜¯å¤šäº†ä¸€ç»„æ ·æœ¬ï¼Œè¡¨ä¹Ÿå¤šäº†ä¸€ä¸ªç»´åº¦ï¼Œè®¡ç®—è·ç¦»ä¹Ÿä¸å¤ªä¸€æ ·ï¼Œå°±ï¼Œæ ·æœ¬æ•°æ®å¾ˆå¤§æ—¶ï¼Œè·ç¦»å…¬å¼ä¸ºï¼š <span class="math display">\[
D_{\alpha}=c(\alpha)\sqrt{\frac{n_1+n_2}{n_1n_2}}
\]</span> ç³»æ•°<span class="math inline">\(c(\alpha)\)</span>ä¸ºï¼š<img src="/images/269.png" /></p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>ç›´æ¥é™„å›¾äº†è¿™é‡Œ <img src="/images/270.png" /></p>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<p>ã€1ã€‘ï¼šhttps://zhuanlan.zhihu.com/p/131286213</p>
<p>ã€2ã€‘ï¼šhttps://qinqianshan.com/math/significance_test/kolmogorovsmirnov/</p>
]]></content>
      <categories>
        <category>Data Science</category>
      </categories>
  </entry>
  <entry>
    <title>æ–¹å·®åˆ†æ</title>
    <url>/posts/22.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>å¯¹äºæ¯”è¾ƒä¸¤ä¸ªæ€»ä½“çš„å‡å€¼ï¼Œt-test æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä½†å‡å¦‚æˆ‘ä»¬ç°åœ¨æœ‰å¾ˆå¤šä¸ªæ€»ä½“å‘¢ï¼Œt-test å¥½åƒå°±å˜å¾—ä¸é‚£ä¹ˆç†æƒ³äº†ï¼Œæ¯•ç«Ÿæ¯”è¾ƒæ‰€æœ‰æˆåˆ†æ•ˆç‡å¤ªä½ã€‚<br />
æˆ‘ä»¬éœ€è¦ä¸€ç§æ£€æµ‹æ–¹æ³•ï¼Œå®ƒå¯ä»¥å‘Šè¯‰æˆ‘ä»¬åœ¨è¿™äº›æ€»ä½“çš„ä»»æ„ä¸€ä¸ªåœ°æ–¹æ˜¯å¦æœ‰ä»»ä½•æ˜¾è‘—çš„å·®å¼‚ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œé‚£æˆ‘ä»¬å°±æ²¡å¿…è¦è¿›ä¸€æ­¥æ¢ç©¶äº†ã€‚<br />
è¦åˆ†æå‡å€¼é—´çš„æ–¹å·®ï¼Œå¯ä»¥ç”¨ F testï¼Œæˆ–è€…åˆå«æ–¹å·®åˆ†æï¼ˆWay Analysis of Varianceï¼ŒANOVAï¼‰ã€‚ <span id="more"></span></p>
<h1 id="å•å› ç´ æ–¹å·®åˆ†æ">å•å› ç´ æ–¹å·®åˆ†æ</h1>
<p>åœ¨è¯•éªŒè¿‡ç¨‹ä¸­ï¼Œåªæœ‰ä¸€ä¸ªå› ç´ åœ¨æ”¹å˜ï¼Œç§°ä¸ºå•å› ç´ è¯•éªŒï¼Œè€Œå•å› ç´ æ–¹å·®åˆ†æä¸»è¦ç”¨æ¥éªŒè¯è¿™ç§è¯•éªŒä¸­ä¸¤ç»„æˆ–ä¸¤ç»„ä»¥ä¸Šçš„æ ·æœ¬å‡å€¼æ˜¯å¦æœ‰æ˜¾è‘—æ€§å·®å¼‚ã€‚<br />
ä¸¾ä¸ªä¾‹å­ï¼Œå·¥å‚æœ‰5å°æœºå™¨ç”Ÿäº§åŒä¸€ç§é›¶ä»¶ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“è¿™å‡ å°æœºå™¨ç”Ÿäº§çš„é›¶ä»¶é‡é‡ï¼ˆæˆ–è€…å…¶å®ƒæŒ‡æ ‡ï¼‰æ˜¯å¦ä¸€è‡´ï¼Œå°±å¯ä»¥è½¬åŒ–ä¸ºéªŒè¯è¿™5ä¸ªæ€»ä½“çš„å‡å€¼æ˜¯å¦ä¸€è‡´ï¼Œè¿™é‡Œè€ƒå¯Ÿçš„å°±æ˜¯æœºå™¨è¿™ä¸€å› ç´ å¯¹é›¶ä»¶é‡é‡æœ‰æ— å½±å“ã€‚<br />
å¦‚ä¸‹å›¾ï¼ˆè¿™ä¸ªå›¾è·Ÿè¿™ä¸ªä¾‹å­ä¸å¯¹åº”ï¼Œä½†æ„æ€æ˜¯ä¸€æ ·çš„ï¼Œå³<strong>ç»„å†…æ–¹å·®å’Œç»„é—´æ–¹å·®</strong>ï¼Œå› ä¸ºç°åœ¨è¿˜ä¸æ‡‚åœ¨è¿™é‡Œè¦æ€ä¹ˆç”»å›¾ã€‚ã€‚ï¼‰ï¼š<img src="/images/259.png" /> ä¹Ÿå°±æ˜¯è¯´ï¼ŒFå¯ä»¥å†™ä¸ºï¼š <span class="math display">\[
F=\frac{Between \quad group\quad  variability}{Within \quad group\quad variability}=\frac{MS_b}{MS_w}
\]</span> å½“ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(F=1\)</span>: <span class="math inline">\(H_0\)</span> ä¸ºçœŸï¼Œæ¯ç»„å¹³å‡å€¼ä¹‹é—´æœ‰ç›¸åŒçš„å˜åŒ–é‡ï¼Œä¸æœºå™¨æ— å…³ï¼›</li>
<li><span class="math inline">\(F&gt;1\)</span>: <span class="math inline">\(H_0\)</span> ä¸ºå‡ï¼Œå¹³å‡å€¼ä¹‹é—´çš„å·¨å¤§å·®å¼‚å¯èƒ½ä¸æ˜¯å¶ç„¶é€ æˆçš„ï¼Œè¡¨æ˜è‡³å°‘å­˜åœ¨ä¸€ä¸ªæœºå™¨ä¸å…¶å®ƒæœºå™¨ä¸åŒã€‚</li>
</ol>
</blockquote>
<p>ä¸Šé¢åªæ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå…·ä½“åœ°ï¼Œæˆ‘ä»¬è¦æ ¹æ®æ ·æœ¬çš„å…³ç³»è¿›è¡Œå¦‚ä¸‹åˆ†ç±»ã€‚</p>
<h2 id="æ ·æœ¬å¤§å°ç›¸ç­‰">æ ·æœ¬å¤§å°ç›¸ç­‰</h2>
<p>ç°å‡è®¾æˆ‘ä»¬æœ‰ <span class="math inline">\(m\)</span> ç»„ç‹¬ç«‹æ ·æœ¬ï¼Œæ¯ç»„æ ·æœ¬æœ‰ <span class="math inline">\(n\)</span> ä¸ªå…ƒç´ ï¼Œå³å¯ä»¥å†™æˆï¼š <span class="math display">\[
X_{ij}\sim \mathcal{N}(\mu_i,\sigma^2)\quad i=1,...,m;\quad j=1,...,n
\]</span> æˆ‘ä»¬åšå‡ºå¦‚ä¸‹å‡è®¾ï¼š</p>
<blockquote>
<p><span class="math inline">\(H_0\)</span>: <span class="math inline">\(\mu_1=\mu_2=...=\mu_m\)</span> vs <span class="math inline">\(H_1\)</span>: å¹¶éæ‰€æœ‰å‡å€¼éƒ½ç›¸ç­‰ã€‚<br />
</p>
</blockquote>
<p>ç»§ç»­å¾€ä¸‹ï¼Œæ–¹å·®åˆ†æè¿™é‡Œæœ€é‡è¦çš„å°±æ˜¯è®¡ç®—ç»„å†…ä»¥åŠç»„é—´æ–¹å·®ï¼Œä¸ºæ­¤éœ€è¦è®¡ç®—å¦‚ä¸‹ä¸¤ç§å‡å€¼ï¼š</p>
<blockquote>
<ol type="1">
<li>ç»„å†…å‡å€¼ï¼šä»¤ <span class="math inline">\(\overline{x}_{i\cdot}\)</span> ä¸ºç¬¬ <span class="math inline">\(i\)</span> ç»„æ ·æœ¬çš„å‡å€¼ï¼Œå³ï¼š <span class="math display">\[
\overline{x}_{i\cdot}=\sum_{j=1}^n\frac{x_{ij}}{n}
\]</span></li>
<li>æ€»ä½“å‡å€¼ï¼šç”¨<span class="math inline">\(\overline{x}_{\cdot \cdot}\)</span>è¡¨ç¤ºå¯¹<span class="math inline">\(\mu\)</span>çš„ä¼°è®¡ï¼Œå³ï¼š <span class="math display">\[
\overline{x}_{\cdot \cdot} = \frac{\sum_{i=1}^m\sum_{j=1}^nx_{ij}}{nm}=\frac{\sum_{i=1}^m\overline{x}_{i\cdot}}{m}
\]</span></li>
</ol>
</blockquote>
<p>ç„¶åé€šè¿‡ä¸‹é¢è¡¨æ ¼å°±å¯ä»¥è®¡ç®—å‡ºFçš„å€¼ï¼š<img src="/images/260.png" /></p>
<h2 id="æ ·æœ¬å¤§å°ä¸ç­‰">æ ·æœ¬å¤§å°ä¸ç­‰</h2>
<p>ç°å‡è®¾æˆ‘ä»¬æœ‰ <span class="math inline">\(m\)</span> ç»„ç‹¬ç«‹æ ·æœ¬ï¼Œæ¯ç»„æ ·æœ¬æœ‰ <span class="math inline">\(n_1,...,n_m\)</span> ä¸ªå…ƒç´ ï¼Œå³å¯ä»¥å†™æˆï¼š <span class="math display">\[
X_{ij}\sim \mathcal{N}(\mu_i,\sigma^2)\quad i=1,...,m;\quad j=1,...,n
\]</span> åŒæ ·æˆ‘ä»¬åšå‡ºå¦‚ä¸‹å‡è®¾ï¼š</p>
<blockquote>
<p><span class="math inline">\(H_0\)</span>: <span class="math inline">\(\mu_1=\mu_2=...=\mu_m\)</span> vs <span class="math inline">\(H_1\)</span>: å¹¶éæ‰€æœ‰å‡å€¼éƒ½ç›¸ç­‰ã€‚<br />
</p>
</blockquote>
<p>ä¾æ—§è®¡ç®—ä¸¤ç§å‡å€¼ï¼š</p>
<blockquote>
<ol type="1">
<li>ç»„å†…å‡å€¼ï¼š<span class="math inline">\(\overline{x}_{i\cdot}=\sum_{j=1}^{n_i}\frac{x_{ij}}{n_i}\)</span><br />
<br />
</li>
<li>æ€»ä½“å‡å€¼ï¼š<span class="math inline">\(\overline{x}_{\cdot \cdot} = \frac{\sum_{i=1}^m\sum_{j=1}^{n_i}x_{ij}}{\sum_{i=1}^mn_i}\)</span></li>
</ol>
</blockquote>
<p>ä»¤ <span class="math inline">\(N = \sum_in_i-m\)</span>ã€‚<br />
ç„¶åé€šè¿‡ä¸‹é¢è¡¨æ ¼å°±å¯ä»¥è®¡ç®—å‡ºFçš„å€¼ï¼š<img src="/images/261.png" /></p>
<h2 id="ä¸€ä¸ªä¾‹å­">ä¸€ä¸ªä¾‹å­</h2>
<p>ä¸‹å›¾è¡¨ç¤ºä»5ç§ä¸åŒçš„æ–¹æ³•ä¸­é‡‡é›†çš„æ•°æ®ï¼Œç°åœ¨æˆ‘ä»¬è¦åˆ¤æ–­è¿™5ç§ä¸åŒçš„æ–¹æ³•æ˜¯å¦ä¼šç»™å‡ºä¸åŒçš„ç»“æœã€‚<br />
<img src="/images/262.png" /> å‡å€¼ä¹‹ç±»çš„éƒ½å·²ç»ç®—å¥½äº†ï¼Œç›´æ¥å¸¦å…¥ä¸Šé¢è¡¨æ ¼é‡Œçš„å¼å­å¯å¾—ï¼š <span class="math display">\[
SS_b=150.50 \quad SS_w=87.43
\]</span> åˆ™å‡æ–¹æ ¹(mean Squares) ä¸ºï¼š <span class="math display">\[
MS_b=\frac{150.50}{4}=37.63 \quad MS_w=\frac{87.43}{26}=3.36
\]</span> æµ‹è¯•ç»Ÿè®¡é‡ä¸ºï¼š<span class="math inline">\(\frac{MS_b}{MS_w}=11.19\)</span><br />
é€šè¿‡æŸ¥æ‰¾Fåˆ†å¸ƒè¡¨å¯å¾—ï¼š<span class="math inline">\(F_{4,26,0.05}=2.743\)</span><br />
ç”±äº11.19 &gt; 2.743ï¼Œæ‰€ä»¥æ‹’ç»é›¶å‡è®¾ã€‚</p>
<h1 id="åŒå› ç´ æ–¹å·®åˆ†æ">åŒå› ç´ æ–¹å·®åˆ†æ</h1>
<p>å­—é¢æ„æ€ï¼Œè¿™é‡Œçš„æ–¹å·®åˆ†ææ¶‰åŠåˆ°ä¸¤ä¸ªå› ç´ ï¼Œæ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬è¦æ¢è®¨ä¸åŒæ¸©åº¦åŠè¥å…»å…ƒç´ å¯¹åŸ¹å…»çš¿å¾®ç”Ÿç‰©ç¹æ®–çš„å½±å“ï¼Œå°±å¯ä»¥ä½¿ç”¨åŒå› ç´ æ–¹å·®åˆ†æã€‚<br />
å¦ä¸€ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹å›¾ï¼š<img src="/images/263.png" /> ç»™å‡ºçš„æ˜¯ä¸åŒæ¸©åº¦ä¸ææ–™ä¸‹å‘åŠ¨æœºçš„å¯¿å‘½(æœˆ)ã€‚<br />
è®¡ç®—è·Ÿå•æ–¹å·®åˆ†æè¿˜æ˜¯æŒºç±»ä¼¼çš„ï¼Œå®šä¹‰ä»¥ä¸‹å˜é‡ï¼š<span class="math inline">\(\mu,\alpha_i,\beta_j,\gamma_{ij},i=1,...,m,j=1,...,n\)</span>ï¼Œå¹¶æœ‰å¦‚ä¸‹å…³ç³»ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(\mu=\mu_{\cdot\cdot}\)</span>ï¼šæ€»ä½“å¹³å‡å€¼ï¼ˆå³æ‰€æœ‰å…ƒç´ ï¼‰;<br />
</li>
<li><span class="math inline">\(\alpha_i=\mu_{i\cdot}-\mu_{\cdot\cdot}\)</span>ï¼šç¬¬<span class="math inline">\(i\)</span>è¡Œçš„å½±å“;<br />
</li>
<li><span class="math inline">\(\beta_j=\mu_{\cdot j}-\mu_{\cdot\cdot}\)</span>ï¼šç¬¬<span class="math inline">\(j\)</span>åˆ—çš„å½±å“;<br />
</li>
<li><span class="math inline">\(\gamma_{ij}=\mu_{ij}-(\mu+\alpha_i+\beta_j)=\mu_{ij}-\mu_{i\cdot}-\mu_{\cdot j}+\mu_{\cdot\cdot}\)</span>ï¼šè¡Œğ‘–å’Œåˆ—ğ‘—çš„ç›¸äº’ä½œç”¨ã€‚<br />
ï¼ˆè¿™é‡Œ <span class="math inline">\(\mu_{ij}=E[X_{ij}]\)</span>ï¼‰</li>
</ol>
</blockquote>
<p>é›¶å‡è®¾è¿™é‡Œæœ‰ä¸‰ä¸ªï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(H_0^r: \alpha_i=0\)</span>, for all iï¼ˆå³æ˜¯è¡Œæ²¡æœ‰å½±å“ï¼‰;<br />
</li>
<li><span class="math inline">\(H_0^c: \beta_j=0\)</span>, for all jï¼ˆå³æ˜¯åˆ—æ²¡æœ‰å½±å“ï¼‰;<br />
</li>
<li><span class="math inline">\(H_0^{int}: \gamma_{ij}=0\)</span>, for all i, jï¼ˆå³æ˜¯è¡Œåˆ—æ²¡æœ‰ç›¸äº’ä½œç”¨ï¼‰ã€‚</li>
</ol>
</blockquote>
<p>æ›´ä¸€èˆ¬çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯æ¯è¡Œæ¯åˆ—å¤šä¸ªè§‚æµ‹å€¼ã€‚<br />
ç°å‡è®¾æ¯è¡Œæ¯åˆ—æœ‰ <span class="math inline">\(l\)</span> ä¸ªè§‚æµ‹å€¼ï¼Œæ¯”å¦‚ä¸Šé¢é‚£å¼ å›¾é‡Œ <span class="math inline">\(l=3\)</span>ï¼Œå¹¶å‡è®¾æ‰€æœ‰è§‚æµ‹å€¼éƒ½æ˜¯ç‹¬ç«‹çš„æ­£æ€éšæœºå˜é‡ï¼Œæ–¹å·®å‡ä¸º <span class="math inline">\(\sigma^2\)</span>ã€‚<br />
å‡è®¾æ•°æ®è¡¨ç¤ºä¸º <span class="math inline">\(X_{ijk}\)</span>, <span class="math inline">\(i=1,...,m \quad j=1,...,n \quad k=1,...,l\)</span>ï¼Œåˆ™æ— åä¼°è®¡ä¸ºï¼š</p>
<blockquote>
<p><span class="math inline">\(\hat{\mu}=\overline{x}_{\cdot\cdot\cdot}\)</span><br />
<span class="math inline">\(\hat{\alpha}_i=\overline{x}_{i\cdot\cdot}-\overline{x}_{\cdot\cdot\cdot}\)</span><br />
<span class="math inline">\(\hat{\beta}_j=\overline{x}_{\cdot j \cdot}-\overline{x}_{\cdot \cdot\cdot}\)</span><br />
<span class="math inline">\(\hat{\gamma}_{ij}=\overline{x}_{ij\cdot}-\overline{x}_{\cdot j \cdot}+\overline{x}_{\cdot\cdot\cdot}\)</span></p>
</blockquote>
<p>æœ€åå°±å¯ä»¥æ ¹æ®ä¸‹å›¾ï¼Œè®¡ç®—ï¼ŒæŸ¥è¡¨ç„¶ååˆ¤æ–­äº†ï¼š<img src="/images/264.png" /> å¯ä»¥æ‹¿ä¸Šé¢é‚£ä¸ªå‘åŠ¨æœºçš„æ•°æ®è®¡ç®—ï¼Œè¿™é‡Œå°±ä¸å†™äº†ï¼Œå°±åªæ˜¯ä»£å…¬å¼è€Œå·²ï¼Œæœ€åç»“æœä¼šæ˜¯ï¼šæ‹’ç»<span class="math inline">\(H_0^c\)</span>, æ¥å—å¦å¤–ä¸¤ä¸ªé›¶å‡è®¾ã€‚<br />
</p>
]]></content>
      <categories>
        <category>Data Science</category>
      </categories>
  </entry>
  <entry>
    <title>å‡è®¾æ€§æ£€æµ‹ (t-test, z-test)</title>
    <url>/posts/21.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>åœ¨å®é™…ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬å¤„ç†çš„å¾€å¾€æ˜¯å¾ˆå¤§é‡çš„æ•°æ®ï¼Œåˆ†ææ—¶ç»å¸¸è¦å¯¹è¿™äº›æ•°æ®çš„æŸç§è§„å¾‹æå‡ºä¸€ä¸ªå‡è®¾ï¼Œä½†æˆ‘ä»¬æœ‰æ—¶æ²¡æ³•ç›´æ¥ç”¨æ€»æ•°æ®æ¥éªŒè¯è¿™ä¸ªå‡è®¾ï¼Œè€Œæ˜¯é€šè¿‡æ ·æœ¬æ•°æ®æ¥æ¨æ–­ï¼Œå†³å®šæ˜¯å¦æ‹’ç»è¿™ä¸€å‡è®¾ï¼Œè¿™æ ·çš„ç»Ÿè®¡æ´»åŠ¨æˆä¸ºå‡è®¾æ£€éªŒã€‚<br />
å‡è®¾æ£€æµ‹æ–¹æ³•çš„å‡å€¼å¯¹æ¯”æ–¹æ³•ä¸»è¦æœ‰t-testå’Œz-testï¼Œä»¥ä¸‹ä»‹ç»è¿™ä¸¤ä¸ªæ£€æµ‹ä»¥åŠä¸­é—´æ¶‰åŠåˆ°çš„F-testã€‚ <span id="more"></span></p>
<p>è¯¥æ£€æµ‹ä¸€èˆ¬å¯ä»¥ç®€å•æ¦‚å†µä¸ºä»¥ä¸‹4ä¸ªæ­¥éª¤ï¼š</p>
<blockquote>
<ol type="1">
<li>æå‡ºé›¶å‡è®¾<span class="math inline">\(H_0\)</span>ä»¥åŠå¯¹åº”çš„å¤‡é€‰å‡è®¾<span class="math inline">\(H_1\)</span>(åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§):<br />
â€ƒ Non-directional(two tailed), e.g. <span class="math inline">\(H_0:\mu=10,H_1:\mu_0\neq 10\)</span>;<br />
â€ƒ Directional(one tailed), e.g. <span class="math inline">\(H_0:\mu=10,H_1:\mu_0&gt;10\)</span>(or <span class="math inline">\(\mu_0&lt;10\)</span>);<br />
</li>
<li>è®¾å®šæ‹’ç»<span class="math inline">\(H_0\)</span>çš„æ ‡å‡†:<br />
â€ƒ Set the significance level <span class="math inline">\(\alpha\)</span>, e.g. 0.05;<br />
â€ƒ Find the criteria for a decision: the critical value in z- or t-distribution;<br />
â€ƒ Two tailed for non directional alternative hypothesis;<br />
â€ƒ One tailed for directional alternative hypothesis;<br />
</li>
<li>è®¡ç®—æµ‹è¯•ç»Ÿè®¡æ•°æ®:<br />
â€ƒ <span class="math inline">\(\sigma\)</span>å·²çŸ¥ï¼šz-score;<br />
â€ƒ <span class="math inline">\(\sigma\)</span>æœªçŸ¥ï¼št-score;<br />
â€ƒ <span class="math inline">\(\sigma\)</span>æœªçŸ¥ä½†æ ·æœ¬æ•°æ®éå¸¸å¤§ï¼šz-scoreã€‚<br />
</li>
<li>å†³å®šæ˜¯å¦æ‹’ç»é›¶å‡è®¾ã€‚<br />
</li>
</ol>
</blockquote>
<h1 id="one-sample-case-for-the-mean">One sample case for the mean</h1>
<h2 id="z-test">z-test</h2>
<p>é¦–å…ˆç»™ä¸€ä¸ªå›¾ï¼š<img src="/images/251.png" /> å¦‚æœ <span class="math inline">\(\overline{x}\)</span> æ˜¯æ­£æ€åˆ†å¸ƒçš„è¯ï¼Œåˆ™<span class="math inline">\(z=\frac{\overline{x}-\mu_0}{\sigma_{\overline{x}}}\)</span>ä¹Ÿæ˜¯æ­£æ€åˆ†å¸ƒçš„ï¼ˆè¿™é‡Œ<span class="math inline">\(\sigma_{\overline{x}}\)</span>æ˜¯ç¡®å®šæˆ–å·²çŸ¥çš„ï¼‰ã€‚<br />
å¯¹äºzæ£€éªŒï¼Œæˆ‘ä»¬ä½¿ç”¨ï¼ˆç´¯ç§¯ï¼‰æ­£æ€åˆ†å¸ƒçš„è¡¨æ ¼æ¥æ‰¾å‡º<span class="math inline">\(z_{\alpha}\)</span>çš„å€¼ã€‚<br />
</p>
<h3 id="ä¸€ä¸ªä¾‹å­">ä¸€ä¸ªä¾‹å­</h3>
<p>ç°ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜z-testçš„æ­¥éª¤ã€‚<br />
ä»¥ä¸‹20ä¸ªæ ·æœ¬æ˜¯ä»å·²çŸ¥æ ‡å‡†å·®ä¸º5çš„æ­£æ€åˆ†å¸ƒä¸­äº§ç”Ÿçš„ã€‚<img src="/images/252.png" /> ç°è¦æ£€æµ‹è¯¥ç¾¤ä½“çš„å‡å€¼æ˜¯å¦å¤§äº6ã€‚<br />
</p>
<blockquote>
<ol type="1">
<li><strong>Step 1</strong>: è®¾ç½®å‡è®¾ï¼š<span class="math inline">\(H_0: \mu=6\)</span> vs <span class="math inline">\(H_1:\mu&gt;6\)</span>;<br />
</li>
<li><strong>Step 2</strong>: è®¾ç½®<span class="math inline">\(\alpha\)</span>ï¼Œæ¯”å¦‚è¯´ç­‰äº0.05ï¼Œç„¶åä»ä¸‹è¡¨ä¸­æŸ¥å‡ºå…¶ä¸´ç•Œå€¼ä¸ºï¼š<span class="math inline">\(z_{\alpha}=1.645\)</span> <img src="/images/253.png" /></li>
<li><strong>Step 3</strong>: è®¡ç®—æ ·æœ¬çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼š<img src="/images/254.png" /></li>
<li><strong>Step 4</strong>: è®¡ç®—æ£€æµ‹ç»Ÿè®¡å€¼ï¼š <span class="math display">\[
z=\frac{\overline{x}-\mu_0}{\sigma_{\overline{x}}}=\frac{5.572-6}{6.287/\sqrt{20}}=-0.304
\]</span></li>
<li><strong>Step 5</strong>: åšå†³ç­–ï¼šç”±äº<span class="math inline">\(z &lt; z_{\alpha}\)</span>ï¼Œæ‰€ä»¥ä¸æ‹’ç»é›¶å‡è®¾<span class="math inline">\(H_0\)</span>ã€‚</li>
</ol>
</blockquote>
<h2 id="t-test">t-test</h2>
<p>ä¾æ—§å…ˆç»™ä¸€ä¸ªå›¾ï¼š<img src="/images/255.png" /> å¦‚æœ <span class="math inline">\(\overline{x}\)</span> æ˜¯æ­£æ€åˆ†å¸ƒçš„è¯ï¼Œåˆ™<span class="math inline">\(t=\frac{\overline{x}-\mu_0}{s_x}\)</span>æœä» t åˆ†å¸ƒï¼ˆå› ä¸º<span class="math inline">\(s_x\)</span>æ˜¯ä¸€ä¸ªä¼°è®¡å€¼ï¼Œå› æ­¤æ˜¯å¦ä¸€ä¸ªéšæœºå˜é‡çš„è¾“å‡ºï¼‰ã€‚<br />
è¿™æ„å‘³ç€ï¼Œå¯¹äºtæ£€éªŒï¼Œæˆ‘ä»¬ä½¿ç”¨tåˆ†å¸ƒçš„è¡¨æ ¼æ¥æ‰¾å‡ºğ‘¡çš„å€¼ã€‚è¿™ä¸ªè¡¨æ¯”ä¸Šé¢é‚£ä¸ªç´¯ç§¯æ­£æ€è¡¨å¤æ‚ä¸€ä¸¢ä¸¢ï¼Œè¿™é‡Œå¤§æ¦‚è¯´ä¸€ä¸‹æ€ä¹ˆæŸ¥ã€‚<br />
é¦–å…ˆè¿™ä¸ªtåˆ†å¸ƒè¡¨é•¿è¿™æ ·ï¼š<img src="/images/256.png" /> <span class="math inline">\(t_{\alpha}\)</span>æ˜¯åŸºäº<span class="math inline">\((n-1)\)</span>çš„ï¼Œè¿™ä¸ªå€¼ç§°ä¸ºè‡ªç”±åº¦degree of freedom (df)ã€‚<br />
ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¯´æ ·æœ¬å°ºå¯¸æ˜¯7ï¼Œå•å°¾ï¼Œåˆ™<span class="math inline">\(t_{0.05}\)</span>ä¸º1.9432ã€‚<br />
</p>
<h1 id="two-sample-case-for-the-mean">Two sample case for the mean</h1>
<p>ä¸Šé¢çš„éƒ½æ˜¯å•æ ·æœ¬çš„æƒ…å†µï¼Œè¿™é‡Œå¼€å§‹ä»‹ç»åŒæ ·æœ¬ï¼Œå­—é¢æ„æ€ï¼Œå°±æ˜¯ä¸¤ä¸ªæ ·æœ¬ï¼ˆå¥½åƒåœ¨è¯´åºŸè¯ã€‚ã€‚ã€‚ã€‚ï¼‰ã€‚<br />
è·Ÿä¸Šé¢çš„åŒºåˆ«è¿˜æ˜¯æœ‰ç‚¹å¤§çš„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š<br />
</p>
<blockquote>
<ol type="1">
<li>å‡è®¾ä¸åŒï¼Œä¸¾ä¸¤ä¸ªä¾‹å­ï¼š<br />
â€ƒ å¥³å­¦ç”Ÿçš„GPAå¹³å‡å€¼æ˜¯å¦è¦é«˜äºç”·å­¦ç”Ÿï¼›<br />
â€ƒ åœ¨æ•°æ®ç§‘å­¦é¢†åŸŸï¼Œå¥³æ€§çš„å·¥èµ„å¹³å‡å€¼æ˜¯å¦é«˜äºç”·æ€§ï¼›<br />
</li>
<li>æƒ…å†µä¸åŒï¼š<br />
â€ƒ æ ·æœ¬ç‹¬ç«‹ï¼š<br />
â€ƒ â€ƒ æ–¹å·®å·²çŸ¥ï¼›<br />
â€ƒ â€ƒ æ–¹å·®æœªçŸ¥ï¼š<br />
â€ƒ â€ƒ â€ƒ æ€»ä½“æ–¹å·®æœªçŸ¥ä½†æ€»ä½“æ–¹å·®ç›¸ç­‰ï¼›<br />
â€ƒ â€ƒ â€ƒ æ€»ä½“æ–¹å·®æœªçŸ¥ä½†æ€»ä½“æ–¹å·®ä¸ç›¸ç­‰ï¼›<br />
â€ƒ â€ƒ â€ƒ æ€»ä½“æ–¹å·®æœªçŸ¥ï¼Œä¹Ÿä¸çŸ¥é“å®ƒä»¬çš„å…³ç³»ã€‚<br />
â€ƒ æ ·æœ¬ä¸ç‹¬ç«‹ã€‚</li>
</ol>
</blockquote>
<p>ä»¥ä¸‹å¯¹ä¸Šé¢æƒ…å†µè¿›è¡Œåˆ†åˆ«è®¨è®ºã€‚</p>
<h2 id="æ ·æœ¬ç‹¬ç«‹æ–¹å·®å·²çŸ¥">æ ·æœ¬ç‹¬ç«‹ï¼Œæ–¹å·®å·²çŸ¥</h2>
<p>æ–¹å·®å·²çŸ¥çš„è¯å°±æ˜¯z-testäº†ã€‚<br />
ä¸¤æ€»ä½“å‡å€¼å·®å¼‚ä¸ºï¼š<span class="math inline">\(\overline{X}-\overline{Y}\sim \mathcal{N}(\mu_X-\mu_Y,\frac{\sigma_X^2}{n}+\frac{\sigma_Y^2}{m})\)</span>ï¼Œå…¶ä¸­<span class="math inline">\(n,m\)</span>åˆ†åˆ«ä¸º<span class="math inline">\(X,Y\)</span>ä¸¤æ ·æœ¬çš„å¤§å°ã€‚<br />
ä¸Šé¢è¿™ä¸ªå¤æ‚çš„æ­£æ€åˆ†å¸ƒä¹Ÿå¯ä»¥å†™ä¸ºï¼š<span class="math inline">\(\frac{\overline{X}-\overline{Y}-(\mu_X-\mu_Y)}{\sqrt{\frac{\sigma_X^2}{n}+\frac{\sigma_Y^2}{m}}}\sim \mathcal{N}(0,1)\)</span>ï¼Œå…¶å®å°±æ˜¯z-scoreã€‚<br />
æ‰€ä»¥ï¼Œå½“<span class="math inline">\(H_0\)</span>ä¸ºçœŸæ—¶ï¼Œå³ <span class="math inline">\(\mu_X-\mu_Y=0\)</span> æ—¶ï¼Œz-testçš„ç»Ÿè®¡é‡ä¸ºï¼š <span class="math display">\[
z=\frac{\overline{X}-\overline{Y}}{\sqrt{\frac{\sigma_X^2}{n}+\frac{\sigma_Y^2}{m}}}
\]</span></p>
<h2 id="æ ·æœ¬ç‹¬ç«‹æ–¹å·®æœªçŸ¥">æ ·æœ¬ç‹¬ç«‹ï¼Œæ–¹å·®æœªçŸ¥</h2>
<p>æ–¹å·®æœªçŸ¥å³æ˜¯ç”¨t-testã€‚</p>
<h3 id="case-1æ–¹å·®ç›¸ç­‰">case 1ï¼šæ–¹å·®ç›¸ç­‰</h3>
<p>æ–¹å·®ç›¸ç­‰å³ï¼š<span class="math inline">\(\mu_X^2=\mu_Y^2\)</span>ã€‚<br />
æµ‹è¯•ç»Ÿè®¡é‡ä¸ºï¼š<span class="math inline">\(t=\frac{(\overline{x}-\overline{y})}{s_{\overline{x}-\overline{y}}}\)</span>ï¼Œå…¶ä¸­ï¼š <span class="math display">\[
s_{\overline{x}-\overline{y}}=\sqrt{s^2(\frac{1}{n}+\frac{1}{m})}
\]</span> <span class="math display">\[
s^2=\frac{\sum^n_{i=1}(x_i-\overline{x})^2+\sum^m_{j=1}(y_j-\overline{y})^2}{n+m-2}
\]</span> æˆ–ï¼š <span class="math display">\[
s^2=\frac{(n-1)s_x^2+(m-1)s_y^2}{n+m-2}
\]</span> <span class="math display">\[
df=n+m-2
\]</span></p>
<h3 id="case-2æ–¹å·®ä¸ç›¸ç­‰">case 2ï¼šæ–¹å·®ä¸ç›¸ç­‰</h3>
<p>æ–¹å·®ä¸ç›¸ç­‰å³ï¼š<span class="math inline">\(\mu_X^2\neq\mu_Y^2\)</span>ã€‚<br />
æµ‹è¯•ç»Ÿè®¡é‡ä¸ºï¼š<span class="math inline">\(t=\frac{(\overline{x}-\overline{y})}{s_{\overline{x}-\overline{y}}}\)</span>ï¼Œå…¶ä¸­ï¼š <span class="math display">\[
s_{\overline{x}-\overline{y}}=\sqrt{\frac{s_x^2}{n}+\frac{s_y^2}{m}}=\sqrt{s_{\overline{x}}^2+s_{\overline{y}}^2}
\]</span> <span class="math display">\[
df = \frac{(s_{\overline{x}}^2+s_{\overline{y}}^2)^2}{\frac{(s_{\overline{x}}^2)^2}{n-1}+\frac{(s_{\overline{y}}^2)^2}{m-1}}
\]</span><br />
<strong>ä¸Šé¢ä¸¤ä¸ªcaseä¸­ï¼š</strong><br />
<span class="math inline">\(s_{\overline{x}}^2=\frac{s_x^2}{n};\quad s_{\overline{y}}^2=\frac{s_y^2}{m}; \quad s_x^2=\frac{\sum_{i=1}^n(x_i-\overline{x})^2}{n-1}; \quad s_y^2=\frac{\sum_{j=1}^m(y_j-\overline{y})^2}{m-1}\)</span></p>
<h3 id="case-3æ–¹å·®å…³ç³»æœªçŸ¥">case 3ï¼šæ–¹å·®å…³ç³»æœªçŸ¥</h3>
<p>è¿™é‡Œæˆ‘ä»¬ä¸çŸ¥é“ <span class="math inline">\(\sigma_X^2\)</span> å’Œ <span class="math inline">\(\sigma_Y^2\)</span> ç›¸ä¸ç›¸ç­‰ï¼Œé¦–å…ˆç”¨ <span class="math inline">\(F_{\max} test\)</span> æ£€æµ‹æ–¹å·®çš„ç›¸ç­‰å…³ç³»ã€‚<br />
è¿™é‡Œç®€å•è¡¥å……ä¸‹ <span class="math inline">\(F_{\max}test\)</span> çš„ç›¸å…³å†…å®¹ã€‚(è¿™é‡Œä»…è¡¥å……è¿™é‡Œéœ€è¦ç”¨åˆ°çš„ï¼Œæ›´å…·ä½“çš„çœ‹å¦ä¸€ç¯‡ã€F-test æ–¹å·®åˆ†æã€‘)ã€‚<br />
</p>
<h4 id="f_maxtest"><span class="math inline">\(F_{\max}test\)</span></h4>
<p>F æ£€æµ‹æ˜¯ä¸€ç§æ–¹å·®å·®å¼‚æ€§æ£€æµ‹ã€‚<br />
æµ‹è¯•ç»Ÿè®¡é‡ä¸ºï¼š<span class="math inline">\(F=\frac{s_x^2}{s_y^2}\)</span>ï¼Œä¸€èˆ¬æŠŠè¾ƒå¤§çš„æ”¾åˆ†å­ä¸Šã€‚<br />
Fçš„ä¸´ç•Œå€¼ç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç¡®å®šï¼š<br />
</p>
<blockquote>
<ol type="1">
<li>ç½®ä¿¡åº¦<span class="math inline">\(\alpha\)</span>ï¼›</li>
<li>åˆ†å­çš„è‡ªç”±åº¦<span class="math inline">\(df\)</span>ï¼›</li>
<li>åˆ†æ¯çš„è‡ªç”±åº¦<span class="math inline">\(df\)</span>ã€‚</li>
</ol>
</blockquote>
<p>æ ¹æ®è¿™ä¸‰ä¸ªæ¡ä»¶å°±å¯ä»¥æŸ¥è¡¨äº†ï¼Œç”±äºFæ£€æµ‹æ›´å¤šçš„æ˜¯ç¡®å®šç½®ä¿¡åŒºé—´ï¼Œæ‰€ä»¥è¦è®°å¾—ä¸‹é¢è¿™ä¸ªç­‰å¼ã€‚ <span class="math display">\[
\frac{1}{F_{1-\frac{\alpha}{2}},m,n}=F_{\frac{\alpha}{2},n,m}
\]</span> (æ³¨æ„è¿™é‡Œ <span class="math inline">\(m,n\)</span> çš„é¡ºåº)ã€‚<br />
å†³ç­–ä¾æ®æ˜¯ï¼š<br />
</p>
<blockquote>
<ol type="1">
<li>æ‹’ç»<span class="math inline">\(H_0\)</span>: <span class="math inline">\(F&gt;F_{\frac{\alpha}{2}} \quad \rightarrow s_x^2 &gt; s_y^2\)</span>ï¼›<br />
</li>
<li>æ‹’ç»<span class="math inline">\(H_0\)</span>: <span class="math inline">\(F&lt; F_{1-\frac{\alpha}{2}} \quad \rightarrow s_x^2 &lt; s_y^2\)</span>ï¼›<br />
</li>
</ol>
</blockquote>
<p>ç½®ä¿¡åŒºåŸŸå¦‚ä¸‹ï¼š<img src="/images/258.png" /> è¿™é‡Œç®€å•æ¨å¯¼ä¸€ä¸‹è¿™ä¸ªç­‰å¼çš„ç”±æ¥ã€‚<br />
è®¾<span class="math inline">\(F\sim F(n,m)\)</span>ï¼Œåˆ™<span class="math inline">\(\frac{1}{F}\sim F(m,n)\)</span>ã€‚è‹¥ <span class="math display">\[
P\left\{ F&gt;F_{1-\frac{\alpha}{2}}(n,m)\right\}=1-\frac{\alpha}{2}
\]</span> å³ï¼š <span class="math display">\[
P\left\{ F&lt; F_{1-\frac{\alpha}{2}}(n,m)\right\}=\frac{\alpha}{2}
\]</span> åˆ™æœ‰ï¼š <span class="math display">\[
P\left\{ \frac{1}{F}&gt;\frac{1}{F_{1-\frac{\alpha}{2}}(n,m)}\right\}=\frac{\alpha}{2}
\]</span> ç”±äº<span class="math inline">\(\frac{1}{F}\sim F(m,n)\)</span>ï¼Œè½¬æ¢ä¸€ä¸‹å°±æœ‰ï¼š <span class="math display">\[
P\left\{ \frac{1}{F}&gt;{F_{\frac{\alpha}{2}}(m,n)}\right\}=\frac{\alpha}{2}
\]</span> æ‰€ä»¥å°±å¾—åˆ°äº†ä¸Šé¢çš„ç­‰å¼ï¼š <span class="math display">\[
\frac{1}{F_{1-\frac{\alpha}{2}},m,n}=F_{\frac{\alpha}{2},n,m}
\]</span></p>
<p><strong>å›åˆ° case 3</strong><br />
è¿ç”¨F-test è¿›è¡Œæ–¹å·®æ£€æµ‹ï¼Œå³ï¼š<br />
</p>
<blockquote>
<ol type="1">
<li><p><span class="math inline">\(H_0\)</span>: <span class="math inline">\(\sigma_X^2=\sigma_Y^2\)</span> æˆ– <span class="math inline">\(\frac{\sigma_X^2}{\sigma_Y^2}=1\)</span><br />
</p></li>
<li><p><span class="math inline">\(H_1\)</span>: <span class="math inline">\(\sigma_X^2 \neq \sigma_Y^2\)</span> æˆ– <span class="math inline">\(\frac{\sigma_X^2}{\sigma_Y^2}\neq 1\)</span><br />
(non-directional / two-tailed)</p></li>
</ol>
</blockquote>
<p>ç„¶åæ ¹æ® F-test çš„ç»“æœç”¨ä¸Šé¢ case 1 æˆ–è€… case 2 çš„æ–¹æ³•ç»§ç»­ä¸‹å»ã€‚</p>
<h4 id="case-3-çš„ä¸€ä¸ªä¾‹å­">case 3 çš„ä¸€ä¸ªä¾‹å­</h4>
<p>ç°åœ¨æœ‰ä¸¤ä¸ªå¯¼å¸ˆAï¼ŒBæ•™åŒä¸€é—¨è¯¾ï¼Œç°åœ¨è¦æ¢ç©¶å“ªä¸ªå¯¼æ•°æ•™çš„å­¦ç”Ÿæˆç»©æ›´å¥½ã€‚æœ‰ä»¥ä¸‹æ•°æ®ï¼š</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">amount</th>
<th style="text-align: center;">average</th>
<th style="text-align: center;">Standard deviation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">87</td>
<td style="text-align: center;">15</td>
</tr>
<tr class="even">
<td style="text-align: center;">B</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">80</td>
<td style="text-align: center;">10</td>
</tr>
</tbody>
</table>
<p>Aå¯¼å¸ˆè¯´ä»–æ›´å‰å®³ï¼Œé‚£æˆ‘ä»¬ç°åœ¨å°±æƒ³æ£€æµ‹ä»–è¯´çš„æ˜¯ä¸æ˜¯çœŸçš„ã€‚<br />
é¦–å…ˆæˆ‘ä»¬è¦æ£€æµ‹ä¸¤æ€»ä½“çš„æ–¹å·®æ˜¯å¦ç›¸ç­‰ï¼š<span class="math inline">\(H_0:\sigma_A^2=\sigma_B^2\)</span> vs <span class="math inline">\(H_1:\sigma_A^2\neq \sigma_B^2\)</span>;<br />
</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(F_{\max}\)</span>testï¼š<span class="math inline">\(F=\frac{s_A^2}{s_B^2}=\frac{15^2}{10^2}=2.25\)</span>ï¼›<br />
</li>
<li>A, B ä¸¤ç±»å‡æœ‰7ä¸ªæ ·æœ¬ï¼Œåˆ™è‡ªç”±åº¦å‡ä¸ºï¼š<span class="math inline">\(df=n-1=7-1=6\)</span>ï¼›<br />
</li>
<li>é€‰å– <span class="math inline">\(\alpha\)</span> å€¼ï¼Œè¿™é‡Œä»¤ <span class="math inline">\(\alpha = 0.05\)</span>ï¼Œå¯»æ‰¾å¯»æ‰¾åˆ†å­åˆ†æ¯è‡ªç”±åº¦å‡ä¸º6çš„è¾¹ç•Œå€¼ <span class="math inline">\(F_{cv}\)</span>ï¼›<br />
</li>
<li>ä»ä¸‹é¢è¿™ä¸ªè¡¨ä¸­è¯»å–è¾¹ç•Œå€¼ï¼š<img src="/images/257.png" /> è¾¹ç•Œå€¼ <span class="math inline">\(F_{\alpha/2}=5.82\)</span>ï¼Œå³<span class="math inline">\(F_{1-\alpha/2}=\frac{1}{5.82}=0.17\)</span></li>
<li>ç”±äº <span class="math inline">\(F\)</span> æ˜¯ä½äº0.17å’Œ5.82ä¹‹é—´çš„ï¼Œæ‰€ä»¥æ¥å—é›¶å‡è®¾ï¼Œ<span class="math inline">\(\sigma_A^2=\sigma_B^2\)</span>ã€‚</li>
</ol>
</blockquote>
<p>æˆ‘ä»¬å¾—å‡ºäº†æ–¹å·®ç›¸ç­‰ï¼Œç°åœ¨ç»§ç»­å¾€ä¸‹ï¼Œä¸ºéªŒè¯å¯¼å¸ˆAçš„è¯ï¼Œåšå‡ºå¦‚ä¸‹æ–°çš„å‡è®¾ï¼š<br />
</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(H_0: \mu_A=\mu_B\)</span> vs <span class="math inline">\(H_1: \mu_A&gt;\mu_B\)</span>ï¼Œç”¨case 1çš„æ–¹æ³•;<br />
</li>
<li>è®¡ç®—ï¼š<span class="math inline">\(s_{\overline{A}-\overline{B}}=\sqrt{\frac{(n-1)s_A^2+(m-1)s_B^2}{n+m-2}(\frac{1}{n}+\frac{1}{m})}=6.81\)</span><br />
</li>
<li>t çš„ç»Ÿè®¡é‡ä¸ºï¼š<span class="math inline">\(t=\frac{87-80}{6.81}=1.03\)</span>ï¼Œè‡ªç”±åº¦ä¸ºï¼š7+7-2=12;<br />
</li>
<li>è¾¹ç•Œå€¼ä¸ºï¼ˆone tailedï¼‰ï¼š<span class="math inline">\(t_{0.05,12}=1.782\)</span>ï¼›<br />
</li>
<li>å†³ç­–ï¼šç”±äº 1.03 &lt; 1.782ï¼Œæˆ‘ä»¬æ¥å—é›¶å‡è®¾ï¼Œå¯¼å¸ˆAçš„è¯´æ³•ä¸é è°±ã€‚</li>
</ol>
</blockquote>
<p>å¦å¤–å¤šè¯´ä¸€ç‚¹ï¼Œå¦‚æœä¸Šé¢çš„æ•°æ®ï¼Œå…¶å®ƒä¸å˜ï¼Œä½†æ ·æœ¬éƒ½å˜æˆ700çš„è¯ï¼Œå°±ä¼šå‘ç°å¯¼å¸ˆAçš„è¯´æ³•æ˜¯å¯ä¿¡çš„ï¼Œè¿™ä¸ªè‡ªè¡Œè®¡ç®—ã€‚<br />
å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ ·æœ¬ n å¾ˆå¤§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ z-testï¼Œ700å·²ç»è¶³å¤Ÿå¤§äº†ï¼Œæœ‰700ä¸ªè‡ªç”±åº¦çš„ t åˆ†å¸ƒå·²ç»å¾ˆæ¥è¿‘äºæ­£æ€åˆ†å¸ƒäº†ã€‚<br />
</p>
]]></content>
      <categories>
        <category>Data Science</category>
      </categories>
  </entry>
  <entry>
    <title>å¡å°”æ›¼æ»¤æ³¢ï¼ˆKalman Filterï¼‰</title>
    <url>/posts/20.html</url>
    <content><![CDATA[<h1 id="å†™åœ¨å‰é¢çš„è¯´æ˜">å†™åœ¨å‰é¢çš„è¯´æ˜</h1>
<p>æœ¬æ–‡æ€»ç»“è‡ªBç«™åšä¸»DR_CANï¼Œä»–æ˜¯æ•´ä¸ªBç«™æˆ‘æœ€å–œæ¬¢çš„åšä¸»æ²¡æœ‰ä¹‹ä¸€ï¼Œæ¨èå¤§å®¶ç›´æ¥å»çœ‹ä»–çš„è§†é¢‘ï¼Œè¿™ç¯‡å½“ä½œå­¦åçš„å›é¡¾ï¼Œé“¾æ¥åœ¨è¿™<span class="math inline">\(\rightarrow\)</span><a href="https://space.bilibili.com/230105574/channel/detail?cid=139198&amp;ctype=0">ã€ä¼ é€é—¨ã€‘</a>ã€‚ <span id="more"></span></p>
<h1 id="å¼•å…¥-é€’å½’ç®—æ³•">å¼•å…¥ â€”â€” é€’å½’ç®—æ³•</h1>
<p>å¡å°”æ›¼æ»¤æ³¢å™¨å¯çœ‹ä½œæ˜¯ä¸€ç§â€œOptimal Recursive Data Processing Algorithmâ€ï¼Œå³â€œæœ€ä¼˜çš„é€’å½’æ•°å­—å¤„ç†ç®—æ³•â€ã€‚ä¸æ»¤æ³¢å™¨ç›¸æ¯”å®ƒæ›´åƒæ˜¯ä¸€ç§è§‚æµ‹å™¨ã€‚<br />
å¡å°”æ›¼æ»¤æ³¢å™¨çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œå°¤å…¶æ˜¯å¯¼èˆªä¸­ï¼Œè¿™æ˜¯å› ä¸ºç°å®ç”Ÿæ´»ä¸­å……æ»¡å¤§é‡çš„ä¸ç¡®å®šæ€§ï¼Œå½“æˆ‘ä»¬æè¿°ä¸€ä¸ªç³»ç»Ÿçš„æ—¶å€™ï¼Œè¿™ä¸ªä¸ç¡®å®šæ€§ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š<br />
</p>
<blockquote>
<ol type="1">
<li>ä¸å­˜åœ¨å®Œç¾çš„æ•°å­¦æ¨¡å‹ï¼›<br />
</li>
<li>ç³»ç»Ÿçš„æŒ åŠ¨æ˜¯ä¸å¯æ§çš„ï¼Œä¹Ÿå¾ˆéš¾å»ºæ¨¡ï¼›<br />
</li>
<li>æµ‹é‡ä¼ æ„Ÿå™¨å­˜åœ¨è¯¯å·®ã€‚Â </li>
</ol>
</blockquote>
<p>ä¸¾ä¸ªä¾‹å­ï¼š<br />
å½“æˆ‘ä»¬è¦æµ‹é‡ä¸€æšç¡¬å¸çš„ç›´å¾„æ—¶ï¼Œè®¾ç¬¬<span class="math inline">\(k\)</span>æ¬¡æµ‹é‡ç»“æœä¸º<span class="math inline">\(z_k\)</span>ï¼Œå‡å¦‚ä¸‰æ¬¡æµ‹é‡åˆ†åˆ«ä¸ºï¼š <span class="math display">\[z_1=50.1mm\]</span> <span class="math display">\[z_2=50.4mm\]</span> <span class="math display">\[z_3=50.2mm\]</span> è‹¥è¦ä¼°è®¡çœŸå®æ•°æ®ï¼Œå¾ˆè‡ªç„¶åœ°ï¼Œæˆ‘ä»¬ä¼šç”¨å¹³å‡å€¼æ¥è¡¨ç¤ºï¼Œå³ç¬¬<span class="math inline">\(k\)</span>æ¬¡çš„ä¼°è®¡å€¼<span class="math inline">\(\hat{x}_k\)</span>ä¸ºï¼š</p>
<p><span class="math display">\[
\begin{split}
\hat{x}_k &amp;= \frac{1}{k}(z_1+...+z_k)\\\\ 
 &amp;= \frac{1}{k}(z_1+...+z_{k-1})+\frac{1}{k}z_k\\\\ &amp;=
\frac{1}{k}\frac{k-1}{k-1}(z_1+...+z_{k-1})+\frac{1}{k}z_k \\\\
&amp;=\frac{k-1}{k}\hat{x}_{k-1}+\frac{1}{k}z_k\\\\
&amp;=\hat{x}_{k-1}-\frac{1}{k}\hat{x}_{k-1}+\frac{1}{k}z_k
\end{split}
\]</span></p>
<p>å³æ˜¯ï¼š</p>
<p><span class="math display">\[
\hat{x}_k=\hat{x}_{k-1}+\frac{1}{k}(z_k-\hat{x}_{k-1})
\]</span></p>
<p>ç”±æ­¤å¯è§ï¼Œå½“<span class="math inline">\(k\)</span>é€æ¸å¢åŠ æ—¶ï¼Œ<span class="math inline">\(\frac{1}{k}\rightarrow \infty\)</span>ï¼Œä¹Ÿå°±æ˜¯è¯´<span class="math inline">\(\hat{x}_k\rightarrow \hat{x}_{k-1}\)</span>ã€‚<br />
ç”¨æ–‡å­—æè¿°çš„è¯ï¼Œå°±æ˜¯è¯´éšç€<span class="math inline">\(k\)</span>çš„å¢åŠ ï¼Œä¹‹åæµ‹é‡ç»“æœä¹Ÿå°±ä¸å†é‡è¦äº†ï¼Œä¹Ÿå°±æ˜¯å¯¹å‰é¢çš„çœŸå®ä¼°è®¡å€¼å·²ç»éå¸¸æœ‰ä¿¡å¿ƒäº†ã€‚<br />
ç›¸åï¼Œå½“<span class="math inline">\(k\)</span>æ¯”è¾ƒå°æ—¶ï¼Œ<span class="math inline">\(\frac{1}{k}\)</span>å°±ä¼šå¾ˆå¤§ï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶<span class="math inline">\(z_k\)</span>çš„ä½œç”¨ä¼šå¾ˆå¤§ã€‚<br />
ç°åœ¨æ”¹å†™ä¸€ä¸‹ä¸Šé¢çš„å¼å­ä¸ºï¼š <span class="math display">\[
\hat{x}_k=\hat{x}_{k-1}+K_k(z_k-\hat{x}_{k-1})
\]</span> åœ¨å¡å°”æ›¼æ»¤æ³¢å™¨é‡Œï¼Œè¿™ä¸ªç³»æ•°<span class="math inline">\(K_k\)</span>å°±å«Kalman Gainï¼Œä¸­æ–‡ç§°ä¸ºå¡å°”æ›¼å¢ç›Š/å› æ•°ã€‚<br />
ç”±è¿™ä¸ªå¼å­å¯ä»¥çœ‹å‡ºï¼Œè·Ÿé©¬å°”ç§‘å¤«é“¾ç±»ä¼¼ï¼Œå½“å‰ä¼°è®¡å€¼åªä¸è¯¥æ¬¡æµ‹é‡å€¼ä»¥åŠä¸Šä¸€æ¬¡çš„ä¼°è®¡å€¼æœ‰å…³ï¼Œè¿™ä½“ç°äº†ä¸€ç§é€’å½’çš„æ€æƒ³ã€‚<br />
è¿™é‡Œå…ˆå¯¹è¿™ä¸ªç³»æ•°ä½œç®€å•çš„è®¨è®ºã€‚é¦–å…ˆå¼•å…¥ä¸¤ä¸ªå˜é‡ï¼š</p>
<blockquote>
<ol type="1">
<li>ä¼°è®¡è¯¯å·®ï¼š<span class="math inline">\(e_{EST}\)</span>ï¼›<br />
</li>
<li>æµ‹é‡è¯¯å·®ï¼š<span class="math inline">\(e_{MEA}\)</span>ã€‚</li>
</ol>
</blockquote>
<p>å¡å°”æ›¼å¢ç›Šå°±ç­‰äºï¼š <span class="math display">\[
K_k=\frac{e_{EST_{k-1}}}{e_{EST_{k-1}}+e_{MEA_k}}
\]</span> <strong>è¿™ä¸ªå…¬å¼æ˜¯å¡å°”æ›¼æ»¤æ³¢çš„æ ¸å¿ƒå…¬å¼ï¼Œè¯¦ç»†æ¨å¯¼è§åæ–‡ã€‚</strong><br />
è¿™é‡Œå…ˆç®€å•è®¨è®ºåœ¨<span class="math inline">\(k\)</span>æ—¶åˆ»ä¸¤ä¸ªå˜é‡çš„ä½œç”¨ï¼š</p>
<blockquote>
<ol type="1">
<li>å½“<span class="math inline">\(e_{EST_{k-1}} \gg e_{MEA_k}\)</span>ï¼Œå³<span class="math inline">\(k\rightarrow 1\)</span>æ—¶ï¼Œ<span class="math inline">\(\hat{x}_k=\hat{x}_{k-1}+z_k-\hat{x}_{k-1}=z_{k}\)</span>ï¼›<br />
</li>
<li>å½“<span class="math inline">\(e_{EST_{k-1}} \ll e_{MEA_k}\)</span>ï¼Œå³<span class="math inline">\(k\rightarrow 0\)</span>æ—¶ï¼Œ<span class="math inline">\(\hat{x}_k=\hat{x}_{k-1}\)</span>ã€‚</li>
</ol>
</blockquote>
<p>è¿ç”¨å¡å°”æ›¼æ»¤æ³¢å™¨ï¼ŒçœŸå®ä¼°è®¡å€¼å°±å¯ä»¥è¡¨ç¤ºä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<blockquote>
<ol type="1">
<li><strong>Step 1</strong>ï¼šè®¡ç®—å¡å°”æ›¼å¢ç›Šï¼š<span class="math inline">\(K_k=\frac{e_{EST_{k-1}}}{e_{EST_{k-1}}+e_{MEA_k}}\)</span>ï¼›<br />
</li>
<li><strong>Step 2</strong>ï¼šè®¡ç®—å½“å‰ä¼°è®¡å€¼<span class="math inline">\(\hat{x}_k=\hat{x}_{k-1}+K_k(z_k-\hat{x}_{k-1})\)</span>ï¼›</li>
<li><strong>Step 3</strong>ï¼šæ›´æ–°<span class="math inline">\(e_{EST_k}=(1-K_k)e_{EST_{k-1}}\)</span>ï¼ˆè¿™ä¸ªå¼å­åé¢æ¨å¯¼ï¼‰ã€‚</li>
</ol>
</blockquote>
<p>è¿™é‡Œä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸Šé¢ä¸‰ä¸ªæ­¥éª¤ï¼š<br />
å‡è®¾æˆ‘ä»¬è¦æµ‹é‡ä¸€ä¸ªé•¿åº¦æ˜¯<span class="math inline">\(50mm\)</span>çš„ç‰©ä½“ï¼Œç¬¬0æ¬¡çš„ä¼°è®¡å€¼ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºå…ˆéªŒå§ï¼Œæ˜¯<span class="math inline">\(\hat{x}_0=40mm\)</span>ï¼Œç¬¬0æ¬¡ä¼°è®¡è¯¯å·®ä¸º<span class="math inline">\(e_{EST_0}=5mm\)</span>ï¼Œç¬¬ä¸€æ¬¡æµ‹é‡ä¸º<span class="math inline">\(z_1=51mm\)</span>ï¼Œæµ‹é‡è¯¯å·®ä¸€ç›´ä¸º<span class="math inline">\(e_{MEA_k}=3mm\)</span>ã€‚<br />
å¡«å…¥èµ·å§‹å€¼ï¼Œå¦‚ä¸‹è¡¨ï¼š<br />
</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(k\)</span></th>
<th style="text-align: center;"><span class="math inline">\(z_k\)</span></th>
<th style="text-align: center;"><span class="math inline">\(e_{MEA_k}\)</span></th>
<th style="text-align: center;"><span class="math inline">\(\hat{x}_k\)</span></th>
<th style="text-align: center;"><span class="math inline">\(K_k\)</span></th>
<th style="text-align: center;"><span class="math inline">\(e_{EST_k}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">0</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">40</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">5</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">51</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>å€ŸåŠ©ä¸Šé¢ä¸‰ä¸ªæ­¥éª¤ï¼š<br />
<span class="math inline">\(k=1\)</span>æ—¶ï¼š <span class="math display">\[
K_k=\frac{5}{5+3}=0.625
\]</span> <span class="math display">\[
\hat{x}_k=40+0.625(51-40)=46.875
\]</span> <span class="math display">\[
e_{EST}=(1-0.625)\times 5 = 1.875
\]</span> ç„¶å<span class="math inline">\(k=2\)</span>æ—¶ï¼Œè®¾æ­¤æ¬¡æµ‹é‡å€¼ä¸º<span class="math inline">\(z_2=48\)</span>ï¼Œé‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œå°±å¯ä»¥å¡«æ»¡è¡¨æ ¼äº†ã€‚å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(k\)</span></th>
<th style="text-align: center;"><span class="math inline">\(z_k\)</span></th>
<th style="text-align: center;"><span class="math inline">\(e_{MEA_k}\)</span></th>
<th style="text-align: center;"><span class="math inline">\(\hat{x}_k\)</span></th>
<th style="text-align: center;"><span class="math inline">\(K_k\)</span></th>
<th style="text-align: center;"><span class="math inline">\(e_{EST_k}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">0</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">40</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">5</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">51</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">46.88</td>
<td style="text-align: center;">0.625</td>
<td style="text-align: center;">1.875</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: center;">48</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">47.31</td>
<td style="text-align: center;">0.385</td>
<td style="text-align: center;">1.154</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;">47</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">47.22</td>
<td style="text-align: center;">0.278</td>
<td style="text-align: center;">0.833</td>
</tr>
</tbody>
</table>
<p>è¿™æ ·ä¸æ–­ä¸‹å»ï¼Œæœ€åè¿™ä¸ªçœŸå®ä¼°è®¡å€¼ä¼šæ”¶æ•›äº<span class="math inline">\(50mm\)</span>ã€‚<br />
å€Ÿç”¨åšä¸»è§†é¢‘é‡Œçš„æ•°å€¼ç»“æœå›¾ç‰‡ï¼Œå…¶è¡¨ç°å¦‚ä¸‹ï¼š <img src="/images/250.png" /> å…¶ä¸­è“è‰²çº¿è¡¨ç¤ºæµ‹é‡å€¼ï¼Œçº¢è‰²çº¿è¡¨ç¤ºä¼°è®¡å€¼ã€‚</p>
<h1 id="æ•°æ®èåˆåæ–¹å·®çŸ©é˜µçŠ¶æ€ç©ºé—´æ–¹ç¨‹">æ•°æ®èåˆï¼Œåæ–¹å·®çŸ©é˜µï¼ŒçŠ¶æ€ç©ºé—´æ–¹ç¨‹</h1>
<p>è¿™éƒ¨åˆ†æ˜¯å¤ä¹ åŸºç¡€çŸ¥è¯†ï¼Œå¯è·³è¿‡ã€‚</p>
<h2 id="æ•°æ®èåˆ">æ•°æ®èåˆ</h2>
<p>ç®€å•è®²ï¼Œå°±æ˜¯ä»å¤šä¸ªæµ‹é‡æ•°æ®ä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜çš„ã€‚<br />
ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åœ¨ç§°é‡ä¸€ä¸ªç‰©ä½“çš„æ—¶å€™ï¼Œä¸¤æ¬¡ç§°é‡ç»“æœå¦‚ä¸‹ï¼š <span class="math display">\[
z_1=30g, \quad \sigma_1=2g
\]</span> <span class="math display">\[
z_2=32g, \quad \sigma_2=4g
\]</span> æ ¹æ®æ­£æ€åˆ†å¸ƒçš„æ€§è´¨ï¼Œå¯¹äºç¬¬ä¸€ä¸ªæµ‹é‡ç»“æœï¼ŒçœŸå®å€¼è½åœ¨åŒºé—´[28,32]çš„æ¦‚ç‡æ˜¯68.4%ï¼›å¯¹ç¬¬äºŒä¸ªæµ‹é‡ç»“æœï¼ŒçœŸå®å€¼è½åœ¨åŒºé—´[28,36]çš„æ¦‚ç‡æ˜¯68.4%ï¼Œå¦‚æœè¿™æ—¶å€™è¦æˆ‘ä»¬ä¼°è®¡çœŸå®å€¼çš„è¯ï¼Œæˆ‘ä»¬ä¼šæŠŠçœŸå®å€¼ä¼°è®¡åœ¨åŒºé—´[30,32]ä¹‹é—´ï¼Œè€Œä¸”ç”±äºç¬¬ä¸€ä¸ªæµ‹é‡æ ‡å‡†å·®è¾ƒå°ï¼Œæ‰€ä»¥çœŸå®å€¼ä¼šæ›´é è¿‘äº30ã€‚<br />
å¦‚æœè¦æˆ‘ä»¬åœ¨æ•°å­¦ä¸Šå¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒå‡†ç¡®çš„å€¼ï¼Œå°±å¯ä»¥ç”¨ä¸Šé¢é€’å½’çš„æ–¹æ³•ï¼Œå†™å‡ºå¦‚ä¸‹ç­‰å¼ï¼š <span class="math display">\[
\hat{z}=z_1+K(z_2-z_1)
\]</span> å…¶ä¸­ <span class="math inline">\(K\in [0,1]\)</span>ï¼Œå½“<span class="math inline">\(K=0\)</span>æ—¶ï¼Œ<span class="math inline">\(\hat{z}=z_1\)</span>ï¼›å½“<span class="math inline">\(K=1\)</span>æ—¶ï¼Œ<span class="math inline">\(\hat{z}=z_2\)</span>ã€‚<br />
ç°åœ¨æˆ‘ä»¬è¦æ±‚<span class="math inline">\(K\)</span>ï¼Œä½¿å¾— <span class="math inline">\(\sigma_{\hat{z}}\)</span> æœ€å°ï¼Œå³æ˜¯è¦ <span class="math inline">\(Var(\hat{z})\)</span> æœ€å°ã€‚<br />
è€Œè¿™ä¸ªæ–¹å·®æˆ‘ä»¬å¯ä»¥å†™æˆï¼š <span class="math display">\[
\sigma_{\hat{z}}^2=Var(z_1+K(z_2-z_1))=Var((1-K)z_1+Kz_2)
\]</span> ç”±äºæ‹¬å·é‡Œçš„ä¸¤é¡¹ <span class="math inline">\((1-K)z_1\)</span> å’Œ <span class="math inline">\(Kz_2\)</span> ç›¸äº’ç‹¬ç«‹(æ¯•ç«Ÿæ˜¯ä¸¤ä¸ªä¸åŒçš„ç§°ï¼Œç§°é‡ç»“æœè‚¯å®šä¸ä¼šç›¸äº’å½±å“)ï¼Œæ ¹æ®æ–¹å·®çš„æ€§è´¨ï¼Œä¸Šé¢å¼å­å¯ä»¥ç»§ç»­å¾€ä¸‹å†™ï¼š <span class="math display">\[
Var((1-K)z_1+Kz_2)=Var((1-K)z_1)+Var(Kz_2)=(1-K)^2Var(z_1)+K^2Var(z_2)
\]</span> å°†ä¸Šé¢ä¸¤ä¸ªæ–¹å·®ä»£å…¥å¾—ï¼š <span class="math display">\[
(1-K)^2Var(z_1)+K^2Var(z_2)=(1-K)^2\sigma_1^2+K^2\sigma_2^2
\]</span> ä¹Ÿå°±æ˜¯è¯´ï¼š <span class="math display">\[
\sigma_{\hat{z}}^2=(1-K)^2\sigma_1^2+K^2\sigma_2^2
\]</span> ç°åœ¨è¦æ±‚æœ€å°å€¼ï¼Œæ‰€ä»¥å°±æ˜¯å¯¹<span class="math inline">\(K\)</span>è¿›è¡Œæ±‚å¯¼ï¼š <span class="math display">\[
\frac{d\sigma_{\hat{z}}^2}{dK}=0
\]</span> (ä¸­é—´è¿‡ç¨‹è‡ªè¡Œè®¡ç®—)<br />
æœ€åæ±‚å‡º<span class="math inline">\(K\)</span>çš„å€¼ä¸ºï¼š <span class="math display">\[
K=\frac{\sigma_1^2}{\sigma_1^2+\sigma_2^2}=0.2
\]</span> æŠŠ<span class="math inline">\(K\)</span>ä»£å…¥ä¸Šé¢å¼å­ï¼Œå…¶æœ€ä½³ä¼°è®¡å€¼ä¸ºï¼š <span class="math display">\[
\hat{z}=z_1+K(z_2-z_1)=30+0.2(32-30)=30.4
\]</span> å…¶æ–¹å·®ä¸ºï¼š <span class="math display">\[
\sigma_{\hat{z}}^2=(1-0.2)^22^2+0.2^24^2=3.2
\]</span> æ ‡å‡†å·®ä¸ºï¼š<span class="math inline">\(\sqrt{3.2}=1.79\)</span><br />
è¿™ä¸ªè®¡ç®—è¿‡ç¨‹å°±æ˜¯æ•°æ®èåˆã€‚<br />
</p>
<h2 id="åæ–¹å·®çŸ©é˜µ">åæ–¹å·®çŸ©é˜µ</h2>
<p>åæ–¹å·®çŸ©é˜µæ˜¯å°†çŸ©é˜µï¼Œåæ–¹å·®åœ¨ä¸€ä¸ªçŸ©é˜µä¸­è¡¨ç¤ºå‡ºæ¥ï¼Œè¡¨æ˜å˜é‡ç©ºé—´çš„è”åŠ¨å…³ç³»ã€‚æ¯”å¦‚è¯´ä¸‹é¢è¿™ä¸ªè¡¨æ ¼ï¼š</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">åå­—</th>
<th style="text-align: center;">èº«é«˜<span class="math inline">\((x)\)</span></th>
<th style="text-align: center;">ä½“é‡<span class="math inline">\((y)\)</span></th>
<th style="text-align: center;">å¹´é¾„<span class="math inline">\((z)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">179</td>
<td style="text-align: center;">74</td>
<td style="text-align: center;">33</td>
</tr>
<tr class="even">
<td style="text-align: center;">B</td>
<td style="text-align: center;">187</td>
<td style="text-align: center;">80</td>
<td style="text-align: center;">31</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">175</td>
<td style="text-align: center;">71</td>
<td style="text-align: center;">28</td>
</tr>
<tr class="even">
<td style="text-align: center;">å‡å€¼</td>
<td style="text-align: center;">180.3</td>
<td style="text-align: center;">75</td>
<td style="text-align: center;">30.7</td>
</tr>
</tbody>
</table>
<p>è®¡ç®—å‡ºå˜é‡<span class="math inline">\(x,y,z\)</span>çš„æ–¹å·®ä¸ºï¼š <span class="math display">\[
\sigma_x^2=24.89,\quad \sigma_y^2=14,\quad\sigma_z^2=4.22
\]</span> è®¡ç®—åæ–¹å·®ä¸ºï¼š <span class="math display">\[
\begin{aligned}
\sigma_x\sigma_y &amp;= \frac{1}{3}((179-180.3)(74-75)+(187-180.3)(80-75)+(175-180.3)(71-75))\\
&amp;= 18.7=\sigma_y\sigma_x
\end{aligned}
\]</span> åŒç†ï¼š <span class="math display">\[
\sigma_x\sigma_z=4.4=\sigma_z\sigma_x, \quad \sigma_y\sigma_z=3.3=\sigma_z\sigma_y
\]</span> (åæ–¹å·®çŸ©é˜µæ˜¯å¯¹ç§°çŸ©é˜µã€‚)<br />
åæ–¹å·®çŸ©é˜µå½¢å¼å¦‚ä¸‹ï¼š <span class="math display">\[
 \left[
 \begin{matrix}
   \sigma_x^2 &amp; \sigma_{x,y} &amp; \sigma_{x,z} \\
   \sigma_{y,x} &amp; \sigma_y^2 &amp; \sigma_{y,z} \\
   \sigma_{z,x} &amp; \sigma_{z,y} &amp; \sigma_z^2
  \end{matrix}
  \right]
\]</span> ä»£å…¥æ•°æ®ï¼š <span class="math display">\[
 \left[
 \begin{matrix}
   24.89 &amp; 18.7 &amp; 4.4 \\
   18.7 &amp; 14 &amp; 3.3 \\
   4.4 &amp; 3.3 &amp; 4.22
  \end{matrix}
  \right]
\]</span> <strong>çŸ©é˜µè®¡ç®—çš„æ–¹æ³•</strong> åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œç”¨çŸ©é˜µè®¡ç®—æ–¹æ³•è®¡ç®—åæ–¹å·®æ˜æ˜¾æ›´å®¹æ˜“ä¹¦å†™ï¼Œå…¶å½¢å¼å¦‚ä¸‹ï¼š<br />
è¿‡æ¸¡çŸ©é˜µï¼š <span class="math display">\[
a=
 \left[
 \begin{matrix}
   x_1 &amp; y_1 &amp; z_1 \\
   x_2 &amp; y_2 &amp; z_2 \\
   x_3 &amp; y_3 &amp; z_3
 \end{matrix}
 \right]
-
\frac{1}{3}
 \left[
 \begin{matrix}
   1 &amp; 1 &amp; 1 \\
   1 &amp; 1 &amp; 1 \\
   1 &amp; 1 &amp; 1
  \end{matrix}
  \right]
   \left[
 \begin{matrix}
   x_1 &amp; y_1 &amp; z_1 \\
   x_2 &amp; y_2 &amp; z_2 \\
   x_3 &amp; y_3 &amp; z_3
  \end{matrix}
  \right]
\]</span> åæ–¹å·®çŸ©é˜µï¼š <span class="math display">\[
P=\frac{1}{3}a^Ta
\]</span> ç°åœ¨æˆ‘ä»¬è§‚å¯Ÿä¸Šé¢å¾—å‡ºçš„é‚£ä¸ªåæ–¹å·®çŸ©é˜µï¼Œå…ˆçœ‹å¯¹è§’çº¿ï¼Œå‰ä¸¤ä¸ªæ•°å­—éƒ½å¾ˆå¤§ï¼ˆå…¶å®ç¬¬ä¸‰ä¸ªæ•°å­—ä¸åº”è¯¥è¿™ä¹ˆå°çš„ï¼Œä½†æ¯•ç«Ÿåªå–äº†ä¸‰ä¸ªæ•°æ®ï¼Œå¶ç„¶æ€§å¤ªå¤§ï¼‰ï¼Œè¡¨æ˜æ•°æ®æ³¢åŠ¨æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œè¯´æ˜èº«é«˜ä½“é‡åœ¨è¿™ä¸ªç¾¤ä½“é‡Œå½±å“ä¸å¤§ï¼›æ¥ç€çœ‹å…¶å®ƒæ•°æ®ï¼Œæ¯”å¦‚è¿™ä¸ª18.7ï¼Œè¯´æ˜èº«é«˜è·Ÿä½“é‡æ˜¯æˆæ­£æ¯”çš„ï¼Œä¸”ç›¸å…³æ€§è¾ƒå¤§ï¼Œä¹Ÿç¬¦åˆå¸¸ç†ï¼›ç„¶åå†çœ‹çœ‹4.4ï¼Œè¯´æ˜èº«é«˜è·Ÿå¹´é¾„å…³ç³»ä¸å¤§ï¼Œä¹Ÿå¯¹ï¼Œåˆ°ä¸€å®šå¹´é¾„èº«é«˜è·Ÿå¹´é¾„å…³ç³»å°±ä¸å¤§äº†â€¦â€¦<br />
</p>
<h2 id="çŠ¶æ€ç©ºé—´æ–¹ç¨‹">çŠ¶æ€ç©ºé—´æ–¹ç¨‹</h2>
<p>æ¯”å¦‚è¯´å¯¹äºä¸€ä¸ªå¼¹ç°§é˜»å°¼ç³»ç»Ÿï¼š<img src="/images/271.png" /> æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“å†™å‡ºå¦‚ä¸‹å¾®åˆ†æ–¹ç¨‹(<span class="math inline">\(x\)</span>ä¸ºä½ç§»)ï¼š <span class="math display">\[
m\ddot{x}+c\dot{x}+kx=F
\]</span> çŠ¶æ€é‡ä¸ºï¼š <span class="math display">\[
x_1=x;\quad x_2=\dot{x}
\]</span> è§‚æµ‹é‡ä¸ºï¼š <span class="math display">\[
z_1=x=x_1;ä½ç½®\quad z_2=\dot{x}=x_2é€Ÿåº¦
\]</span> è®¾<span class="math inline">\(F\)</span>ä¸ºè¾“å…¥å€¼ï¼Œç­‰äº<span class="math inline">\(u\)</span>ã€‚<br />
å†™æˆä¸€é˜¶å¾®åˆ†çŸ©é˜µå½¢å¼å¦‚ä¸‹ï¼š <span class="math display">\[
   \left[
\begin{matrix}
   \dot{x_1}  \\
   \dot{x_2} 
  \end{matrix}
  \right]
=
   \left[
\begin{matrix}
   0 &amp; 1  \\
   -\frac{k}{m} &amp; -\frac{c}{m} 
  \end{matrix}
  \right]
     \left[
\begin{matrix}
   x_1  \\
   x_2
  \end{matrix}
  \right]
+
   \left[
\begin{matrix}
   0  \\
   \frac{1}{m} 
  \end{matrix}
  \right]
u
\]</span> è§‚æµ‹çŸ©é˜µä¸ºï¼š <span class="math display">\[
\left[
\begin{matrix}
   z_1  \\
   z_2 
\end{matrix}
\right]
=
   \left[
\begin{matrix}
   1 &amp; 0  \\
   0 &amp; 1 
  \end{matrix}
  \right]
      \left[
\begin{matrix}
   x_1  \\
   x_2
  \end{matrix}
  \right]
\]</span> ä»¥ä¸Šä¸¤ä¸ªçŸ©é˜µè¡¨è¾¾å¼å°±æ˜¯çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼ï¼Œå½’çº³ä¸€ä¸‹å¯ä»¥å†™ä¸ºï¼š <span class="math display">\[
\dot{X}_t=AX_t+Bu_t
\]</span> <span class="math display">\[
Z_t=HX_t
\]</span> è¿™æ˜¯ä¸€ç§è¿ç»­çš„è¡¨è¾¾å¼ï¼Œå·¦è¾¹<span class="math inline">\(X\)</span>æ˜¯å¯¹æ—¶é—´æ±‚å¯¼ã€‚<br />
å†™æˆç¦»æ•£å½¢å¼ä¸ºï¼š <span class="math display">\[
X_k=AX_{k-1}+Bu_{k-1}
\]</span> <span class="math display">\[
Z_k=HX_k
\]</span> å…¶ä¸‹æ ‡<span class="math inline">\(k.k+1,k+2...\)</span>ä¸ºæ—¶é—´å•ä½ï¼Œå³æ˜¯é‡‡æ ·ã€‚<br />
åœ¨å®é™…ç”Ÿæ´»ä¸­åˆ°å¤„å……æ»¡ç€ä¸ç¡®å®šæ€§ï¼Œä¸Šé¢é‚£ä¸ªç¦»æ•£çš„çŠ¶æ€ç©ºé—´è¡¨è¾¾å¼å¯ä»¥å†™ä¸ºï¼š <span class="math display">\[
X_k=AX_{k-1}+Bu_{k-1}+w_{k-1}
\]</span> <span class="math display">\[
Z_k=HX_k+v_k
\]</span> å…¶ä¸­<span class="math inline">\(w_{k-1}\)</span>ä¸ºè¿‡ç¨‹å™ªéŸ³ï¼Œ<span class="math inline">\(v_k\)</span>ä¸ºæµ‹é‡å™ªéŸ³ã€‚<br />
æ ¹æ®è¿™äº›å¦‚ä½•å»ä¼°è®¡ä¸€ä¸ª<span class="math inline">\(\hat{X}_k\)</span>å‘¢ï¼Ÿè¿™å°±æ˜¯å¡å°”æ›¼æ»¤æ³¢å™¨è¦è§£å†³çš„é—®é¢˜ã€‚</p>
<h1 id="å¡å°”æ›¼å¢ç›Šçš„æ•°å­¦æ¨å¯¼">å¡å°”æ›¼å¢ç›Šçš„æ•°å­¦æ¨å¯¼</h1>
<p>åœ¨ä¸€å¼€å§‹æˆ‘ä»¬ç”¨äº†å¡å°”æ›¼å¢ç›Šï¼Œä½†å´æ²¡æœ‰è§£é‡Šä¸ºä»€ä¹ˆè¿™ä¸ªå¢ç›Šæ˜¯è¿™ç§å½¢å¼ï¼Œè¿™éƒ¨åˆ†å°±æ˜¯å¯¹å®ƒçš„æ¨å¯¼ã€‚<br />
å°†ä¸Šé¢é‚£ä¸ªç¦»æ•£æƒ…å†µä¸‹å¸¦å™ªéŸ³çš„çŠ¶æ€ç©ºé—´æ–¹ç¨‹å†™ä¸‹æ¥å¦‚ä¸‹ï¼š <span class="math display">\[
X_k=AX_{k-1}+Bu_{k-1}+w_{k-1}
\]</span> <span class="math display">\[
Z_k=HX_k+v_k
\]</span> ä¸¤ä¸ªæ–¹ç¨‹çš„å™ªéŸ³éƒ¨åˆ†æ˜¯æˆ‘ä»¬ä¸å¯æµ‹çš„ï¼Œä½†åœ¨è‡ªç„¶ç•Œä¸­æˆ‘ä»¬å¯ä»¥æŠŠè¿™å™ªå£°å‡è®¾æˆæ­£æ€åˆ†å¸ƒ(why? åªèƒ½è¯´è‡ªç„¶ç•Œå°±æ˜¯è¿™ä¹ˆç¥å¥‡)ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠè¿‡ç¨‹å™ªéŸ³å†™æˆï¼š <span class="math display">\[
P(w) \sim (0,Q)
\]</span> è¿™é‡Œ0æ˜¯æœŸæœ›ï¼Œ<span class="math inline">\(Q\)</span>æ˜¯åæ–¹å·®çŸ©é˜µã€‚è¿™ä¸ª<span class="math inline">\(Q\)</span>å¯ä»¥ç”¨ä¸‹é¢çš„å¼å­è®¡ç®—ï¼š <span class="math display">\[
Q=E[ww^T]
\]</span> ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚ç°åœ¨<span class="math inline">\(X_k\)</span>ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå³æ˜¯ï¼š <span class="math display">\[
X_k=
\left[
  \begin{matrix}
   x_1  \\
   x_2
  \end{matrix}
\right]
\]</span> åˆ™å¯¹åº”çš„è¿‡ç¨‹å™ªéŸ³å°±æ˜¯ï¼š <span class="math display">\[
\left[
\begin{matrix}
   w_1  \\
   w_2
  \end{matrix}
  \right]
\]</span> è¿™ä¸ªå™ªéŸ³çš„åæ–¹å·®çŸ©é˜µä¸ºï¼š <span class="math display">\[
E[
\left[
\begin{matrix}
   w_1  \\
   w_2
  \end{matrix}
  \right]
\left[
\begin{matrix}
   w_1 &amp; w_2
  \end{matrix}
  \right]
]
=
\left[
\begin{matrix}
   E[w_1^2] &amp; E[w_1w_2]  \\
   E[w_2w_1] &amp; E[w_2^2]
  \end{matrix}
  \right]
\]</span> å¦å¤–ï¼Œå¯¹äºæ–¹å·®æˆ‘ä»¬æœ‰ï¼š <span class="math display">\[
Var(x)=E(x^2)-E^2(x)
\]</span> åœ¨è¿™é‡Œå™ªéŸ³çš„æœŸæœ›ä¸º0ï¼Œæ‰€ä»¥ï¼š<span class="math inline">\(Var(x)=E(x^2)\)</span>ï¼Œä¸Šé¢çš„çŸ©é˜µå¯ä»¥å†™ä¸ºï¼š<br />
<span class="math display">\[
E[
\left[
\begin{matrix}
   w_1  \\
   w_2
  \end{matrix}
  \right]
\left[
\begin{matrix}
   w_1 &amp; w_2
  \end{matrix}
  \right]
]
=
\left[
\begin{matrix}
   \sigma_{w_1}^2 &amp; \sigma_{w_1,w_2}  \\
   \sigma_{w_2,w_1} &amp; \sigma_{w_2}^2
  \end{matrix}
  \right]
\]</span> å™ªéŸ³çš„åæ–¹å·®çŸ©é˜µå°±å‡ºæ¥äº†ï¼Œæ‰€ä»¥è¿™ä¸ªå¼å­ï¼š <span class="math display">\[
Q=E[ww^T]
\]</span> æ˜¯æ­£ç¡®çš„ã€‚ åŒç†ï¼Œå¯¹äºæµ‹é‡å™ªéŸ³<span class="math inline">\(v_k\)</span>ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š <span class="math display">\[
p(v)\sim (0,R)
\]</span> <span class="math inline">\(R\)</span>æ˜¯åæ–¹å·®çŸ©é˜µï¼ŒåŒæ ·ç”¨ä¸Šé¢çš„æ–¹æ³•ä¹Ÿå¯ä»¥è®¡ç®—ã€‚<br />
åœ¨å®é™…å»ºæ¨¡ä¸­ï¼Œè¿™ä¸¤ä¸ªå™ªéŸ³æˆ‘ä»¬æ˜¯æ— æ³•å»ºæ¨¡å‡ºæ¥çš„ï¼Œæˆ‘ä»¬èƒ½è®¡ç®—çš„åªæ˜¯ä¸‹é¢è¿™ä¸ªä¸œè¥¿ï¼š <span class="math display">\[
X_k^-=AX_{k-1}+Bu_{k-1} \tag{1}
\]</span> å°‘äº†å™ªéŸ³é‚£é¡¹ï¼Œåƒè¿™ç§æˆ‘ä»¬ç›´æ¥è®¡ç®—å‡ºæ¥çš„æˆ‘ä»¬ç§°ä¸ºå…ˆéªŒä¼°è®¡å€¼ï¼Œè¡¨ç¤ºä¸ºä¼°è®¡å€¼ä¸Šé¢å¸¦ä¸ªå‡å·ã€‚<br />
å¯¹äºæµ‹é‡éƒ¨åˆ†ï¼Œæˆ‘ä»¬æœ‰ï¼š <span class="math display">\[
\hat{X}_{k,mea}=H^{-1}Z_{k} \tag{2}
\]</span> è¿™æ˜¯æµ‹é‡ä¼°è®¡å€¼ã€‚<br />
ç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ä¸ªç»“æœï¼Œåˆ†åˆ«æ˜¯å…ˆéªŒä¼°è®¡å€¼å’Œæµ‹é‡ä¼°è®¡å€¼ï¼Œä½†è¿™ä¸¤ä¸ªéƒ½ä¸å…·å¤‡å™ªå£°çš„å½±å“ï¼Œéƒ½æ˜¯ä¸å‡†ç¡®çš„ï¼Œç„¶åå¡å°”æ›¼æ»¤æ³¢å™¨çš„ä½œç”¨å°±å‡ºæ¥äº†ï¼šé€šè¿‡ä¸¤ä¸ªä¸å¤ªå‡†ç¡®çš„ç»“æœå¾—å‡ºä¸€ä¸ªæ¯”è¾ƒå‡†ç¡®çš„ç»“æœã€‚<br />
æ ¹æ®ä¸Šé¢ã€æ•°æ®èåˆã€‘é‚£éƒ¨åˆ†çš„çŸ¥è¯†ï¼ŒåéªŒä¼°è®¡å€¼(å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„)å¯ä»¥å†™æˆï¼š <span class="math display">\[
\hat{X}_k=\hat{X}_{k}^-+G(H^{-1}Z_k-\hat{X}_{k}^-)
\]</span> è¿™é‡Œ<span class="math inline">\(G\in [0,1]\)</span>ï¼Œå½“<span class="math inline">\(G=0\)</span>æ—¶ï¼Œ<span class="math inline">\(\hat{X}_k=\hat{X}_{k}^-\)</span>ï¼Œè¡¨æ˜æ›´ç›¸ä¿¡è®¡ç®—çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯å…ˆéªŒä¼°è®¡å€¼ï¼›å¦‚æœ<span class="math inline">\(G=1\)</span>ï¼Œ<span class="math inline">\(\hat{X}_k=H^{-1}Z_{k}\)</span>ï¼Œè¡¨æ˜æ›´ç›¸ä¿¡æµ‹é‡çš„ç»“æœã€‚<br />
åœ¨å…¶å®ƒåœ°æ–¹ä¸Šé¢çš„å¼å­ä¼šå†™æˆè¿™æ ·ï¼š <span class="math display">\[
\hat{X}_k=\hat{X}_k^-+K_k(Z_k-H\hat{X}_{k}^-)
\]</span> è¿™é‡Œçš„<span class="math inline">\(G=K_kH\)</span>ï¼Œå…¶å®ä¸€ä¸ªä¸€å£°ï¼Œä½†è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„<span class="math inline">\(K\in[0,H^{-1}]\)</span>ã€‚<br />
ç°åœ¨æˆ‘ä»¬è¦åšçš„å°±æ˜¯å¯»æ‰¾è¿™ä¸ª<span class="math inline">\(K_k\)</span>ï¼Œä½¿å¾—<span class="math inline">\(\hat{X}_k\)</span>è¶‹è¿‘äº<span class="math inline">\(X_{k}\)</span>ã€‚è¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè¯¯å·®ï¼š <span class="math display">\[
e_k=X_k-\hat{X}_k
\]</span> è¿™é‡Œçš„è¯¯å·®<span class="math inline">\(e_k\)</span>ä¹Ÿæ˜¯ä¸€ä¸ªç¬¦åˆæ­£æ€åˆ†å¸ƒçš„çŸ©é˜µï¼š<span class="math inline">\(P(e_{k})\sim (0,P)\)</span>(è¿™ä¸ªåº”è¯¥å¾ˆå®¹æ˜“ç†è§£)ï¼Œä¾æ—§æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•æ±‚è¿™ä¸ªåæ–¹å·®çŸ©é˜µï¼š <span class="math display">\[
P=E[ee^T]=
\left[
\begin{matrix}
   \sigma_{e_1}^2 &amp; \sigma_{e_1,e_2}  \\
   \sigma_{e_2,e_1} &amp; \sigma_{e_2}^2
  \end{matrix}
  \right]
\]</span> æˆ‘ä»¬è¿™ä¸ªä¼°è®¡å€¼<span class="math inline">\(\hat{X}_k\)</span>è¶Šæ¥è¿‘äºå®é™…å€¼ï¼Œå°±è¯´æ˜è¿™ä¸ªè¯¯å·®çš„æ–¹å·®è¶Šå°ï¼Œä¹Ÿå°±è¯´æ˜è¶Šæ¥è¿‘äº0ã€‚ç°åœ¨é—®é¢˜å°±å˜æˆäº†æˆ‘ä»¬éœ€è¦é€‰å–é€‚å½“çš„<span class="math inline">\(K_k\)</span>ï¼Œä½¿åæ–¹å·®çŸ©é˜µçš„è¿¹æœ€å°ï¼Œå³<span class="math inline">\(tr(P)\)</span>æœ€å°ã€‚(å…ƒç´ åˆ†å¼€è€ƒè™‘ï¼Œæ‰€ä»¥æ˜¯å¯¹è§’çº¿)ã€‚ <span class="math display">\[
tr(P)=\sigma_{e_1}^2+\sigma_{e_2}^2
\]</span> ç°åœ¨æˆ‘ä»¬é¦–å…ˆæŠŠåæ–¹å·®çŸ©é˜µæ±‚å‡ºæ¥ï¼Œå¯¹äºè¯¯å·®æœ‰ï¼š <span class="math display">\[
e_k=X_k-\hat{X}_k
\]</span> å°†å…¶ä»£å…¥åæ–¹å·®çŸ©é˜µçš„å¼å­å¾—ï¼š <span class="math display">\[
\begin{aligned}
P  &amp;= E[ee^T]\\
    &amp;=E[(X_k-\hat{X}_k)(X_k-\hat{X}_{k})^T]
\end{aligned}
\]</span> å°† <span class="math display">\[
\hat{X}_k=\hat{X}_k^-+K_k(Z_k-H\hat{X}_{k}^-)
\]</span> <span class="math display">\[
Z_k=HX_k+v_k
\]</span> ä»£å…¥å¾—ï¼š <span class="math display">\[
\begin{aligned}
X_k-\hat{X}_k &amp;= (X_k-\hat{X}_{k}^-)-K_kH(X_k-\hat{X}_{k}^-)-K_kv_k \\
&amp;=(I-K_kH)(X_k-\hat{X}_{k}^-)-K_kv_k
\end{aligned}
\]</span> å®šä¹‰å…ˆéªŒè¯¯å·® <span class="math inline">\(e_k^-=(X_k-\hat{X}_{k}^-)\)</span>ã€‚<br />
æ‰€ä»¥ä¸Šé¢çš„åæ–¹å·®çŸ©é˜µå¯ä»¥å†™ä¸ºï¼š <span class="math display">\[
\begin{aligned}
P_k  &amp;= E[ee^T]\\
    &amp;= E[(X_k-\hat{X}_k)(X_k-\hat{X}_{k})^T]\\
    &amp;= E[[(I-K_kH)e_k^--K_kv_k][(I-K_kH)e_k^--K_kv_k]^T]\\
    &amp;= E[(I-K_kH)e_k^-{e_k^-}^T(I-K_kH)^T]-E[(I-K_kH)e_k^-v_k^TK_k^T]
        -E[K_kv_k{e_k^-}^T(I-K_kH)^T]+E[K_kv_kv_k^TK_k^T]
\end{aligned}
\]</span> ç”±äº<span class="math inline">\((I-K_kH)\)</span>æ˜¯å¸¸æ•°ï¼Œä¸”å¯¹äºç‹¬ç«‹çš„<span class="math inline">\(A,B\)</span>ï¼Œæœ‰<span class="math inline">\(E(AB)=E(A)E(B)\)</span>ï¼Œ<span class="math inline">\(E(e_K^-)=E(v_k^T)=0\)</span>ï¼Œæ‰€ä»¥ä¸Šå¼çš„ä¸­é—´ä¸¤é¡¹ä¸º0ã€‚ä¸Šå¼å¯ä»¥ç»§ç»­åŒ–ç®€ï¼š <span class="math display">\[
\begin{aligned}
P_k  &amp;= E[ee^T]\\
    &amp;= E[(X_k-\hat{X}_k)(X_k-\hat{X}_{k})^T]\\
    &amp;= E[[(I-K_kH)e_k^--K_kv_k][(I-K_kH)e_k^--K_kv_k]^T]\\
    &amp;= E[(I-K_kH)e_k^-{e_k^-}^T(I-K_kH)^T]-E[(I-K_kH)e_k^-v_k^TK_k^T]
        -E[K_kv_k{e_k^-}^T(I-K_kH)^T]+E[K_kv_kv_k^TK_k^T]\\
    &amp;= (I-K_kH)E[(e_k^-{e_k^-}^T)](I-K_kH)^T+K_kE[v_kv_k^T]K_k^T
\end{aligned}
\]</span> ç”±äº<span class="math inline">\(E[(e_k^-{e_k^-}^T)]\)</span>ä¸ºå…ˆéªŒè¯¯å·®çš„åæ–¹å·®çŸ©é˜µ<span class="math inline">\(P_k^-\)</span>ï¼Œ<span class="math inline">\(R=E[v_kv_k^T]\)</span>ä¸Šé¢ç­‰å¼å°±å¯ä»¥ç»§ç»­åŒ–ç®€ï¼š <span class="math display">\[
\begin{aligned}
P_k  &amp;= E[ee^T]\\
    &amp;= E[(X_k-\hat{X}_k)(X_k-\hat{X}_{k})^T]\\
    &amp;= E[[(I-K_kH)e_k^--K_kv_k][(I-K_kH)e_k^--K_kv_k]^T]\\
    &amp;= E[(I-K_kH)e_k^-{e_k^-}^T(I-K_kH)^T]-E[(I-K_kH)e_k^-v_k^TK_k^T]
        -E[K_kv_k{e_k^-}^T(I-K_kH)^T]+E[K_kv_kv_k^TK_k^T]\\
    &amp;= (I-K_kH)E[(e_k^-{e_k^-}^T)](I-K_kH)^T+K_kE[v_kv_k^T]K_k^T\\
    &amp;=(P_k^--K_kHP_k^-)(I-H^TK_k^T)+K_kRK_k^T\\
    &amp;=P_k^--K_kHP_k^--P_k^-H^TK_k^T+K_kHP_k^-H^TK_k^T+K_kRK_k^T
\end{aligned}
\]</span> ç°åœ¨å°±æ±‚å‡ºè¿™ä¸ªåæ–¹å·®çŸ©é˜µäº†ï¼Œæ¥ä¸‹æ¥æ˜¯æ±‚è¿¹ã€‚æˆ‘ä»¬çœ‹å³è¾¹ç¬¬ä¸‰é¡¹ï¼Œå¯¹å…¶è½¬ç½®ï¼š <span class="math display">\[
((P_k^-H^T)K_k^T)^T=K_k(P_k^-H^T)^T=K_kH{P_k^-}^T
\]</span> ä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸‰é¡¹çš„è½¬ç½®ç­‰äºç¬¬äºŒé¡¹ï¼Œæ‰€ä»¥ç¬¬ä¸‰é¡¹çš„è¿¹ä¸ç¬¬äºŒé¡¹ç›¸åŒã€‚æ‰€ä»¥åæ–¹å·®çŸ©é˜µçš„è¿¹ä¸ºï¼š <span class="math display">\[
tr(P_k)=tr(P_k^-)-2tr(K_kHP_k^-)+tr(K_kHP_k^-H^TK_k^T)+tr(K_kRK_k^T)
\]</span> ç°åœ¨è¦æ±‚è¿¹æœ€å°æ—¶å¯¹åº”çš„<span class="math inline">\(K_k\)</span>ï¼Œå³æ˜¯æ±‚å¯¼ç­‰äº0ã€‚<br />
è¿™é‡Œå…ˆè¯´ä¸ªä¸œè¥¿ï¼š <span class="math display">\[
\frac{dtr(AB)}{dA}=B^T
\]</span> <span class="math display">\[
\frac{d(ABA^T)}{dA}=2AB
\]</span> (è¿™ä¸ªè‡ªå·±éªŒè¯)<br />
æ‰€ä»¥ï¼š <span class="math display">\[
\frac{dtr(P_k)}{dK_k}=0-2(HP_k^-)^T+2K_kHP_k^-H^T+2K_kR=0
\]</span> å³ï¼š <span class="math display">\[
-P_k^-H^T+K_k(HP_k^-H^T+R)=0
\]</span> <span class="math display">\[
K_k=\frac{P_k^-H^T}{HP_k^-H^T+R}
\]</span> è¿™å°±æ˜¯å¡å°”æ›¼æ»¤æ³¢å™¨æœ€æ ¸å¿ƒçš„å…¬å¼ï¼Œåˆ†æä¸€ä¸‹ï¼Œå½“<span class="math inline">\(R\)</span>ç‰¹åˆ«å¤§æ—¶ï¼Œå³æµ‹é‡å™ªå£°ç‰¹åˆ«å¤§æ—¶ï¼Œ<span class="math inline">\(K_k\)</span>å°±è¶‹è¿‘äº0ï¼Œæ­¤æ—¶ä¼°è®¡å€¼<span class="math inline">\(\hat{X}_k\)</span>å°±ç­‰äºå…ˆéªŒä¼°è®¡<span class="math inline">\(\hat{X}_{k}^-\)</span>ï¼Œæˆ‘ä»¬å°±æ›´æ„¿æ„ç›¸ä¿¡è®¡ç®—çš„å…ˆéªŒä¼°è®¡ï¼›å½“<span class="math inline">\(R\)</span>å¾ˆå°æ—¶ï¼Œ<span class="math inline">\(K_k\)</span>å°±è¶‹è¿‘äº<span class="math inline">\(H^{-1}\)</span>ï¼Œä¼°è®¡å€¼å°±ç­‰äºæµ‹é‡ä¼°è®¡ã€‚</p>
<h1 id="è¯¯å·®åæ–¹å·®çŸ©é˜µ">è¯¯å·®åæ–¹å·®çŸ©é˜µ</h1>
<p>ä¸Šé¢æˆ‘ä»¬å¾—å‡ºäº†å¡å°”æ›¼å¢ç›Šçš„è¡¨è¾¾å¼ï¼š <span class="math display">\[
K_k=\frac{P_k^-H^T}{HP_k^-H^T+R}
\]</span> åœ¨è¿™ä¸ªè¡¨è¾¾å¼ä¸­<span class="math inline">\(P_k^-\)</span>æˆ‘ä»¬è¿˜ä¸çŸ¥é“ï¼Œè¿™éƒ¨åˆ†å°±æ˜¯å¯¹è¿™ä¸ªçš„æ¨å¯¼ã€‚<br />
æˆ‘ä»¬å·²çŸ¥ï¼š <span class="math display">\[
P_k^-=E[e_k^--{e_k^-}^T]
\]</span> <span class="math display">\[
\begin{aligned}
e_k^- &amp;=X_k-\hat{X}_k^-\\
    &amp;= AX_{k-1}+Bu_{k-1}+w_{k-1}-A\hat{X}_{k-1}-Bu_{k-1}\\
    &amp;= A(X_{k-1}-\hat{X}_{k-1})+w_{k-1}\\
    &amp;= Ae_{k-1}+w_{k-1}
\end{aligned}
\]</span> ä»£å…¥ä¸Šé¢çš„åæ–¹å·®çŸ©é˜µï¼š <span class="math display">\[
\begin{aligned}
P_k^- &amp;=E[e_k^--{e_k^-}^T]\\
    &amp;= E[(Ae_{k-1}+w_{k-1})((Ae_{k-1})^T+(w_{k-1})^T)]\\
    &amp;= E[Ae_{k-1}e_{k-1}^TA^T]+E[Ae_{k-1}w_{k-1}^T]+E[w_{k-1}e_{k-1}^TA^T]+E[w_{k-1}w_{k-1}^T]
\end{aligned}
\]</span> è¿™é‡Œï¼Œç”±äº<span class="math inline">\(e_{k-1}\)</span>å’Œ<span class="math inline">\(w_{k-1}\)</span>æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼ˆ<span class="math inline">\(e_{k-1}\)</span>ä¸<span class="math inline">\(w_{k-1}\)</span>æ— å…³è€Œä¸<span class="math inline">\(w_{k-2}\)</span>æœ‰å…³ï¼‰ï¼Œæ‰€ä»¥ç›¸ä¹˜çš„æœŸæœ›ç­‰äºæœŸæœ›çš„ç›¸ä¹˜ï¼Œéƒ½ç­‰äº0ï¼Œä¸Šé¢å¼å­ä¸­é—´ä¸¤é¡¹ç­‰äº0ï¼Œå¯ä»¥å†™ä¸ºï¼š <span class="math display">\[
\begin{aligned}
P_k^- &amp;=E[e_k^--{e_k^-}^T]\\
    &amp;= E[(Ae_{k-1}+w_{k-1})((Ae_{k-1})^T+(w_{k-1})^T)]\\
    &amp;= E[Ae_{k-1}e_{k-1}^TA^T]+E[Ae_{k-1}w_{k-1}^T]+E[w_{k-1}e_{k-1}^TA^T]+E[w_{k-1}w_{k-1}^T]\\
    &amp;= AE[e_{k-1}e_{k-1}^T]+E[w_{k-1}w_{k-1}^T]\\
    &amp;= AP_{k-1}A^T+Q
\end{aligned}
\]</span> è‡³æ­¤ï¼Œå°±å¯ä»¥ç”¨å¡å°”æ›¼æ»¤æ³¢å™¨æ¥ä¼°è®¡çŠ¶æ€å˜é‡çš„å€¼äº†ã€‚è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼š</p>
<blockquote>
<p><strong>é¢„æµ‹ï¼š</strong><br />
â€ƒè®¡ç®—å…ˆéªŒï¼š<span class="math display">\[\hat{X}_k^-=A\hat{X}_{k-1}+Bu_{k-1} \tag{1}\]</span><br />
â€ƒå…ˆéªŒè¯¯å·®åæ–¹å·®ï¼š<span class="math display">\[P_k^-=AP_{k-1}A^T+Q \tag{2}\]</span></p>
</blockquote>
<blockquote>
<p><strong>æ ¡æ­£ï¼š</strong><br />
â€ƒå¡å°”æ›¼å¢ç›Šï¼š <span class="math display">\[
K_k=\frac{P_k^-H^T}{HP_k^-H^T+R} \tag{3}
\]</span> â€ƒåéªŒä¼°è®¡ï¼š <span class="math display">\[
\hat{X}_k=\hat{X}_{k}^-+K_k(Z_k-H\hat{X}_k^-) \tag{4}
\]</span></p>
</blockquote>
<p>ç”±äºåœ¨é¢„æµ‹ä¸­ç”¨äº†ä¸Šä¸€æ¬¡çš„è¯¯å·®åæ–¹å·®ï¼Œæ‰€ä»¥è¦æ›´æ–°è¿™ä¸ªå‚æ•°ï¼Œåœ¨ä¸Šä¸€éƒ¨åˆ†æˆ‘ä»¬å¾—å‡ºäº†ï¼š <span class="math display">\[
P_k=P_k^--K_kHP_k^--P_k^-H^TK_k^T+K_kHP_k^-H^TK_k^T+K_kRK_k^T
\]</span> å°†ç®—å‡ºçš„<span class="math inline">\(K_k\)</span>ä»£å…¥å¾—ï¼š <span class="math display">\[
P_k=P_k^--K_kHP_k^-=(I-K_kH)P_k^- \tag{5}
\]</span> ä¸Šé¢å…¬å¼(1) -- (5)å°±æ˜¯å¡å°”æ›¼æ»¤æ³¢å™¨æœ€é‡è¦çš„5ä¸ªå…¬å¼äº†ï¼Œåœ¨æœ€å¼€å§‹çš„æ—¶å€™æˆ‘ä»¬è¦åˆå§‹åŒ–<span class="math inline">\(\hat{X}_0\)</span> å’Œ <span class="math inline">\(P_{0}\)</span>ã€‚</p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>ã€ML-2020/21ã€‘Generative Adversarial Network (GAN) --- Part-2 Conditional GAN</title>
    <url>/posts/19.html</url>
    <content><![CDATA[<h1 id="å†™åœ¨å‰é¢çš„è¯´æ˜">å†™åœ¨å‰é¢çš„è¯´æ˜</h1>
<p>è¿™ä¸ªç³»åˆ—ã€ML-2020/21ã€‘å¤§éƒ¨åˆ†æ˜¯è¯¾ä¸Šå†…å®¹çš„ç®€å•å¤è¿°ï¼Œä¹‹å‰ä¸Šè¿‡ä½†å› ä¸ºç¬”è®°å†™å¾—å¾ˆä¹±å°±å¿˜äº†å¾ˆå¤šï¼Œæ‰€ä»¥é‡æ¥ä¸€éã€‚ä¸å…¶çœ‹æˆ‘è¿™ç¯‡ï¼Œä¸å¦‚ç›´æ¥å»çœ‹è§†é¢‘ï¼Œè®²å¾—è¿˜æ›´ç”ŸåŠ¨ã€‚è§†é¢‘ç³»åˆ—é“¾æ¥<span class="math inline">\(\rightarrow\)</span><a href="https://www.youtube.com/watch?v=OP5HcXJg2Aw">è¿™é‡Œ</a>ã€‚ <span id="more"></span></p>
<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>æ ¹æ®ä¸Šä¸€ç¯‡ã€åŸºæœ¬ä»‹ç»ã€‘çš„å†…å®¹å¯çŸ¥ï¼Œç»™GANè¾“å…¥æ˜¯ä¸€ä¸ªå‘é‡ï¼Œä½†è¿™åœ¨å®é™…ä¸­å¾ˆä¸å®ç”¨ï¼Œæˆ‘ä»¬æ›´ä¹ æƒ¯ç”¨çš„æ˜¯è¾“å…¥å¸¸è§çš„ä¿¡æ¯æ¯”å¦‚è¯­è¨€æ–‡å­—ï¼Œè¿™å°±æ˜¯Conditional GAN æ‰€ç ”ç©¶çš„ä¸œè¥¿ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¾“å…¥â€˜The Dog is runningâ€™ï¼Œæˆ‘ä»¬å°±å¸Œæœ›ç”Ÿæˆå¦‚ä¸‹å›¾ç‰‡ï¼š<img src="/images/243.jpg" /> è¿™å°±æ˜¯è¿™ç¯‡è¦è®²çš„ä¸œè¥¿ã€‚</p>
<h1 id="text-to-image">Text-to-Image</h1>
<h2 id="traditional-supervised-approach">Traditional Supervised Approach</h2>
<p>é¦–å…ˆï¼Œè¿™å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„ç›‘ç£å­¦ä¹ ï¼Œæˆ‘ä»¬è¦çš„é¦–å…ˆæ˜¯ä¸€å¤§å †æ•°æ®é›†ï¼ˆå›¾ç‰‡ï¼‰ï¼Œæ¯å¼ å›¾ç‰‡éƒ½éœ€è¦ä¸€ä¸ªå¯¹åº”çš„æ–‡å­—è¿›è¡Œæè¿°ã€‚ç®€å•æ¥è¯´æµç¨‹å¦‚ä¸‹ï¼š<img src="/images/244.png" /> ä½†ç”¨è¿™ç§æ–¹æ³•ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ–‡å­—æè¿°ä¸ºâ€œcarâ€ï¼Œå¯èƒ½åŒæ—¶å¯¹åº”åˆ°ä»¥ä¸‹ä¸¤å¼ å›¾ç‰‡ï¼Œå®ƒä»¬éƒ½æ˜¯æ±½è½¦åªæ˜¯æ–¹å‘ä¸åŒï¼š<img src="/images/245.png" /> æˆ‘ä»¬ç”¨ä¸Šé¢çš„æ–¹æ³•è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹è¾“å‡ºæ—¢è¦åƒå·¦è¾¹ä¹Ÿè¦åƒå³è¾¹ï¼Œæœ€åå°±ä¼šäº§ç”Ÿè¿™ç§ç°è±¡ï¼šè¾“å…¥â€œcarâ€ï¼Œè¾“å‡ºçš„å›¾ç‰‡æ˜¯ä¸Šé¢ä¸¤ç§å›¾ç‰‡çš„å¹³å‡ï¼Œè¿™å¯èƒ½ä¼šæ˜¯ä¸€å¼ æ²¡æœ‰æ„ä¹‰çš„å›¾ã€‚ æ‰€ä»¥è¿™ç§ä¼ ç»Ÿçš„æ–¹æ³•ä¸è¡Œã€‚</p>
<h2 id="conditional-gan">Conditional GAN</h2>
<p>ç„¶åç°åœ¨å°±è¦å¼•è¿›ä»Šå¤©çš„ä¸»è§’äº†ã€‚ å›é¡¾ä¸€ä¸‹ï¼Œå¦‚æœæŒ‰ç…§ä¹‹å‰ä»‹ç»çš„æœ€åŸå§‹çš„GANï¼Œè¿™ä¸ªè®­ç»ƒæµç¨‹å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p>
<blockquote>
<ol type="1">
<li>é¦–å…ˆè¾“å…¥ä¸€ç»„éšæœºå‘é‡ç»™Generationï¼Œäº§ç”Ÿæ•°æ®ï¼ˆå›¾ç‰‡ï¼‰ï¼›<br />
</li>
<li>å°†äº§ç”Ÿçš„å›¾ç‰‡è¾“å…¥Discriminatorï¼Œå€ŸåŠ©çœŸå®å›¾ç‰‡ï¼Œåˆ©ç”¨å®šä¹‰çš„functionæ›´æ–°Discriminatorçš„å‚æ•°;<br />
</li>
<li>éšæœºå†å–ä¸€ç»„å™ªéŸ³æ•°æ®ï¼Œåˆ©ç”¨ä¸Šé¢æ›´æ–°åçš„Discriminatoræ›´æ–°Generationçš„å‚æ•°ï¼›<br />
</li>
<li>é‡å¤ä¸Šé¢ä¸¤ä¸ªæ­¥éª¤ã€‚</li>
</ol>
</blockquote>
<p>ç„¶è€Œåœ¨Conditional-GANä¸­ï¼Œæˆ‘ä»¬è¾“å…¥ç»™Generationçš„ä¸å†æ˜¯å•ä¸€çš„å‘é‡ï¼ŒåŒæ—¶è¿˜æœ‰ï¼ˆConditionï¼‰æ–‡å­—ä¿¡æ¯æ¯”å¦‚æ‰€â€œcarâ€ï¼Œå€ŸåŠ©è¿™ä¸¤ä¸ªä¿¡æ¯äº§ç”Ÿæ–°çš„æ•°æ®ï¼ˆå›¾ç‰‡ï¼‰<span class="math inline">\(x\)</span>ï¼›<br />
å¯¹äºDiscriminatorï¼Œå…¶è¾“å…¥é™¤äº†ä¹‹å‰äº§ç”Ÿçš„å›¾ç‰‡<span class="math inline">\(x\)</span>ï¼Œè¿˜æœ‰(Condition)æ–‡å­—ä¿¡æ¯<span class="math inline">\(c\)</span>ï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªæ ‡é‡ï¼Œè¿™ä¸ªæ ‡é‡æè¿°ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(x\)</span>æ˜¯å¦æ˜¯ä¸€å¼ çœŸå®çš„å›¾ç‰‡ï¼ˆè¿™ç‚¹è·Ÿæœ€åŸå§‹çš„GANä¸€æ ·ï¼‰ï¼›<br />
</li>
<li><span class="math inline">\(c\)</span>å’Œ<span class="math inline">\(x\)</span>æ˜¯å¦ç¬¦åˆã€‚</li>
</ol>
</blockquote>
<p>è¿™ä¸ªæ ‡é‡çš„è¯„åˆ†æ ‡å‡†å¦‚ä¸‹ï¼š</p>
<blockquote>
<ol type="1">
<li>é«˜åˆ†ï¼ˆ1åˆ†ï¼‰ï¼š<br />
â€ƒ a). æ­£ç¡®çš„æ–‡å­—ä¸çœŸå®çš„å›¾ç‰‡ã€‚<br />
</li>
<li>ä½åˆ†ï¼ˆ0åˆ†ï¼‰ï¼š<br />
â€ƒ a). æ­£ç¡®çš„æ–‡å­—ä¸ç”Ÿæˆçš„å›¾ç‰‡ï¼›<br />
â€ƒ b). é”™è¯¯çš„æ–‡å­—ä¸çœŸå®çš„å›¾ç‰‡ã€‚</li>
</ol>
</blockquote>
<p>åŸºæœ¬çš„è®­ç»ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p><strong>D-Learning:</strong><br />
â€ƒ 1. ä»databaseä¸­å–<span class="math inline">\(m\)</span>ä¸ªæ ·æœ¬ï¼š<span class="math inline">\(\left\{ (c^1,x^1),(c^2,x^2),...,(c^m,x^m)\right\}\)</span> (è¿™ä¸ªå¯¹äºDiscriminatoræ¥è¯´æ˜¯è¦ç»™é«˜åˆ†çš„)ï¼›<br />
â€ƒ 2. éšæœºå–æ ·<span class="math inline">\(m\)</span>ä¸ªå™ªéŸ³æ ·æœ¬ï¼š{<span class="math inline">\(z^1,...,z^m\)</span>}ï¼Œè¿™<span class="math inline">\(m\)</span>ä¸ªæ ·æœ¬åŠ ä¸Šä¸Šé¢çš„æ–‡å­—ä¿¡æ¯<span class="math inline">\(c\)</span>ç»„æˆæ–°çš„æ•°æ®<span class="math inline">\((c^i,z^i)\)</span>ï¼›<br />
â€ƒ 3. é€šè¿‡Generationè·å–ç”Ÿæˆæ•°æ®ï¼š{<span class="math inline">\(\widetilde{x}^1,...,\widetilde{x}^m\)</span>}ï¼Œ<span class="math inline">\(\widetilde{x}^i=G(c^i,z^i)\)</span><br />
â€ƒ 4. ä»databaseä¸­å–æ ·æ–°çš„<span class="math inline">\(m\)</span>ä¸ªæ•°æ®{<span class="math inline">\(\hat{x}^1,...,\hat{x}^m\)</span>}<br />
â€ƒ 5. æ›´æ–°Discriminatorçš„å‚æ•°<span class="math inline">\(\theta_d\)</span>ï¼Œä»¥æœ€å¤§åŒ–ä¸‹é¢è¿™ä¸ªæ–¹ç¨‹ï¼š<span class="math display">\[\widetilde{V}=\frac{1}{m}\sum_{i=1}^m\log D(c^i,x^i)+\frac{1}{m}\sum_{i=1}^m\log(1 - D(c^i,\widetilde{x}^i))-\frac{1}{m}\sum_{i=1}^m\log(1 - D(c^i,\hat{x}^i))\]</span> <span class="math display">\[\theta_d \leftarrow \theta_d +\eta \nabla \widetilde{V}(\theta_d)\]</span></p>
</blockquote>
<blockquote>
<p><strong>G-Leaarning:</strong><br />
â€ƒ 1. å–æ ·<span class="math inline">\(m\)</span>ä¸ªå™ªå£°æ ·æœ¬ï¼š{<span class="math inline">\(z^1,...,z^m\)</span>}ï¼›<br />
â€ƒ 2. ä»databaseä¸­å–<span class="math inline">\(m\)</span>ä¸ªconditionï¼š{<span class="math inline">\(c^1,...,c^m\)</span>}ï¼›<br />
â€ƒ 3. æ›´æ–°Generatorçš„å‚æ•°<span class="math inline">\(\theta_g\)</span>ï¼Œä»¥æœ€å¤§åŒ–ä¸‹é¢è¿™ä¸ªæ–¹ç¨‹ï¼š<span class="math display">\[\widetilde{V}=\frac{1}{m}\sum_{i=1}^m\log(D(G()c^i,z^i))\]</span> <span class="math display">\[\theta_g \leftarrow \theta_g +\eta \nabla \widetilde{V}(\theta_g)\]</span></p>
</blockquote>
<h2 id="discriminator-æ¶æ„">Discriminator æ¶æ„</h2>
<p>å¸¸è§çš„Discriminatoræ¶æ„å¦‚ä¸‹ï¼š <img src="/images/246.png" /> åŒæ—¶ï¼Œåˆæœ‰äººæå‡ºå¦ä¸€ç§æ¶æ„ï¼š <img src="/images/247.png" /></p>
<h2 id="æ›´è¿›ä¸€æ­¥-stack-gan">æ›´è¿›ä¸€æ­¥ â€”â€” Stack GAN</h2>
<p>Stack-GANæŠ€æœ¯èƒ½è®©æ¨¡å‹çš„æ€§èƒ½æ›´åŠ ä¼˜ç§€ï¼Œå…¶åŸºæœ¬çš„æƒ³æ³•æ˜¯ï¼šå…ˆäº§ç”Ÿå°å¼ çš„å›¾ï¼Œå†æ ¹æ®å°å¼ çš„å›¾äº§ç”Ÿå¤§å¼ çš„å›¾ã€‚<br />
æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬è¦äº§ç”Ÿ<span class="math inline">\(256\times 256\)</span>çš„å›¾ï¼Œä½†å¦‚æœç›´æ¥ç”Ÿæˆè¿™ä¹ˆå¤§çš„å›¾ï¼Œå›¾å¾ˆå¯èƒ½ä¼šåï¼Œæ‰€ä»¥Stack-GANåœ¨trainçš„æ—¶å€™æŠŠæ•´ä¸ªè®­ç»ƒè¿‡ç¨‹æ‹†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå¤§æ¦‚æµç¨‹æ˜¯ï¼š</p>
<blockquote>
<ol type="1">
<li>è¾“å…¥ä¸€ä¸ªæ–‡å­—ä»¥åŠä¸€æ®µå™ªå£°ï¼Œæ‹¼æ¥ï¼Œé€šè¿‡ç¬¬ä¸€ä¸ªGeneratoräº§ç”Ÿä¸€ä¸ª<span class="math inline">\(64\times 64\)</span>çš„å›¾ï¼›<br />
</li>
<li>è¿™ä¸ªå›¾ç‰‡è¿›å…¥ç¬¬ä¸€ä¸ªDiscriminatorï¼Œåˆ¤æ–­å…¶å’Œæ–‡å­—æ˜¯å¦matchï¼›<br />
</li>
<li>ç„¶åç¬¬äºŒéƒ¨åˆ†ï¼Œè¾“å…¥ä¸€ä¸ªæ–‡å­—ä¿¡æ¯ä»¥åŠ<span class="math inline">\(64\times 64\)</span>çš„å›¾ç‰‡ï¼Œäº§ç”Ÿä¸€å¼ <span class="math inline">\(256\times 256\)</span>çš„å›¾ç‰‡ï¼›<br />
</li>
<li>æœ€åç¬¬äºŒä¸ªDiscriminatoråˆ¤æ–­è¿™ä¸ª<span class="math inline">\(256\times 256\)</span>çš„å›¾ç‰‡æ˜¯ä¸æ˜¯è¶³å¤ŸçœŸå®ã€‚</li>
</ol>
</blockquote>
<p><em>å…·ä½“å¯å‚çœ‹paperï¼šStackGAN:Text to Photo-realistic Image Synthesis with Stack Generative Adversarial Network. ã€ICCV, 2017ã€‘</em></p>
<h1 id="image-to-image">Image-to-Image</h1>
<p>è¿™ç§å³æ˜¯ï¼šè¾“å…¥å›¾ç‰‡ï¼Œè¾“å‡ºä¹Ÿæ˜¯å›¾ç‰‡ã€‚æ¯”å¦‚è¯´é»‘ç™½å›¾ç‰‡å˜å½©è‰²ï¼Œç™½å¤©å˜é»‘å¤œã€‚</p>
<h2 id="traditional-supervised-approach-1">Traditional Supervised Approach</h2>
<p>ç†è®ºä¸Šä¹Ÿæ˜¯å¯ä»¥ç”¨ä¼ ç»Ÿçš„ç›‘ç£å­¦ä¹ å®ç°ï¼Œä½†ä¹Ÿä¼šé‡åˆ°è·Ÿä¸Šé¢ç±»ä¼¼çš„é—®é¢˜ï¼Œå¯¼è‡´æœ€ç»ˆäº§ç”Ÿå‡ºæ¥çš„å›¾ç‰‡ç‰¹åˆ«æ¨¡ç³Šã€‚</p>
<h2 id="conditional-gan-1">Conditional GAN</h2>
<p>ç”¨GANçš„è¯ï¼Œä»¥ä¸‹å›¾ä¸ºä¾‹<img src="/images/249.png" /> ä¹Ÿå°±æ˜¯è¾“å…¥å·¦è¾¹ç®€å•çš„å›¾ç‰‡ï¼Œå¸Œæœ›äº§ç”Ÿå³è¾¹çœŸå®å¤æ‚çš„å›¾ã€‚<br />
å…¶åŸºæœ¬æµç¨‹å°±æ˜¯ï¼šå°†ç®€å•çš„å›¾ç‰‡ä¸å™ªéŸ³ä¸€èµ·è¾“å…¥Generatorï¼Œäº§ç”Ÿä¸€å¼ å›¾ç‰‡ï¼›æ¥ç€å°†è¿™å¼ å›¾ç‰‡ä¸åŸæ¥ç®€å•çš„å›¾ç‰‡ä¸€èµ·è¾“å…¥Discriminatorï¼Œäº§ç”Ÿä¸€ä¸ªæ ‡é‡ã€‚è¿™ä¸ªæ ‡é‡å¯å‚çœ‹ä¸Šé¢çš„è§£é‡Šã€‚<br />
å•å•è¿™ä¹ˆåšçš„è¯ï¼Œäº§ç”Ÿçš„å›¾åƒè™½ç„¶æ¸…æ™°ï¼Œæ­£ç¡®ç‡ä¹Ÿä¸é”™ï¼Œä½†å›¾ç‰‡é‡Œå¯èƒ½ä¼šäº§ç”Ÿä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„éƒ¨åˆ†ã€‚ä¸ºäº†æ¶ˆé™¤è¿™ç§ç°è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åŠ é¢å¤–çš„çº¦æŸï¼Œæ¯”å¦‚ï¼šåœ¨Generatorçš„è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬å°†äº§ç”Ÿçš„å›¾ç‰‡ä¸çœŸå®å›¾ç‰‡ä½œå¯¹æ¯”ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›Generatoräº§ç”Ÿçš„å›¾ç‰‡ï¼Œæ—¢èƒ½éª—è¿‡Discriminatorï¼Œåˆè·Ÿç›®æ ‡å›¾ç‰‡ç›¸å·®ä¸è¦å¤ªå¤§ï¼Œå¦‚æ­¤ä»¥æ¥ï¼Œæ¨¡å‹æ€§èƒ½ä¼šå¥½å¾ˆå¤šã€‚<br />
</p>
<h2 id="patch-gan">Patch GAN</h2>
<p>å¦‚æœå›¾ç‰‡å¾ˆå¤§å¼ ï¼Œé‚£ä¹ˆDiscriminatorå°±ä¸èƒ½ç›´æ¥æ¥å—æ•´å¼ Imageï¼Œå› ä¸ºå‚æ•°ä¼šå¾ˆå¤šï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆã€‚æ‰€ä»¥æªæ–½æ˜¯åˆ†åŒºåŸŸè¾“å…¥ï¼Œæ¯æ¬¡æ£€æŸ¥ä¸€å°å—ï¼Œçœ‹è¿™ä¸€å°å—æ˜¯å¥½çš„è¿˜æ˜¯åçš„ï¼Œè‡³äºåŒºåŸŸè®¾ç½®å¤šå¤§ï¼Œè¿™ä¸ªå°±è‡ªå·±è°ƒäº†ã€‚</p>
]]></content>
      <categories>
        <category>ML-2020/21</category>
      </categories>
  </entry>
  <entry>
    <title>ã€ML-2020/21ã€‘Generative Adversarial Network (GAN) --- Part-1 åŸºæœ¬ä»‹ç»</title>
    <url>/posts/18.html</url>
    <content><![CDATA[<h1 id="å†™åœ¨å‰é¢çš„è¯´æ˜">å†™åœ¨å‰é¢çš„è¯´æ˜</h1>
<p>è¿™ä¸ªç³»åˆ—ã€ML-2020/21ã€‘å¤§éƒ¨åˆ†æ˜¯è¯¾ä¸Šå†…å®¹çš„ç®€å•å¤è¿°ï¼Œä¹‹å‰ä¸Šè¿‡ä½†å› ä¸ºç¬”è®°å†™å¾—å¾ˆä¹±å°±å¿˜äº†å¾ˆå¤šï¼Œæ‰€ä»¥é‡æ¥ä¸€éã€‚ä¸å…¶çœ‹æˆ‘è¿™ç¯‡ï¼Œä¸å¦‚ç›´æ¥å»çœ‹è§†é¢‘ï¼Œè®²å¾—è¿˜æ›´ç”ŸåŠ¨ã€‚è§†é¢‘ç³»åˆ—é“¾æ¥<span class="math inline">\(\rightarrow\)</span><a href="https://www.youtube.com/watch?v=OP5HcXJg2Aw">è¿™é‡Œ</a>ã€‚ <span id="more"></span> # åŸºæœ¬æ¦‚å¿µ Generative Adversarial Network (GAN) ä¸­æ–‡åæ˜¯ã€ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œã€‘ï¼Œç”¨è¿™ä¸ªç½‘ç»œçš„ç›®çš„æ˜¯ä¸ºäº†è®©æœºå™¨ç”Ÿæˆä¸œè¥¿ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼Œæ–‡ç« ç­‰ï¼‰ï¼Œå…¶åŸºæœ¬ç½‘ç»œç»“æ„åŒ…æ‹¬ä¸¤å¤§éƒ¨åˆ†ï¼š</p>
<blockquote>
<ol type="1">
<li>Generationï¼šç”Ÿæˆå™¨<br />
</li>
<li>Discriminatorï¼šé‰´åˆ«å™¨</li>
</ol>
</blockquote>
<h2 id="generation">Generation</h2>
<p>åœ¨generationè¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯è®­ç»ƒä¸€ä¸ªç”Ÿæˆå™¨ï¼Œæ¯”å¦‚åœ¨å½±åƒç”Ÿæˆä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å¾—åˆ°ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œéšä¾¿è¾“å…¥ä¸€ä¸ªå‘é‡ï¼Œé€šè¿‡è¿™ä¸ªç”Ÿæˆå™¨èƒ½å¾—åˆ°ä¸€å¼ å¯¹åº”å›¾ç‰‡ï¼Œä¸åŒçš„å‘é‡å¯¹åº”ä¸åŒçš„å›¾ç‰‡ï¼›åœ¨æ–‡å­—ç”Ÿæˆä¸­ä¹Ÿæ˜¯ä¸€æ ·ï¼Œè¾“å…¥ä¸€ä¸ªå‘é‡èƒ½å¾—åˆ°å¯¹åº”çš„è¯­å¥ã€‚ åŸºæœ¬å½¢å¼å°±åƒä¸‹å›¾ä¸€æ ·ï¼š <img src="https://img-blog.csdnimg.cn/d57961ffdf8e42ea8734ca364681a041.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¸€ä¸ªGenerationå°±æ˜¯ä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œæ›´ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªæ–¹ç¨‹ï¼Œè¾“å…¥ä¸€ä¸ªå‘é‡ï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ªæ›´é«˜ç»´åº¦çš„å‘é‡ï¼Œå°†å…¶è¿›è¡Œé€šé“ï¼Œå›¾ç‰‡å°ºå¯¸è¿›è¡Œé‡ç»„åå°±æ˜¯ä¸€å¼ æ–°çš„å›¾ç‰‡ã€‚ ä»¥å›¾åƒç”Ÿæˆä¸ºä¾‹ï¼Œé€šå¸¸è¾“å…¥å‘é‡çš„æ¯ä¸€ä¸ªdimensionä¼šå¯¹åº”åˆ°å›¾åƒçš„æŸä¸€ä¸ªç‰¹å¾ï¼Œæ¯”å¦‚å¤´å‘é•¿åº¦ï¼Œçœ¼é•œå¤§å°ï¼Œé¢œè‰²ç­‰ã€‚</p>
<h2 id="discriminator">Discriminator</h2>
<p>Discriminatorä¹Ÿæ˜¯ä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œæˆ–è€…è¯´æ–¹ç¨‹ï¼Œè¾“å…¥ä¸€å¼ å›¾ç‰‡ï¼ˆæˆ–è€…ä¸€ä¸ªå¥å­ï¼‰ï¼Œè¾“å‡ºä¸€ä¸ªæ•°å€¼ï¼Œè¿™ä¸ªæ•°å€¼è¶Šå¤§ï¼Œåˆ™è¯´æ˜è¿™ä¸ªè¾“å…¥çš„çœŸå®æ€§è¶Šé«˜ã€‚æ¯”å¦‚è¯´ä¸‹é¢è¿™å¼ å›¾ç‰‡æ‰€ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/1680feeda4444fc1b29eb7b98e4c9e1f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="generation-vs.-discriminator">Generation vs. Discriminator</h2>
<p>åœ¨GANä¸­è¿™ä¸¤ä¸ªç¥ç»ç½‘ç»œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§å¯¹æŠ—çš„å…³ç³»ï¼Œæ¯”å¦‚è¯´åœ¨ç¬¬ä¸€ä¸ªGenerationä¸­ç”Ÿæˆäº†ä¸€ç»„å›¾åƒï¼Œç„¶åDiscriminatoræ ¹æ®æŸä¸€ä¸ªåˆ¤æ–­æ ‡å‡†æ¯”å¦‚è¯´å›¾åƒæ˜¯ä¸æ˜¯å½©è‰²çš„æ¥åˆ¤æ–­è¿™ç»„å›¾åƒæ˜¯å¦è¶³å¤ŸçœŸå®ï¼›ç„¶åç¬¬äºŒä¸ªGenerationæ ¹æ®ç¬¬ä¸€ä¸ªDiscriminatorçš„ç»“æœäº§ç”Ÿäº†ä¸€ç»„æ–°çš„å½©è‰²å›¾ç‰‡ï¼Œç„¶è€Œç¬¬äºŒä¸ªDiscriminatoråˆæ ¹æ®å¦ä¸€ä¸ªåˆ¤æ–­æ ‡å‡†æ¯”å¦‚æ˜¯å¦æœ‰çœ¼ç›æ¥åˆ¤æ–­è¿™ç»„å›¾ç‰‡æ˜¯å¦è¶³å¤ŸçœŸå®ï¼›å†æ¥ç€ç¬¬ä¸‰ä¸ªGenerationåˆæ ¹æ®ç¬¬äºŒä¸ªDiscriminatorçš„ç»“æœâ€¦â€¦è¿™æ ·ä¸€ç›´â€œå¯¹æŠ—â€ä¸‹å»ï¼Œç›´åˆ°ç”Ÿæˆçš„å›¾ç‰‡å¯ä»¥éª—è¿‡Discriminatorçš„æ—¶å€™ï¼Œå°±å®Œæˆäº†ã€‚</p>
<h2 id="algorithm">Algorithm</h2>
<p>æ ¹æ®ä¸Šé¢å®ƒä»¬ä¸¤è€…çš„å…³ç³»å°±å¯ä»¥å¤§è‡´å†™å‡ºè¿™ä¸ªç®—æ³•çš„æµç¨‹äº†ï¼š</p>
<blockquote>
<ol type="1">
<li>åˆå§‹åŒ–generatorå’Œdiscriminator</li>
<li>è¿›å…¥å¾ªç¯ï¼Œæ¯ä¸ªå¾ªç¯è¿›è¡Œå¦‚ä¸‹æ­¥éª¤ï¼š â€ƒ <strong>step-1</strong>ï¼šå›ºå®šä½generator Gï¼Œæ›´æ–°discriminator Dï¼ˆå†è¯´å…·ä½“ä¸€ç‚¹çš„è¯å°±æ˜¯ï¼Œç”¨å½“å‰çš„Gäº§ç”Ÿä¸€ç»„å›¾ç‰‡ï¼Œåœ¨Dä¸­ä¸çœŸå®çš„å›¾ç‰‡ï¼ˆå·²æœ‰çš„databaseï¼‰ä½œå¯¹æ¯”ï¼Œè®­ç»ƒDï¼Œä½¿çœŸå®å›¾ç‰‡é«˜åˆ†ï¼Œç”Ÿæˆå›¾ä½åˆ†ã€‚ï¼‰ â€ƒ <strong>step-2</strong>ï¼šå›ºå®šä½Dï¼Œæ›´æ–°Gï¼ˆå…·ä½“å°±æ˜¯ï¼ŒæŠŠä¸€ä¸ªå‘é‡è¾“å…¥è¿›Gï¼Œäº§ç”Ÿä¸€å¼ å›¾ç‰‡ï¼Œæ ¹æ®å½“å‰çš„Dè¿›è¡Œè¯„åˆ†ï¼Œè®­ç»ƒGï¼Œä½¿å¾—åˆ°æ¯”è¾ƒé«˜è¯„åˆ†ï¼‰ ï¼ˆä¸€èˆ¬æ¥è¯´æ˜¯æŠŠGå’ŒDä¸€èµ·å½“ä½œæ˜¯ä¸€ä¸ªå·¨å¤§çš„ç¥ç»ç½‘ç»œï¼Œå³è¾“å…¥å‘é‡å¾—åˆ°ä¸€ä¸ªæ•°å€¼ï¼‰</li>
</ol>
</blockquote>
<p>è¯´å¾—å†å…·ä½“ä¸€ç‚¹å°±æ˜¯ï¼š</p>
<blockquote>
<ol type="1">
<li><p>åˆå§‹åŒ–<span class="math inline">\(D\)</span>å’Œ<span class="math inline">\(G\)</span>çš„å‚æ•°åˆ†åˆ«ä¸º<span class="math inline">\(\theta_d\)</span>å’Œ<span class="math inline">\(\theta_g\)</span>ï¼›<br />
</p></li>
<li><p><span class="math inline">\(D\)</span>çš„å­¦ä¹ è¿‡ç¨‹ï¼š<br />
â€ƒ( a ). ä»æ•°æ®é›†databaseä¸­é€‰å–<span class="math inline">\(m\)</span>ä¸ªæ ·æœ¬ {<span class="math inline">\(x^1,x^2,...,x^m\)</span>}ï¼›<br />
â€ƒ( b ). ä»ä¸€ä¸ªåˆ†å¸ƒï¼ˆé«˜æ–¯æˆ–å‡åŒ€æˆ–å…¶å®ƒï¼‰ä¸­é‡‡å–<span class="math inline">\(m\)</span>ä¸ªå™ªéŸ³æ ·æœ¬ {<span class="math inline">\(z^1,z^2,...,z^m\)</span>}ï¼Œå…¶ä¸­å™ªéŸ³æ ·æœ¬ç»´åº¦è‡ªå·±å®šï¼Œå±äºè¶…å‚æ•°ï¼›<br />
â€ƒ( c ). åˆ©ç”¨<span class="math inline">\(G\)</span>è·å–ç”Ÿæˆæ•°æ® {<span class="math inline">\(\widetilde{x}^1,\widetilde{x}^2,...,\widetilde{x}^m\)</span>}ï¼Œ<span class="math inline">\(\widetilde{x}^i = G(z^i)\)</span>ï¼›<br />
â€ƒ( d ). æ›´æ–°<span class="math inline">\(D\)</span>çš„å‚æ•°<span class="math inline">\(\theta_d\)</span>ï¼Œä»¥ä¾¿æœ€å¤§åŒ–<span class="math inline">\(\widetilde{V}\)</span>ï¼Œå…¶ä¸­ï¼š<span class="math display">\[\widetilde{V}=\frac{1}{m}\sum_{i=1}^m\log D(x^i)+\frac{1}{m}\sum_{i=1}^m\log(1-D(\widetilde{x}^i))\]</span> (ç®€å•è¯´ä¸€ä¸‹è¿™ä¸ª<span class="math inline">\(\widetilde{V}\)</span>ï¼Œç¬¬ä¸€é¡¹å°±æ˜¯è®©çœŸå®å›¾ç‰‡çš„å¾—åˆ†è¶Šå¤§è¶Šå¥½ï¼Œç¬¬äºŒé¡¹å°±æ˜¯è®©ç”Ÿæˆçš„å›¾ç‰‡å¾—åˆ†è¶Šå°è¶Šå¥½ï¼Œå…¶ä¸­<span class="math inline">\(D(.)\)</span>ä¸€èˆ¬æ˜¯ç»è¿‡sigmoidçš„ä»‹äº0~1çš„æ•°)<span class="math display">\[\theta_d \leftarrow \theta_d + \eta \nabla \widetilde{V}(\theta_d)\]</span>(è¿™é‡Œåœ¨è¯´ä¸€å¥ï¼Œä¸€èˆ¬è¿™é‡Œæ›´æ–°ä¸ä¼šæ˜¯åªupdateä¸€æ¬¡çš„ï¼Œè‡³äºæ›´æ–°å‡ æ¬¡ä¹Ÿå±äºè¶…å‚æ•°ï¼Œè¦è‡ªå·±è°ƒçš„)<br />
</p></li>
<li><p><span class="math inline">\(G\)</span>çš„å­¦ä¹ è¿‡ç¨‹ï¼š<br />
â€ƒ( a ). å¦å¤–ä»ä¸€ä¸ªåˆ†å¸ƒï¼ˆé«˜æ–¯æˆ–å‡åŒ€æˆ–å…¶å®ƒï¼‰ä¸­é‡‡å–<span class="math inline">\(m\)</span>ä¸ªå™ªéŸ³æ ·æœ¬ {<span class="math inline">\(z^1,z^2,...,z^m\)</span>}ï¼›<br />
â€ƒ( b ). æ›´æ–°å‚æ•°<span class="math inline">\(\theta_g\)</span>ä»¥æœ€å¤§åŒ–<span class="math inline">\(\widetilde{V}\)</span>ï¼Œå…¶ä¸­<span class="math display">\[\widetilde{V}=\frac{1}{m}\sum_{i=1}^m\log(D(G(z^i)))\]</span><span class="math display">\[\theta_g\leftarrow\theta_g+\eta\nabla\widetilde{V}(\theta_g)\]</span></p></li>
<li><p>ä¸Šé¢2ï¼Œ3æ­¥éª¤åå¤æ‰§è¡Œã€‚</p></li>
</ol>
</blockquote>
<h2 id="è¡¥å……">è¡¥å……</h2>
<p>GANå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªStructured Learningçš„æ–¹æ³•ï¼ŒåŸºæœ¬å¯ä»¥çœ‹ä½œä¸‹é¢ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š <img src="https://img-blog.csdnimg.cn/238b184dc150483fbd987a3a3d4dad15.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> Bottom Up æ˜¯æŒ‡ä¸€ä¸ªä¸€ä¸ªéƒ¨ä»¶ç”Ÿæˆçš„åŠæ³•ï¼Œè¿™ç§æ–¹æ³•ä¼šå¤±å»å…¨å±€è§‚ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸çŸ¥é“å„ä¸ªéƒ¨ä»¶ä¹‹é—´çš„è”ç³»ï¼›ä¸‹é¢çš„Top Down æ˜¯ç›´æ¥è§‚å¯Ÿæ•´ä½“ï¼Œç„¶åè¿›è¡Œåˆ¤æ–­ï¼Œgeneratoræ²¡æ³•ç”¨è¿™ç§æ–¹æ³•ã€‚</p>
<blockquote>
<p>é—®é¢˜1ï¼šèƒ½ä¸èƒ½ä¸ç”¨Discriminatorï¼Ÿ</p>
</blockquote>
<p>ä¸¥æ ¼è¯´æ¥æ˜¯å¯ä»¥çš„ï¼Œç”¨Auto-encoderçš„æŠ€æœ¯ï¼Œä½†ç”±äºåŒä¸ªlayerç¥ç»å…ƒä¹‹é—´æ²¡æœ‰è”ç³»ï¼Œä¸ºäº†è®©å®ƒä»¬äº§ç”Ÿè”ç³»ï¼Œå°±å¿…é¡»å¤šåŠ layerï¼Œè¿™æ ·ä¼šæŠŠç¥ç»ç½‘ç»œå¼„å¾—å¾ˆå¤æ‚ï¼Œæ‰€ä»¥åœ¨åŒç§æ•ˆæœä¸‹ï¼ŒGANçš„æŠ€æœ¯ä¼šæ›´å®ç”¨ã€‚</p>
<blockquote>
<p>é—®é¢˜2ï¼šèƒ½ä¸èƒ½ä¸ç”¨Generation, å°±åªç”¨Discriminatoræ¥åšç”Ÿæˆï¼Ÿ</p>
</blockquote>
<p>ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä½†ä¹Ÿå¾ˆéº»çƒ¦ï¼Œè¦ç©·ä¸¾æ‰€æœ‰å¯èƒ½çš„<span class="math inline">\(x\)</span>ï¼Œä½¿<span class="math display">\[\widetilde{x}=arg\max D(x)\]</span>ç„¶åè¿˜è¦è®©Discriminatorå­¦ä¼šå¦‚ä½•åˆ†åˆ«å¥½çš„å’Œåçš„å›¾ç‰‡ï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬çš„databaseé‡Œåªæœ‰å¥½çš„ï¼Œä¸è¿‡è¿™ä¸ªé—®é¢˜æœ‰åŠæ³•è§£å†³ï¼Œå¦‚ä¸‹ï¼š</p>
<blockquote>
<ol type="1">
<li>éšæœºäº§ç”Ÿä¸€äº›åçš„å›¾ç‰‡ï¼Œæ¯”å¦‚éšæœºå™ªéŸ³ï¼›<br />
</li>
<li>ç”¨å¥½çš„å›¾ç‰‡å’Œåçš„å›¾ç‰‡å»è®­ç»ƒ<span class="math inline">\(D\)</span>ï¼›<br />
</li>
<li>ç”¨å½“å‰<span class="math inline">\(D\)</span>äº§ç”Ÿä¸€ç»„æ–°çš„å›¾ç‰‡ï¼Œå……å½“åçš„å›¾ç‰‡ç»§ç»­ä¸å¥½çš„å›¾ç‰‡å»è®­ç»ƒ<span class="math inline">\(D\)</span></li>
</ol>
</blockquote>
<p>æ­¥éª¤2-3å¾ªç¯ã€‚ æ•ˆæœå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/0ac5f9c70c8142c092fa644d0526eb5b.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p>æ‰€ä»¥å®é™…å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œgeneratorå°±æ˜¯ç”¨æ¥è§£<span class="math inline">\(arg\max\)</span>é—®é¢˜çš„ï¼Œä¹Ÿå°±æ˜¯ç”¨generatoräº§ç”Ÿåçš„å›¾ç‰‡ã€‚ <strong>ä¸¤è€…æ¯”è¾ƒ</strong> Generatorï¼š</p>
<blockquote>
<p>ä¼˜ç‚¹ï¼š<br />
â€ƒ 1. å®¹æ˜“ç”Ÿæˆä¸œè¥¿ã€‚</p>
</blockquote>
<blockquote>
<p>ç¼ºç‚¹ï¼š<br />
â€ƒ 1. ä¸å®¹æ˜“è€ƒè™‘éƒ¨ä»¶ï¼ˆcomponentï¼‰ä¹‹é—´çš„å…³ç³»ï¼›<br />
â€ƒ 2. åªæ˜¯æ¨¡ä»¿è¡¨è±¡ã€‚</p>
</blockquote>
<p>Discriminator</p>
<blockquote>
<p>ä¼˜ç‚¹ï¼š<br />
â€ƒ 1. è€ƒè™‘æ•´å¼ å›¾ç‰‡ã€‚</p>
</blockquote>
<blockquote>
<p>ç¼ºç‚¹ï¼š<br />
â€ƒ 1. ä¸å®¹æ˜“ç”Ÿæˆä¸œè¥¿ï¼›<br />
â€ƒ 2. è§£é‚£ä¸ª<span class="math inline">\(arg\max\)</span>é—®é¢˜ä¸å®¹æ˜“ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>ML-2020/21</category>
      </categories>
  </entry>
  <entry>
    <title>æ·±åº¦å­¦ä¹ ä¸­çš„æ­£åˆ™åŒ–</title>
    <url>/posts/17.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>ä¸å…¶å®ƒæœºå™¨å­¦ä¹ æ–¹æ³•ç±»ä¼¼ï¼ŒDNNåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¹Ÿä¼šé‡åˆ°è¿‡æ‹Ÿåˆçš„ç°è±¡ï¼Œå°¤å…¶æ˜¯å½“å‚æ•°æ•°é‡å¤šäºè¾“å…¥æ•°æ®é‡æ—¶ã€‚ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆç°è±¡ï¼Œé™¤äº†å¢åŠ è®­ç»ƒæ ·æœ¬å¤–ï¼Œæœ€å¸¸è§çš„å°±æ˜¯å„ç§æ­£åˆ™åŒ–æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šæ•°æ®å¢å¼ºã€<span class="math inline">\(L1\)</span> æ­£åˆ™åŒ–ã€<span class="math inline">\(L2\)</span> æ­£åˆ™åŒ–ã€Dropoutã€DropConnect å’Œæ—©åœæ³•ï¼ˆEarly stoppingï¼‰ç­‰ã€‚ ä¸‹é¢å¯¹è¿™äº›æ–¹æ³•è¿›è¡Œé€ä¸€ä»‹ç»ã€‚ <span id="more"></span> # æ­£åˆ™åŒ–æ–¹æ³•</p>
<h2 id="æ•°æ®å¢å¼º">1. æ•°æ®å¢å¼º</h2>
<p>ä»¥å›¾åƒå¤„ç†ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥é¢„å…ˆå°†å›¾åƒåšç¿»è½¬æ‹‰ä¼¸ï¼Œäº®åº¦è°ƒèŠ‚ï¼Œéšæœºå¹³ç§»ç­‰æ“ä½œï¼Œä»è€Œå¢å¤§æ¨¡å‹çš„è®­ç»ƒæ•°æ®é›†ï¼Œå¢åŠ æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç°åœ¨åœ¨è¿›è¡Œæ·±åº¦å­¦ä¹ æ—¶æ•°æ®å¢å¼ºå·²ç»æˆä¸ºä¸€ä¸ªå¿…è¦çš„æ“ä½œäº†ã€‚ ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿä¸èƒ½ç”¨å¾—å¤ªè¿‡åˆ†ï¼Œä¸€èˆ¬æ¥è¯´ç”¨è¿™ç§æ–¹æ³•å°†æ•°æ®é›†æ‹“å±•åˆ°ä¸¤å€å·²ç»å¾ˆå¤Ÿäº†ï¼Œå¦‚æœå†ç»§ç»­æ‹“å±•ï¼Œæ„ä¹‰ä¸å¤§è€Œä¸”ä¼šæµªè´¹å¾ˆå¤šæ—¶é—´ã€‚ å¯¹äºå›¾åƒçš„æ•°æ®å¢å¼ºæ–¹æ³•å¯å‚è§å¦ä¸€ç¯‡åšæ–‡ã€å›¾åƒçš„å„ç§é¢„å¤„ç†æ–¹å¼ã€‘ã€‚</p>
<h2 id="l1-l2æ­£åˆ™">2. <span class="math inline">\(L1 / L2\)</span>æ­£åˆ™</h2>
<p>L1 / L2æ­£åˆ™åŸç†ç›¸ä¼¼ï¼Œæ˜¯åœ¨æŸå¤±å‡½æ•°åé¢åŠ ä¸ªæ­£åˆ™åŒ–é¡¹ï¼Œä»¥æ­¤å¯¹æŸå¤±å‡½æ•°è¿›è¡Œçº¦æŸï¼Œæ„Ÿè§‰å°±æ˜¯ç”¨æ‹‰æ ¼æœ—æ—¥è§£å¸¦çº¦æŸçš„ä¼˜åŒ–é—®é¢˜ã€‚ç°å‡è®¾æˆ‘ä»¬çš„æŸå¤±å‡½æ•°ä¸º<span class="math inline">\(L(y_i,\hat{y}_i)\)</span>ã€‚ è¿™é‡Œå…ˆå†™ä¸‰ä¸ªæ¦‚å¿µï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(L0\)</span>æ­£åˆ™ï¼šå‘é‡ä¸­éé›¶å…ƒç´ çš„ä¸ªæ•°ï¼Œè®°ä½œï¼š<span class="math inline">\(||W||_0\)</span>ï¼›<br />
</li>
<li><span class="math inline">\(L1\)</span>æ­£åˆ™ï¼šå‘é‡ä¸­å…ƒç´ ç»å¯¹å€¼ä¹‹å’Œï¼Œè®°ä½œï¼š<span class="math inline">\(||W||_1\)</span>ï¼›<br />
</li>
<li><span class="math inline">\(L2\)</span>æ­£åˆ™ï¼šä¹Ÿå°±æ˜¯æ¨¡ï¼Œè®°ä½œï¼š<span class="math inline">\(||W||_2\)</span></li>
</ol>
</blockquote>
<p>å¯¹äºå•ä¸ªæ•°æ®ï¼Œå‡è®¾å…¶ç‰¹å¾é¡¹<span class="math inline">\(X\)</span>ä¸ºï¼š<span class="math inline">\(x_0,x_1,...,x_N\)</span>ï¼Œå¯¹åº”çš„æƒé‡é¡¹<span class="math inline">\(W\)</span>ä¸ºï¼š<span class="math inline">\(w_0,w_1,...,w_N\)</span>ï¼Œä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œå³æ˜¯è¦å‡å°‘æ•°æ®çš„ç‰¹å¾é¡¹æ•°<span class="math inline">\(N\)</span>ï¼Œè¿™é‡Œé€‰æ‹©é€šè¿‡æ§åˆ¶æƒé‡é¡¹<span class="math inline">\(W\)</span>æ¥æ§åˆ¶ç‰¹å¾é¡¹æ•°<span class="math inline">\(N\)</span>ï¼Œä¸ºä»€ä¹ˆä¸é€šè¿‡ç‰¹å¾é¡¹<span class="math inline">\(X\)</span>å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬ä¸ç¡®å®šä¸‹ä¸€ä¸ªè¾“å…¥æ•°æ®çš„ç‰¹å¾é¡¹æœ‰å¤šå°‘ï¼Œæ²¡æ³•æ§åˆ¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨æˆ‘ä»¬è¦åšçš„å°±æ˜¯æ§åˆ¶æƒé‡é¡¹<span class="math inline">\(W\)</span>çš„é¡¹æ•°ï¼Œä½¿å…¶æ•°ç›®æœ€å°‘ã€‚</p>
<h3 id="l1æ­£åˆ™">2.1 <span class="math inline">\(L1\)</span>æ­£åˆ™</h3>
<p>æœ€å¼€å§‹ç”¨çš„å…¶å®æ˜¯<span class="math inline">\(L0\)</span>æ­£åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦åŒæ—¶è®©æŸå¤±å‡½æ•°<span class="math inline">\(L(y_i,\hat{y}_i)\)</span>ä»¥åŠ<span class="math inline">\(||W||_0\)</span>æ­£åˆ™é¡¹æœ€å°ï¼Œå³æ˜¯æ±‚å®ƒä»¬ä¹‹å’Œæœ€å°ã€‚</p>
<p>è¡¥å……ä¸€ç‚¹ç‚¹ä¸œè¥¿</p>
<blockquote>
<ol type="1">
<li>è¿™é‡Œæˆ‘ä»¬ä¹Ÿå°±æ˜¯è¦å®ç°å‚æ•°çŸ©é˜µ<span class="math inline">\(W\)</span>ç¨€ç–ï¼Œç°åœ¨å®ç°ç¨€ç–åŸºæœ¬éƒ½æ˜¯ç”¨<span class="math inline">\(L1\)</span>æ­£åˆ™ï¼Œä¸ç”¨<span class="math inline">\(L0\)</span>æ­£åˆ™ï¼›<br />
</li>
<li>å‚æ•°çŸ©é˜µç¨€ç–é€šå¸¸æ˜¯ä¸ºäº†ç‰¹å¾é€‰æ‹©å’Œæ˜“äºè§£é‡Šæ–¹é¢çš„è€ƒè™‘</li>
</ol>
</blockquote>
<p>ä½†ç”±äº<span class="math inline">\(L0\)</span>æ­£åˆ™ä¸å¥½è®¡ç®—ï¼Œæ‰€ä»¥æˆ‘ä»¬è½¬è€Œæ±‚<span class="math inline">\(L1\)</span>æ­£åˆ™ï¼Œé€šè¿‡ä¸Šé¢ä¸¤æ¦‚å¿µå¯ä»¥çŸ¥é“ï¼Œè¿™ä¸¤è€…åœ¨è¿™é‡Œçš„è®¡ç®—æ„ä¹‰æ˜¯ç±»ä¼¼çš„ï¼Œä¹Ÿå°±æ˜¯æœ€ä¼˜å‡¸è¿‘ä¼¼ï¼ˆå…·ä½“æ¨å¯¼çœ‹ä¸ä¸‹å»ï¼Œæœ‰å…´è¶£çš„å‚çœ‹Emmanuel Candesçš„paperï¼‰ã€‚ åŠ ä¸Š<span class="math inline">\(L1\)</span>æ­£åˆ™é¡¹åæ–°çš„æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š<span class="math display">\[L^{new}=L(y_i,\hat{y}_i)+\alpha ||W||_1\]</span>æœ‰äº›åœ°æ–¹ä¼šå†™å¾—æ›´å…·ä½“ï¼Œå¦‚ä¸‹ï¼š<span class="math display">\[J(w,b)=\frac{1}{m}\sum_{i=1}^mL(y_i,\hat{y}_i)+\frac{\lambda}{2m}||w||_1\]</span>åæ­£æ„æ€éƒ½ä¸€æ ·ã€‚è¿™é‡Œçš„<span class="math inline">\(\lambda\)</span>å±äºè¶…å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦è‡ªå·±è°ƒçš„ï¼Œè¶Šå¤§æ­£åˆ™åŒ–è¶Šæ˜æ˜¾ã€‚ ç”±äºæŸå¤±å‡½æ•°å˜åŒ–äº†ï¼Œæ¢¯åº¦ä¹Ÿä¼šè·Ÿç€å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ä¼šå¸¦æ¥æ¢¯åº¦æ›´æ–°æ–¹å‘çš„ä¸åŒï¼Œä¹‹åçš„è®¡ç®—è·Ÿä»¥å‰ä¸€æ ·ã€‚</p>
<h3 id="l2æ­£åˆ™">2.2 <span class="math inline">\(L2\)</span>æ­£åˆ™</h3>
<p><span class="math inline">\(L2\)</span>æ˜¯æ±‚æ¨¡ï¼Œä¹Ÿå°±æ˜¯çŸ©é˜µå„å…ƒç´ æ±‚å¹³æ–¹å’Œå†å¼€æ–¹ï¼Œé‡‡ç”¨<span class="math inline">\(L2\)</span>æ­£åˆ™çš„ç›®çš„æ˜¯è®©å„å‚æ•°è¶‹è¿‘äº<span class="math inline">\(0\)</span>ï¼Œä¹Ÿå°±æ˜¯è®©ä»–ä»¬æœ€å°åŒ–ã€‚ï¼ˆ<span class="math inline">\(L1\)</span>åˆ™æ˜¯è®©å®ƒä»¬ç­‰äº<span class="math inline">\(0\)</span>ï¼Œä¹Ÿå°±æ˜¯ç¨€ç–ï¼‰ é‚£ä¸ºä»€ä¹ˆè®©å‚æ•°æœ€å°åŒ–å¯ä»¥æœ‰æ•ˆé˜²æ­¢è¿‡æ‹Ÿåˆå‘¢ï¼Ÿé€šè¿‡<span class="math inline">\(L2\)</span>æ­£åˆ™å¯ä»¥æ„é€ å‡ºä¸€ä¸ªå‚æ•°éƒ½æ¯”è¾ƒå°çš„æ¨¡å‹ï¼Œä¸€æ–¹é¢ï¼Œå¯¹äºé‚£äº›å®åœ¨ä¸é‡è¦çš„ç‰¹å¾ï¼Œå…¶æƒé‡ä¼šéå¸¸æ¥è¿‘äº0ï¼Œä½†æ²¡æœ‰ç­‰äºï¼Œå½±å“å·²ç»å¾ˆå°äº†ï¼›å¦ä¸€æ–¹é¢ï¼Œå½“å‚æ•°å¾ˆå°æ—¶ï¼Œæ—¢ä½¿æ•°æ®å˜åŒ–æ¯”è¾ƒå¤§ï¼Œå…¶å¯¹ç»“æœçš„å½±å“ä¹Ÿä¸ä¼šå¾ˆå¤§ï¼Œå³æ¨¡å‹çš„æŠ—å¹²æ‰°èƒ½åŠ›ä¼šæ¯”è¾ƒå¼ºã€‚ å…¶å½¢å¼å’Œ<span class="math inline">\(L1\)</span>åŸºæœ¬ä¸€æ ·ï¼Œåªè¦æŠŠåé¢çš„é¡¹æ”¹æˆ<span class="math inline">\(L2\)</span>æ­£åˆ™å³å¯ã€‚</p>
<h3 id="l1ä¸l2çš„æ€»ç»“æ¯”è¾ƒ">2.3 <span class="math inline">\(L1\)</span>ä¸<span class="math inline">\(L2\)</span>çš„æ€»ç»“æ¯”è¾ƒ</h3>
<p><span class="math inline">\(L1\)</span>,<span class="math inline">\(L2\)</span>åœ¨ä¸€äº›åœ°æ–¹ä¹Ÿå†™ä½œLASSOå’Œå²­å›å½’ï¼ˆåœ¨ä¹‹å‰çš„ã€çº¿æ€§å›å½’ã€‘ä¹Ÿæœ‰æåˆ°ä¸€äº›ï¼‰ã€‚ åœ¨å„ç§é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ­£åˆ™åŒ–ä¸­ï¼Œ<span class="math inline">\(L2\)</span>é˜²è¿‡æ‹Ÿåˆæ•ˆæœéƒ½è¦ä¼˜äº<span class="math inline">\(L1\)</span>æ­£åˆ™ï¼Œæ‰€ä»¥ä¸<span class="math inline">\(L1\)</span>ç›¸æ¯”ï¼Œæ­£åˆ™åŒ–ä¸€èˆ¬éƒ½æ˜¯ç”¨<span class="math inline">\(L2\)</span>ï¼Œä½†å½“<span class="math inline">\(L1\)</span>æ­£åˆ™ä¸­çš„ç³»æ•°<span class="math inline">\(\alpha\)</span>æ¯”è¾ƒå¤§æ—¶ï¼Œä¹Ÿä¼šå¾—åˆ°ç³»æ•°æå°çš„æœ€ä¼˜è§£ï¼Œè¿™æ—¶çš„<span class="math inline">\(L1\)</span>ä¹Ÿå…·æœ‰é˜²æ­¢è¿‡æ‹Ÿåˆçš„ä½œç”¨ã€‚ <span class="math inline">\(L1\)</span>æ­£åˆ™ç”±äºå¯ä»¥å®ç°ç¨€ç–çŸ©é˜µï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥å½“ä½œç‰¹å¾çš„é€‰æ‹©ã€‚ æœ‰ä¸€ç‚¹æˆ–è®¸æ˜¯éœ€è¦æ³¨æ„çš„ï¼Œåœ¨è¿›è¡Œ<span class="math inline">\(L2\)</span>æ­£åˆ™åŒ–ä¸­ï¼Œæˆ‘ä»¬æŠŠæƒé‡å˜å¾—å¾ˆå°ï¼Œæ‰€ä»¥åœ¨è¿›å…¥æ¿€æ´»å‡½æ•°çš„æ—¶å€™å€¼æ˜¯åœ¨<span class="math inline">\(0\)</span>é™„è¿‘çš„ï¼Œä»¥Sigmoidå‡½æ•°ä¸ºä¾‹ï¼Œå½“å€¼åœ¨<span class="math inline">\(0\)</span>é™„è¿‘æ—¶ï¼Œå…¶æ¿€æ´»å‡½æ•°å¯çœ‹ä½œçº¿æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´æ•´ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œè¿›è¡Œçº¿æ€§åŒ–è¿‘ä¼¼äº†ï¼ˆä¸ç¡®å®šèƒ½ä¸èƒ½ç”¨è¿™ç§è¯´æ³•ï¼‰ï¼Œè¿™å³æ˜¯ä¼˜ç‚¹ä¹Ÿæ˜¯ç¼ºç‚¹ï¼Œä¼˜ç‚¹æ˜¯æˆ‘ä»¬æŠŠç¥ç»ç½‘ç»œç®€åŒ–äº†ï¼Œè¿™ä¹Ÿæ˜¯å®ç°è¿™ç§æ­£åˆ™åŒ–æ–¹æ³•çš„åŸºç¡€ï¼›ä½†ï¼Œç”±äºæˆ‘ä»¬è®¡ç®—çš„æ˜¯è¿™ç§è¿‘ä¼¼çº¿æ€§çš„ä¸œè¥¿ï¼Œå½“æˆ‘ä»¬è¦åšéå¸¸å¤æ‚çš„å†³ç­–æ—¶ï¼Œè¿™ç§æ­£åˆ™åŒ–æ–¹æ³•æ˜¯ä¸é€‚ç”¨çš„ã€‚</p>
<h2 id="dropout">3. Dropout</h2>
<p>è¿™ä¸ªå°±ç®€å•å†™äº†ï¼Œå› ä¸ºåŸºæœ¬æ€è·¯ä¸éš¾ã€‚Dropoutçš„åŸºæœ¬æ€è·¯æ˜¯éšæœºå»æ‰ç¥ç»å…ƒï¼Œä¹Ÿå°±æ˜¯åœ¨è¿›è¡Œä¸€æ‰¹æ•°æ®è®­ç»ƒæ—¶ï¼Œæˆ‘ä»¬éšæœºå»æ‰ä¸€äº›ç¥ç»å…ƒï¼Œæ—¢å¯ä»¥æ˜¯éšè—å±‚çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯è¾“å…¥å±‚çš„ï¼Œç„¶åè¿›è¡Œè®­ç»ƒï¼Œæ›´æ–°å‚æ•°ï¼›ç„¶ååœ¨ä¸‹ä¸€æ‰¹æ•°æ®è¿›æ¥çš„æ—¶å€™æˆ‘ä»¬è¦å…ˆæ¢å¤å›æœ€åŸæ¥çš„ç½‘ç»œç»“æ„ï¼Œå†éšæœºå»æ‰ä¸€äº›ç¥ç»å…ƒï¼Œæ›´æ–°å‚æ•°ï¼Œç»§ç»­ã€‚ã€‚ã€‚ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒDropoutæ–¹æ³•æ¯æ¬¡æ›´æ–°çš„éƒ½æ˜¯åŒä¸€å¥—å‚æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šäº§ç”Ÿæ–°çš„å‚æ•°ï¼ˆè¿™ç‚¹è·ŸBaggingä¸åŒï¼ŒBaggingæ˜¯æ¯æ¬¡è®­ç»ƒéƒ½æœ‰è‡ªå·±å•ç‹¬çš„ä¸€å¥—ï¼‰ã€‚ å› ä¸ºDropoutå°†åŸå§‹æ•°æ®åˆ†æ‰¹è¿­ä»£ï¼Œç”¨è¿™ç§æ­£åˆ™åŒ–æ–¹æ³•å‰ææ˜¯è®­ç»ƒæ ·æœ¬è¶³å¤Ÿå¤§ï¼Œå¦åˆ™ä¼šäº§ç”Ÿæ¬ æ‹Ÿåˆç°è±¡ã€‚</p>
<h2 id="dropconnect">4. DropConnect</h2>
<p>DropConnectè·ŸDropoutå…¶å®å¾ˆåƒï¼ŒDropoutæ˜¯é€šè¿‡å»æ‰ä¸€äº›ç¥ç»å…ƒæ¥é˜²æ­¢è¿‡æ‹Ÿåˆçš„ï¼Œè€ŒDropConnectåˆ™æ˜¯é€šè¿‡éšæœºé€‰æ‹©æƒé‡çš„å­é›†è®¾ä¸º<span class="math inline">\(0\)</span>ï¼Œä¸¤ç§æ–¹æ³•éƒ½èƒ½å¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œéƒ½åœ¨æ¨¡å‹ä¸­å¼•å…¥äº†ç¨€ç–æ€§ï¼Œä½†ä¸åŒçš„æ˜¯DropConnectæ˜¯åœ¨æƒé‡ä¸­å¼•å…¥ç¨€ç–æ€§è€Œä¸æ˜¯åœ¨å±‚çš„è¾“å‡ºå‘é‡ä¸­å¼•å…¥ã€‚</p>
<h2 id="æ—©åœæ³•early-stopping">5. æ—©åœæ³•ï¼ˆEarly stoppingï¼‰</h2>
<p>è®­ç»ƒè¿‡ç¥ç»ç½‘ç»œçš„éƒ½çŸ¥é“ï¼Œå½“è®­ç»ƒæ¬¡æ•°è¿‡å¤šæ—¶ï¼Œæ¨¡å‹å®¹æ˜“å‘ç”Ÿè¿‡æ‹Ÿåˆç°è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦åœ¨è¿‡æ‹Ÿåˆä¹‹å‰åœæ­¢è®­ç»ƒå°±å¯ä»¥äº†ã€‚è¿™å°±æ˜¯æ—©åœæ³•ï¼Œä¹Ÿæ˜¯æ·±åº¦å­¦ä¹ ä¸­éå¸¸å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•ï¼Œå› ä¸ºç®€å•åˆæœ‰æ•ˆã€‚ç”¨è¿™ç§æ–¹æ³•æˆ‘ä»¬å°±è¦æ—¶åˆ»æ£€æµ‹éªŒè¯é›†çš„æŸå¤±ï¼Œå½“å…¶å¼€å§‹<strong>æŒç»­</strong>ä¸Šå‡æ—¶ï¼Œå°±è¯¥åœæ­¢è®­ç»ƒäº†ã€‚</p>
<p><strong><em>END</em></strong><br />
å…ˆå†™åˆ°è¿™ï¼Œå¦å¤–å†™åˆ°åé¢æ€»è§‰å¾—è¿™ç¯‡æœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘å¥½åƒæŠŠæ­£åˆ™åŒ–å’Œé˜²æ­¢è¿‡æ‹Ÿåˆè¿™ä¸¤ä¸ªæ¦‚å¿µæ··ä¸ºä¸€è°ˆäº†ï¼Ÿ</p>
<h1 id="å‚è€ƒç½‘ç«™æ¥æº">å‚è€ƒç½‘ç«™æ¥æº</h1>
<p>ç½‘ç«™1ï¼šhttps://developer.aliyun.com/article/632944</p>
<p>ç½‘ç«™2ï¼šhttps://cloud.tencent.com/developer/article/1486732</p>
<p>ç½‘ç«™3ï¼šhttp://imgtec.eetrend.com/blog/2019/100045162.html</p>
]]></content>
      <categories>
        <category>æ·±åº¦å­¦ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>ã€ML-2020/21ã€‘CNN &amp; Self-Attention</title>
    <url>/posts/16.html</url>
    <content><![CDATA[<h1 id="å†™åœ¨å‰é¢çš„è¯´æ˜">å†™åœ¨å‰é¢çš„è¯´æ˜</h1>
<p>è¿™ä¸ªç³»åˆ—ã€ML-2020/21ã€‘å¤§éƒ¨åˆ†æ˜¯è¯¾ä¸Šå†…å®¹çš„ç®€å•å¤è¿°ï¼Œä¹‹å‰ä¸Šè¿‡ä½†å› ä¸ºç¬”è®°å†™å¾—å¾ˆä¹±å°±å¿˜äº†å¾ˆå¤šï¼Œæ‰€ä»¥é‡æ¥ä¸€éã€‚ä¸å…¶çœ‹æˆ‘è¿™ç¯‡ï¼Œä¸å¦‚ç›´æ¥å»çœ‹è§†é¢‘ï¼Œè®²å¾—è¿˜æ›´ç”ŸåŠ¨ã€‚è§†é¢‘ç³»åˆ—é“¾æ¥<span class="math inline">\(\rightarrow\)</span><a href="https://www.youtube.com/watch?v=OP5HcXJg2Aw">è¿™é‡Œ</a>ã€‚</p>
<p>è¿™é‡Œä»‹ç»ä¸¤ä¸ªå¸¸è§çš„Networkæ¶æ„ï¼Œåˆ†åˆ«ä¸ºCNN å’Œ Self-Attentionã€‚ <span id="more"></span></p>
<h1 id="cnn">CNN</h1>
<p>CNNä¸»è¦æ˜¯ç”¨æ¥å¤„ç†å›¾åƒçš„ï¼Œå¯¹äºFully Connected Networkï¼Œæ¯ä¸ªç¥ç»å…ƒéƒ½è¦è§‚å¯Ÿæ•´å¼ å›¾ç‰‡ï¼Œè¿™æ˜æ˜¾ä¸æ˜¯é«˜æ•ˆç‡çš„åšæ³•ï¼Œæ‰€ä»¥æ›´å¸¸è§çš„æ˜¯è®©æ¯ä¸ªç¥ç»å…ƒå¤„ç†æŸä¸€ç‰¹å®šçš„pattern,ï¼Œæ¯”å¦‚è¯´å°±åƒä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/d439d0b3fc954e7ab460385d90d50a23.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æˆ‘ä»¬å°±å¸Œæœ›èƒ½ç®€åŒ–è¿™ä¸ªç½‘ç»œï¼Œè¿™é‡Œæœ‰ä¸¤ç§è§£é‡Šã€‚</p>
<h2 id="ä¸¤ç§è§£é‡Š">ä¸¤ç§è§£é‡Š</h2>
<h3 id="receptive-field">1. Receptive field</h3>
<p>å°±åƒä¸‹å›¾é‚£æ ·ï¼š <img src="https://img-blog.csdnimg.cn/170e557b01da49bc93680928517a2df0.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p>æ¯ä¸ªç¥ç»å…ƒåªè´Ÿè´£å…¶ä¸­ä¸€ä¸ªåŒºåŸŸçš„ä¿¡æ¯ï¼Œå¹¶ä¸”ï¼ŒåŒä¸ªåŒºåŸŸå¯ä»¥æœ‰å¤šä¸ªä¸åŒçš„ç¥ç»å…ƒè´Ÿè´£ã€‚ å¦å¤–ï¼Œè¿™ä¸ªReceptive fieldå¯ä»¥æœ‰å¤§æœ‰å°ï¼Œä¹Ÿå¯ä»¥è®©Receptive fieldåªè€ƒè™‘æŸä¸€ç‰¹å®šçš„channelï¼Œæ¯”å¦‚rgbé‡Œçš„çº¢è‰²åŒºåŸŸã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæœ€ç»å…¸çš„sizeå¤§å°æ˜¯<span class="math inline">\(3\times 3\)</span>ï¼Œç„¶åå¯¹äºåŒä¸€ä¸ªReceptive fieldï¼Œä¸€èˆ¬ä¼šæœ‰ä¸€ç»„ç¥ç»å…ƒï¼ˆæ¯”å¦‚64æˆ–è€…128ä¸ªï¼‰å»å¤„ç†å®ƒï¼Œè€Œä¸”ä¸€èˆ¬æ¥è¯´è¿™ä¸ªReceptive fieldçš„æ’å¸ƒæ˜¯ä¼šé‡å çš„ï¼Œä»¥ä¿è¯è¦†ç›–æ•´ä¸ªå›¾åƒï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/1229bff146434d25b5e3639067b5ed76.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h4 id="parameter-sharing">parameter sharing</h4>
<p>å¯¹äºä¸‹é¢è¿™ç§æƒ…å†µï¼š <img src="https://img-blog.csdnimg.cn/9c209adfd54248839f667259ba391907.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> é¸Ÿå–™å‡ºç°åœ¨å›¾ä¸­çš„ä¸åŒä½ç½®ï¼Œç”±äºæ¯ä¸ªpatternéƒ½æœ‰å¾ˆå¤šä¸ªç¥ç»å…ƒå»å¤„ç†ï¼Œæ‰€ä»¥ç†æ‰€å½“ç„¶åœ°ï¼Œè¿™ä¸¤ç§æƒ…å†µéƒ½èƒ½æŠŠé¸Ÿå–™ç»™æ£€æµ‹å‡ºæ¥ï¼Œä½†å¯¹äºåŒç§ä½œç”¨çš„æ£€æµ‹å™¨ï¼Œæˆ‘ä»¬æ˜æ˜¾ä¸å¸Œæœ›å®ƒä»¬åˆ†å±ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ï¼Œä¸ç„¶å‚æ•°ä¼šå¾ˆå¤šï¼Œæ‰€ä»¥å°±å¸Œæœ›ï¼Œå¯¹äºç›¸åŒä½œç”¨çš„æ£€æµ‹å™¨ï¼Œå®ƒä»¬çš„å‚æ•°åº”è¯¥æ˜¯ç›¸åŒçš„ï¼ˆå³å‚æ•°å…±äº«ï¼‰ã€‚ è‡³æ­¤ï¼Œå°±ä¸€æ­¥æ­¥åœ°å°†æ¨¡å‹ç®€åŒ–äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/d006bd63940c41afbf60c143a3d3902e.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™å°±æ˜¯convolutional layerï¼Œè€Œç”¨äº†convolutional layerçš„å°±æ˜¯CNNã€‚å¦å¤–ï¼ŒCNNçš„<span class="math inline">\(bias\)</span>ä¸€èˆ¬ä¼šæ¯”è¾ƒå¤§ã€‚</p>
<h3 id="filter">2. Filter</h3>
<p>å¯¹äºconvolutional layerçš„å¦ä¸€ç§è§£é‡Šæ˜¯ç”¨Filterã€‚å¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/bd774849c64f4b7d916fc491c7939ef4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä»¥å³ä¸Šè§’è¿™ä¸ªfilterä¸ºä¾‹ï¼Œä»å›¾ç‰‡å·¦ä¸Šè§’ä¸€ç›´æ»‘åˆ°å³ä¸‹è§’ï¼Œå¯¹åº”ç›¸ä¹˜åç›¸åŠ ã€‚å¯¹äºæ¯ä¸ªå·ç§¯å±‚éƒ½æœ‰å¾ˆå¤šä¸ªFiltersã€‚ å¦å¤–ï¼Œè™½ç„¶è¿™ä¸ªfilteråªæ˜¯<span class="math inline">\(3\times 3\)</span>çš„ï¼Œä½†ç”±äºä¸æ–­è¿›è¡Œå·ç§¯ï¼Œæ¯ä¸€ä¸ªå·ç§¯å±‚éƒ½æŠŠå®ƒçš„è€ƒè™‘èŒƒå›´æ‰©å¤§äº†ï¼Œå¦‚ä¸‹å›¾ï¼Œä¸‹é¢é‚£å±‚çš„<span class="math inline">\(3\times 3\)</span>ç­‰äºæ˜¯è€ƒè™‘äº†ä¸Šé¢é‚£å±‚çš„<span class="math inline">\(5\times 5\)</span>èŒƒå›´ï¼š <img src="https://img-blog.csdnimg.cn/fa0ca16f08df47cf89241d5df3be1e5b.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¹Ÿå°±æ˜¯è¯´ï¼Œnetworkè¶Šæ·±è€ƒè™‘çš„èŒƒå›´è¶Šå¤§ã€‚</p>
<blockquote>
<p>ä¸Šé¢çš„parameter sharingå®é™…å°±æ˜¯è¿™é‡Œçš„filteræ‰«è¿‡å„ä¸ªåŒºåŸŸè¿‡ç¨‹ã€‚ ä¸Šé¢çš„receptive filterå®é™…å°±æ˜¯è¿™é‡Œçš„ä¸åŒçš„filterã€‚ æ‰€ä»¥ä¸¤ç§è§£é‡Šå…¶å®æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p>
</blockquote>
<h2 id="pooling">Pooling</h2>
<p>poolingçš„æ€æƒ³æºäºé™é‡‡æ ·ï¼Œå³æ˜¯å¯¹äºä¸€å¹…å›¾ï¼Œæˆ‘ä»¬æŠŠå®ƒè¿›è¡Œå°†é‡‡ç”¨ï¼Œæ¯”å¦‚æŠŠä¸€å¹…å›¾çš„å¶æ•°åƒç´ éƒ½åˆ é™¤ï¼Œå¹¶ä¸å¦¨ç¢æˆ‘ä»¬è¯†åˆ«è¿™å¹…å›¾ã€‚å¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/c61338aae46b4c5a88911345f1aa50ff.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> poolingæ˜¯ä¸éœ€è¦å­¦ä¹ çš„ï¼Œå°±è·Ÿæ¿€æ´»å‡½æ•°ç±»ä¼¼ã€‚</p>
<h3 id="max-pooling">Max Pooling</h3>
<p>é™¤äº†Max poolingï¼Œè¿˜æœ‰mean Poolingä¹‹ç±»çš„ï¼Œéƒ½å·®ä¸å¤šã€‚ åŸºæœ¬æ¦‚å¿µå°±æ˜¯é€‰å„ä¸ªåŒºåŸŸæœ€å¤§çš„é‚£ä¸ªæ•°ï¼Œæ¯”å¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/3cb5104423b940a78fec669d4a55b660.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> é€‰å®Œä¹‹åå°±å˜æˆä¸‹é¢è¿™æ ·äº†ï¼š <img src="https://img-blog.csdnimg.cn/1dcccadc91294bf5bc1e2a9e39708a55.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡ŒåŒºåŸŸå¤§å°ä¹Ÿæ˜¯è‡ªå·±å®šçš„ï¼Œä¸ä¸€å®šè¦ç”¨<span class="math inline">\(2\times 2\)</span>ã€‚é€šè¿‡è¿™ä¸ªæ“ä½œå°±èƒ½æŠŠâ€å›¾ç‰‡â€œå˜å°ã€‚è¿™ä¸ªæ± åŒ–å±‚ä¸€èˆ¬æ˜¯å’Œå·ç§¯å±‚äº¤æ›¿ä½¿ç”¨çš„ã€‚ &gt;pooling æ˜¯ä¸ºäº†å‡å°‘è¿ç®—é‡ï¼Œä½†ç°åœ¨ç”±äºè¿ç®—èƒ½åŠ›çš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šåœ°æ–¹å¼€å§‹å»é™¤poolingå±‚äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§è¶‹åŠ¿ã€‚</p>
<p>è‡³æ­¤å°±æœ‰äº†CNNçš„åŸºæœ¬æ¶æ„äº†ï¼š <img src="https://img-blog.csdnimg.cn/b5dea29b55ef46c6bc23242e6a4e6bcf.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h1 id="self-attention">Self-Attention</h1>
<p>åœ¨CNNä¸­ï¼Œæˆ‘ä»¬çš„è¾“å…¥éƒ½æ˜¯ä¸€ä¸ªå‘é‡ï¼Œä½†å¦‚æœé‡åˆ°è¾“å…¥æ˜¯ä¸€ç»„å‘é‡çš„è¯è¯¥æ€ä¹ˆåŠï¼Ÿæ¯”å¦‚è¯´è¯­è¨€å¤„ç†ï¼Œè¾“å…¥çš„å•è¯é•¿åº¦éƒ½ä¸ä¸€æ ·ï¼ŒSelf-Attention å°±æ˜¯è§£å†³è¿™ç§é—®é¢˜çš„ä¸€ç§åŠæ³•ã€‚ åœ¨è¿™ç§æ¶æ„ä¸­å¯¹äºè¾“å‡ºä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(N\)</span>ä¸ªè¾“å…¥å¯¹åº”<span class="math inline">\(N\)</span>ä¸ªè¾“å‡ºï¼Œæ¯”å¦‚è¯´è¾“å…¥ä¸€å¥è¯ï¼Œæˆ‘ä»¬è¦åˆ†ææ¯ä¸ªå•è¯å¯¹åº”çš„è¯æ€§ã€‚</li>
<li><span class="math inline">\(N\)</span>ä¸ªè¾“å…¥å¯¹åº”<span class="math inline">\(1\)</span>ä¸ªè¾“å‡ºï¼Œæ¯”å¦‚è¾“å…¥ä¸€å¥è¯ï¼Œåˆ†æå…¶æ˜¯è¤’ä¹‰è¿˜æ˜¯è´¬ä¹‰ã€‚</li>
<li><span class="math inline">\(N\)</span>ä¸ªè¾“å…¥å¯¹åº”<span class="math inline">\(M\)</span>ä¸ªè¾“å‡ºï¼Œæ¯”å¦‚ç¿»è¯‘ã€‚</li>
</ol>
</blockquote>
<p>è¿™é‡Œå…ˆä»‹ç»ç¬¬ä¸€ç§ï¼Œå³åŒç»´åº¦è¾“å…¥è¾“å‡ºã€‚ä»¥è¾“å…¥ä¸€å¥è¯ä¸ºä¾‹ã€‚ ç¬¬ä¸€ç§æœ€ç›´æ¥çš„æƒ³æ³•æ˜¯ç”¨Fully Connectedï¼Œç”±äºè¦è€ƒè™‘å•è¯é—´çš„è”ç³»ï¼Œå°±æœ‰äº†å¦‚ä¸‹è¿™ç§ç»“æ„ï¼š <img src="https://img-blog.csdnimg.cn/7739d772a5e948c98fdd41d5c82a9a71.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™ç¡®å®èƒ½åšï¼ŒæŸäº›æƒ…å†µä¸‹æ•ˆæœä¹Ÿä¸åï¼Œä½†å¦‚æœæˆ‘ä»¬è¦è€ƒè™‘æ•´å¥è¯ï¼Œè€Œä¸æ˜¯å›¾ä¸­çš„çº¢è‰²æ¡†æ¡†å‘¢ï¼Ÿåˆä¸€ä¸ªç›´æ¥çš„æƒ³æ³•æ˜¯ï¼šæ‰©å¤§windowçš„å¤§å°ä»¥å›Šæ‹¬æ•´å¥è¯ã€‚ ä½†ï¼Œè¿™é‡Œæ¯å¥è¯çš„é•¿åº¦æ˜¯ä¸ç›¸ç­‰çš„ï¼Œå¦‚æœè¦ç”¨è¿™ç§æ–¹æ³•ï¼Œé‚£å°±è¦é¦–å…ˆæ£€æµ‹æ•°æ®é›†ä¸­æœ€é•¿é‚£å¥è¯æœ‰å¤šé•¿ï¼Œä½†è¿™æ ·è¿ç®—é‡ä¼šéå¸¸å¤§ï¼Œè€Œä¸”å®¹æ˜“overfittingï¼Œè€Œä¸”åœ¨æµ‹è¯•ä¸­ä¹Ÿä¸ä¸€å®šé€‚ç”¨ã€‚ å¦ä¸€ç§æ›´å¥½çš„æ–¹æ³•å°±æ˜¯Self-Attentionï¼Œå…¶åŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/93e6bba2e2574e2c9c5cea382972a37c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å…ˆæŠŠæ•´å¥è¯ç”¨self-attentionå¤„ç†ï¼Œå¯¹åº”äº§ç”Ÿæ–°çš„å‘é‡ï¼Œè¿™æ—¶å€™çš„æ¯ä¸ªå‘é‡å°±å·²ç»æ˜¯è€ƒè™‘æ•´å¥è¯åçš„å‘é‡äº†ã€‚ è¿™ä¸¤ç§ç½‘ç»œæ˜¯å¯ä»¥äº¤æ›¿ä½¿ç”¨çš„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªï¼š <img src="https://img-blog.csdnimg.cn/fa7650543232479f877f07d793263602.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="è¿ä½œ">è¿ä½œ</h2>
<p>å‡è®¾æˆ‘ä»¬çš„è¾“å…¥ï¼ˆæˆ–è€…ä¸­é—´æŸä¸€å±‚çš„è¾“å‡ºï¼‰ä¸ºè¿™å››ä¸ªå‘é‡<span class="math inline">\([a^1,a^2,a^3,a^4]\)</span>ï¼Œç°åœ¨æˆ‘ä»¬æƒ³è¦åšçš„å°±æ˜¯æ¯ä¸€ä¸ªå‘é‡ä¸å…¶å®ƒå‘é‡çš„å…³è”ç¨‹åº¦ã€‚ ä»¥ä¸¤ä¸ªå‘é‡ä¸ºä¾‹ï¼Œè®¡ç®—å…³è”åº¦æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚ä¸‹é¢ä¸¤ç§ï¼š <img src="https://img-blog.csdnimg.cn/cf7e419319e54afebcd5aaadc7724300.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <strong>ä»¥ä¸‹éƒ½ç”¨å·¦è¾¹é‚£ç§</strong> å¯¹äºå››ä¸ªå‘é‡ï¼Œè®¡ç®—ä¸<span class="math inline">\(a^1\)</span>çš„å…³è”åº¦å¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/f79769229bcc44af8cd9135f94d11a67.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<blockquote>
<p>æ³¨æ„ï¼Œè¿™é‡Œä¹Ÿè¦è®¡ç®—ä¸è‡ªèº«çš„å…³è”åº¦ã€‚</p>
</blockquote>
<p>è¿™é‡Œçš„æ¿€æ´»å‡½æ•°ä¸ä¸€å®šè¦ç”¨Soft-maxï¼Œä¹Ÿå¯ä»¥ç”¨å…¶ä»–çš„æ¯”å¦‚ReLuã€‚ æ¥ä¸‹æ¥è®¡ç®—æ–°çš„å‘é‡ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®å…³è”æ€§è®¡ç®—ï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/2275dfc0a96049f19baae048018e16bf.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä»¥ä¸Šè¿‡ç¨‹å¯ä»¥ç”¨çŸ©é˜µä¹˜æ³•è¡¨ç¤ºã€‚</p>
<h3 id="çŸ©é˜µä¹˜æ³•è¡¨ç¤º">çŸ©é˜µä¹˜æ³•è¡¨ç¤º</h3>
<p>ï¼ˆè¿™éƒ¨åˆ†å¾ˆæ— èŠå¯ä»¥ç›´æ¥è·³è¿‡ï¼‰<img src="https://img-blog.csdnimg.cn/288c02b8a420479f9e272d7d552e0f28.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/6f9c645c1c114706ba87a7d1b06bfeb5.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/7ead13e9d4be40ff989996100ac166d7.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/c4b2fb755df94b35b09b8753761128bb.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™å…¶ä¸­åªæœ‰<span class="math inline">\(W^q,W^k,W^v\)</span>æ˜¯éœ€è¦å­¦ä¹ çš„ã€‚</p>
<h2 id="multi-head-self-attention">Multi-head-Self-attention</h2>
<p>è¿™é‡Œä»¥ä¸¤ä¸ªheadä¸ºä¾‹ï¼š <img src="https://img-blog.csdnimg.cn/d881b6f1cb0f4337a0e9ada6ba36db3d.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¯¹äºä¸¤ä¸ªheadè®¡ç®—å‡ºçš„<span class="math inline">\(b^{i,1},b^{i,2}\)</span>å¯é€šè¿‡æ–°å¼•å…¥çš„çŸ©é˜µè¿›è¡Œç»“åˆï¼š <img src="https://img-blog.csdnimg.cn/17615172e1b343028283242f4f910432.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="position-encoding">Position Encoding</h2>
<p>ç°åœ¨è¿˜å‰©ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬è™½ç„¶è€ƒè™‘äº†æ•´ä¸ªå¥å­ï¼Œä½†æˆ‘ä»¬æ²¡æœ‰è€ƒè™‘å„ä¸ªå•è¯çš„ç›¸å¯¹ä½ç½®ã€‚ è¿™é‡Œéœ€è¦å¼•å…¥ä¸€ä¸ªä½ç½®å‚æ•°<span class="math inline">\(e^i\)</span>ï¼Œæ¯ä¸ªå‘é‡éƒ½è¦åŠ ä¸Šç‰¹å®šçš„ä½ç½®å‚æ•°ï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/c5c7c0b35d9c471ba36a69f54dbb2ff4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æœ€æ—©çš„<span class="math inline">\(e^i\)</span>ï¼ˆä¹Ÿå°±æ˜¯åœ¨paperâ€Attention all you needâ€œé‡Œï¼‰é•¿è¿™æ ·ï¼š <img src="https://img-blog.csdnimg.cn/f961ce0ac8284eb1938aed959001fc4a.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™ä¸ªå›¾çš„æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ª<span class="math inline">\(e^i\)</span>ã€‚ä½ç½®å‚æ•°ä¸ä¸€å®šè¦ç”¨è¿™ç§ï¼Œå¯ä»¥è‡ªå·±ç ”ç©¶ã€‚</p>
]]></content>
      <categories>
        <category>ML-2020/21</category>
      </categories>
  </entry>
  <entry>
    <title>éçº¿æ€§ä¼˜åŒ–</title>
    <url>/posts/15.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>ä¸€ä¸ªç»å…¸çš„SLAMæ¨¡å‹ç”±ä¸€ä¸ªè¿åŠ¨æ–¹ç¨‹å’Œä¸€ä¸ªè§‚æµ‹æ–¹ç¨‹æ„æˆ</p>
<span id="more"></span>
<p>å¦‚ä¸‹å¼æ‰€ç¤ºï¼š<span class="math display">\[\pmb{x}_k=f(\pmb{x}_{k-1},\pmb{u}_k)+\pmb{w}_k\\\pmb{z}_{k,j}=h(\pmb{y}_j,\pmb{x}_k)+\pmb{v}_{k,j}\]</span>å…¶ä¸­<span class="math inline">\(\pmb{u}_k\)</span>æ˜¯è¿åŠ¨ä¼ æ„Ÿå™¨çš„è¯»æ•°æˆ–è€…è¾“å…¥ï¼›<span class="math inline">\(\pmb{w}_k\)</span>æ˜¯è¯¥è¿‡ç¨‹ä¸­åŠ å…¥çš„å™ªå£°ï¼›<span class="math inline">\(f\)</span>æ˜¯ä¸€èˆ¬å‡½æ•°ï¼Œç”¨æ¥æè¿°è¿™ä¸ªè¿‡ç¨‹çš„ï¼›<span class="math inline">\(\pmb{x}\)</span>æ˜¯ç›¸æœºçš„ä½å§¿ï¼Œå¯ç”¨SE(3)æ¥æè¿°ï¼›<span class="math inline">\(\pmb{y}\)</span>æ˜¯è·¯æ ‡ç‚¹ï¼›<span class="math inline">\(\pmb{z}\)</span>æ˜¯è§‚æµ‹æ•°æ®ï¼›<span class="math inline">\(\pmb{v}_{k,j}\)</span>æ˜¯è¿™æ¬¡è§‚æµ‹é‡Œçš„å™ªå£°ã€‚ç”±äºè§‚æµ‹æ‰€ç”¨çš„ä¼ æ„Ÿå™¨å½¢å¼å¾ˆå¤šï¼Œè¿™é‡Œçš„è§‚æµ‹æ•°æ®<span class="math inline">\(\pmb{z}\)</span>å’Œè§‚æµ‹æ–¹ç¨‹<span class="math inline">\(h\)</span>ä¹Ÿæœ‰å¾ˆå¤šå½¢å¼ã€‚ ç°å‡è®¾è§‚æµ‹æ–¹ç¨‹ç”±é’ˆå­”æ¨¡å‹ç»™å®šï¼Œåœ¨<span class="math inline">\(\pmb{x}_k\)</span>å¤„å¯¹è·¯æ ‡<span class="math inline">\(\pmb{y}_j\)</span>è¿›è¡Œäº†ä¸€æ¬¡è§‚æµ‹ï¼Œå¯¹åº”åˆ°å›¾åƒä¸Šçš„åƒç´ ä½ç½®ä¸º<span class="math inline">\(\pmb{z}_{k,j}\)</span>ï¼Œåˆ™è§‚æµ‹æ–¹ç¨‹å¯ä»¥è¡¨ç¤ºä¸ºï¼š<span class="math display">\[s\pmb{z}_{k,j}=\pmb{K}(\pmb{R}_k\pmb{y}_j+\pmb{t}_K)\]</span>å…¶ä¸­<span class="math inline">\(\pmb{K}\)</span>ä¸ºç›¸æœºå†…å‚ï¼Œ<span class="math inline">\(s\)</span>ä¸ºåƒç´ ç‚¹è·ç¦»ï¼Œä¹Ÿæ˜¯<span class="math inline">\((\pmb{R}_k\pmb{y}_j+\pmb{t}_k)\)</span>çš„ç¬¬ä¸‰ä¸ªåˆ†é‡ï¼Œè‹¥ç”¨å˜æ¢çŸ©é˜µ<span class="math inline">\(\pmb{T}_k\)</span>æ¥æè¿°ä½å§¿ï¼Œåˆ™è·¯æ ‡<span class="math inline">\(\pmb{y}_j\)</span>è¦ç”¨é½æ¬¡åæ ‡ã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>ç®€å•å›é¡¾ä¸‹ç›¸æœºå†…å‚çš„ç›¸å…³çŸ¥è¯†<br />
ç›¸æœºå†…å‚æ•°æ˜¯ä¸ç›¸æœºè‡ªèº«ç‰¹æ€§ç›¸å…³çš„å‚æ•°ï¼Œæ¯”å¦‚ç›¸æœºçš„ç„¦è·ã€åƒç´ å¤§å°ç­‰ï¼Œè¿™äº›åœ¨ç›¸æœºå‡ºå‚åæ˜¯å›ºå®šçš„ã€‚ç”±äºé•œå¤´çš„å®‰è£…ç²¾åº¦ï¼Œå½¢çŠ¶ï¼Œä¼ æ„Ÿå™¨ä¸Šçš„åƒç´ ç­‰å› ç´ ï¼Œä½¿é•œå¤´çš„å…‰è½´ä¸å†ç©¿è¿‡å›¾åƒçš„æ­£ä¸­é—´ã€‚å†…å‚çŸ©é˜µä¸€èˆ¬æ˜¯å¦‚ä¸‹å½¢å¼ï¼š<span class="math display">\[\begin{pmatrix} f_x &amp; 0 &amp; c_x \\ 0 &amp; f_y &amp; c_y \\ 0&amp;0&amp;1 \end{pmatrix}\]</span>å…¶ä¸­<span class="math inline">\(f_x,f_y\)</span>è¡¨ç¤º<span class="math inline">\(u,v\)</span>è½´çš„ç¼©æ”¾ï¼Œ<span class="math inline">\(c_x,c_y\)</span>è¡¨ç¤ºåŸç‚¹å¹³ç§»çš„è·ç¦»ã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>è¦çŸ¥é“æ•°æ®åœ¨å—åˆ°å™ªå£°å½±å“åä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ï¼Œé€šå¸¸ä¼šå‡è®¾ä¸¤ä¸ªå™ªå£°é¡¹<span class="math inline">\(\pmb{w}_k,\pmb{v}_{k,j}\)</span>ï¼Œä½¿å…¶æ»¡è¶³é›¶å‡å€¼çš„é«˜æ–¯åˆ†å¸ƒï¼Œå³ï¼š<span class="math display">\[\pmb{w}_k\sim N(0,\pmb{R}_k)\quad \pmb{v}_k\sim N(0,\pmb{Q}_{k,j})\]</span>å…¶ä¸­<span class="math inline">\(\pmb{R}_k,\pmb{Q}_{k,j}\)</span>ä¸ºåæ–¹å·®çŸ©é˜µã€‚ é€šè¿‡å¸¦å™ªå£°çš„æ•°æ®<span class="math inline">\(\pmb{z}\)</span>å’Œ<span class="math inline">\(\pmb{u}\)</span>æ¥æ¨æ–­ä½å§¿<span class="math inline">\(\pmb{x}\)</span>å’Œåœ°å›¾<span class="math inline">\(\pmb{y}\)</span>ï¼ˆåŠå…¶æ¦‚ç‡åˆ†å¸ƒï¼‰ï¼Œæ„æˆä¸€ä¸ªçŠ¶æ€ä¼°è®¡é—®é¢˜ï¼Œå³ï¼š<span class="math display">\[P(\pmb{x},\pmb{y}|\pmb{z},\pmb{u})\]</span>ç”¨è´å¶æ–¯æ³•åˆ™ä¸ºï¼š<span class="math display">\[P(\pmb{x},\pmb{y}|\pmb{z},\pmb{u})=\frac{P(\pmb{z},\pmb{u}|\pmb{x},\pmb{y})P(\pmb{x},\pmb{y})}{P(\pmb{z},\pmb{u})}\varpropto P(\pmb{z},\pmb{u}|\pmb{x},\pmb{y})P(\pmb{x},\pmb{y})\]</span>è¿™å°±æ˜¯ä¸€ä¸ªæ±‚MAPçš„é—®é¢˜ï¼š<span class="math display">\[(\pmb{x},\pmb{y})^*_{MAP}=arg\max P(\pmb{x},\pmb{y}|\pmb{z},\pmb{u}) = arg\max P(\pmb{z},\pmb{u}|\pmb{x},\pmb{y})P(\pmb{x},\pmb{y})\]</span>å¦‚æœæˆ‘ä»¬ä¸çŸ¥é“å…ˆéªŒçš„è¯ï¼Œå°±å˜æˆäº†æ±‚MLEçš„é—®é¢˜ï¼Œå³ï¼š<span class="math display">\[(\pmb{x},\pmb{y})^*_{MLE}=arg\max P(\pmb{z},\pmb{u}|\pmb{x},\pmb{y})\]</span>æ ¹æ®ä¸Šé¢ï¼Œæˆ‘ä»¬å‡è®¾äº†å™ªå£°é¡¹ä¸ºé›¶å‡å€¼çš„é«˜æ–¯åˆ†å¸ƒï¼Œæ‰€ä»¥è§‚æµ‹æ•°æ®çš„æ¡ä»¶æ¦‚ç‡ä¸ºï¼š<span class="math display">\[P(\pmb{z}_{j,k}|\pmb{x}_k,\pmb{y}_j)=N(h(\pmb{y}_j,\pmb{x}_k),\pmb{Q}_{k,j})\]</span>(å‰æï¼šè§‚æµ‹æ˜¯é«˜æ–¯åˆ†å¸ƒçš„) ç„¶åå°±æ˜¯å¸¸è§çš„å±•å¼€å–è´Ÿå¯¹æ•°ï¼Œæ±‚æœ€å¤§å˜æˆæ±‚æœ€å°ï¼š<span class="math display">\[-\ln(P(\pmb{x}))=\frac{1}{2}\ln((2\pi)^N\det(\Sigma))+\frac{1}{2}(\pmb{x}-\pmb{\mu})^T\Sigma^{-1}(\pmb{x}-\pmb{\mu})\]</span>å³è¾¹ç¬¬ä¸€é¡¹ä¸<span class="math inline">\(\pmb{x}\)</span>æ— å…³ï¼Œå°±ä¸ç”¨ç®¡äº†ï¼Œåªå…³æ³¨ç¬¬äºŒé¡¹é‚£ä¸ªäºŒæ¬¡å‹ã€‚ å°†SLAMçš„è§‚æµ‹æ¨¡å‹å¸¦å…¥å¾—ï¼š <span class="math display">\[\begin{aligned}
 (\pmb{x}_k,\pmb{y}_j)^* 
 &amp;= arg\max N(h(\pmb{y}_j,\pmb{x}_k),\pmb{Q}_{k,j})\\ 
 &amp;= arg\min ((\pmb{z}_{k,j}-h(\pmb{x}_k,\pmb{y}_j))^T\pmb{Q}^{-1}_{k,j}(\pmb{z}_{k,j}-h(\pmb{x}_k,\pmb{y}_j)))
  \end{aligned}\]</span> åœ¨å¤„ç†<strong>æ‰¹é‡</strong>æ•°æ®æ—¶æˆ‘ä»¬é€šå¸¸æ˜¯å‡è®¾å„ä¸ªæ—¶åˆ»çš„è¾“å…¥<span class="math inline">\(\pmb{u}\)</span>å’Œè§‚æµ‹<span class="math inline">\(\pmb{z}\)</span>ç›¸äº’ç‹¬ç«‹ï¼Œå³æ˜¯æœ‰ï¼š <span class="math display">\[P(z,u|x,y)=\prod_k P(u_k|x_{k-1},x_k)\prod_{k,j}P(z_{k,j}|x_k,y_j)\]</span>ç„¶åæˆ‘ä»¬å®šä¹‰ç›¸å…³è¯¯å·®ï¼Œè¿åŠ¨è¯¯å·®ä¸ºï¼š<span class="math display">\[e_{u,k}=x_k-f(x_{k-1},u_k)\]</span>è§‚æµ‹è¯¯å·®ä¸ºï¼š<span class="math display">\[e_{z,j,k}=z_{k,j}-h(x_k,y_j)\]</span>ç”¨è·Ÿä¸Šé¢åŒæ ·çš„æ–¹æ³•ä¹Ÿèƒ½å†™å‡º<span class="math inline">\(P(u_k|x_{k-1},x_{k})\)</span>çš„æœ€å°äºŒä¹˜è¡¨è¾¾å¼ã€‚ç°åœ¨æˆ‘ä»¬è¦è®©è¿™ä¸¤ä¸ªè¯¯å·®æœ€å°ï¼Œä½¿ç”¨è¯¯å·®å¹³æ–¹å’Œå®šä¹‰ä¸€ä¸ªcost functionï¼Œå¦‚ä¸‹ï¼š<span class="math display">\[\min J(x,y)=\sum_ke^T_{u,k}R^{-1}_ke_{u,k}+\sum_k\sum_je^T_{z,k,j}Q^{-1}_{k,j}e_{z,k,j}\]</span>è¿™å°±æ˜¯æˆ‘ä»¬è¦å¤„ç†çš„æœ€å°äºŒä¹˜é—®é¢˜ï¼Œå…¶å®å°±æ˜¯ä¸¤ä¸ªMLEç»“åˆã€‚è¿™ä¸ªæ˜æ˜¾æ˜¯éçº¿æ€§çš„æœ€å°äºŒä¹˜é—®é¢˜ï¼Œæ²¡æ³•ç›´æ¥è®¡ç®—ï¼Œç°ä»‹ç»ä»¥ä¸‹å‡ ç§è¿­ä»£æ–¹æ³•ã€‚</p>
<h1 id="éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜">éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜</h1>
<p>ç°è®¨è®ºæœ€å¹¿æ³›çš„æƒ…å†µï¼Œå³ä»¥<span class="math inline">\(f(x)\)</span>ä½œä¸ºäºŒä¹˜é¡¹ï¼Œæˆ‘ä»¬è¦è§£å†³ä»¥ä¸‹è¿™ä¸ªé—®é¢˜ï¼š<span class="math display">\[\min_{x}\frac{1}{2}||f(x)||^2 \quad x \in R^n \]</span>å½“å‡½æ•°<span class="math inline">\(f\)</span>å¾ˆç®€å•æ—¶ï¼Œç›´æ¥æ±‚å¯¼ç­‰äº0ï¼Œæ¯”è¾ƒå„ä¸ªæå€¼ç‚¹å³å¯ï¼›ä½†å½“<span class="math inline">\(f\)</span>å¾ˆå¤æ‚ï¼Œæ±‚å¯¼ä¸å®¹æ˜“è®¡ç®—æ—¶ï¼Œå¯ç”¨è¿­ä»£çš„æ–¹æ³•ã€‚ è¿­ä»£çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<ol type="1">
<li>ç»™å®šåˆå€¼<span class="math inline">\(x_0\)</span>ï¼›<br />
</li>
<li>å¯¹äºç¬¬<span class="math inline">\(k\)</span>æ¬¡è¿­ä»£ï¼Œå¯»æ‰¾ä¸€ä¸ªå¢é‡<span class="math inline">\(\Delta x_k\)</span>ï¼Œä½¿å¾—<span class="math inline">\(||f(x_k+\Delta x_k)||_2^2\)</span>è¾¾åˆ°æå°å€¼ï¼›<br />
</li>
<li>è‹¥<span class="math inline">\(\Delta x_k\)</span>è¶³å¤Ÿå°ï¼Œåˆ™åœæ­¢ï¼›<br />
</li>
<li>å¦åˆ™ï¼Œä»¤<span class="math inline">\(x_{k+1}=x_k+\Delta x_k\)</span>ï¼Œè¿”å›æ­¥éª¤2ã€‚</li>
</ol>
</blockquote>
<p>ç°åœ¨çš„é—®é¢˜æ˜¯å¦‚ä½•ç¡®å®šè¿™ä¸ªå¢é‡<span class="math inline">\(\Delta x_k\)</span>ã€‚</p>
<h2 id="ä¸€é˜¶-äºŒé˜¶æ¢¯åº¦æ³•">ä¸€é˜¶/ äºŒé˜¶æ¢¯åº¦æ³•</h2>
<p>è¿™å°±æ˜¯å¸¸è§çš„Gradient Descentã€‚ é¦–å…ˆæ ¹æ®æ³°å‹’å±•å¼€ï¼ˆå¯¹å¹³æ–¹å±•å¼€ï¼‰å¯å†™ä¸ºï¼š<span class="math display">\[||f(x+\Delta x)||^2_2 \approx ||f(x)||_2^2 + J(x)\Delta x+\frac{1}{2}\Delta x^TH\Delta x\]</span>å…¶ä¸­<span class="math inline">\(J,H\)</span>åˆ†åˆ«ä¸ºé›…å¯æ¯”å’Œæµ·æ£®çŸ©é˜µã€‚</p>
<h3 id="ä¸€é˜¶æœ€é€Ÿä¸‹é™æ³•steepest-method">ä¸€é˜¶ï¼ˆæœ€é€Ÿä¸‹é™æ³•ï¼ŒSteepest Methodï¼‰</h3>
<p>å³åªä¿ç•™ä¸€é˜¶æ¢¯åº¦ï¼š<span class="math display">\[\min_{\Delta x}||f(x)||_2^2+J\Delta x\]</span>å¢é‡æ–¹å‘ä¸º<span class="math inline">\(\Delta x^*=-J^T(x)\)</span>ï¼Œé€šå¸¸è¿˜è¦è®¡ç®—æ­¥é•¿ã€‚</p>
<h4 id="äºŒé˜¶ç‰›é¡¿æ³•">äºŒé˜¶ï¼ˆç‰›é¡¿æ³•ï¼‰</h4>
<p>å³åŒæ—¶ä¿ç•™ä¸€é˜¶å’ŒäºŒé˜¶ï¼š<span class="math display">\[\Delta x^8=arg\min ||f(x)||_2^2+J(x)\Delta x+\frac{1}{2}\Delta x^TH\Delta x\]</span>ä»¤ä¸Šå¼å…³äº<span class="math inline">\(\Delta x\)</span>çš„å¯¼æ•°ä¸º0åˆ™æœ‰ï¼š<span class="math display">\[H\Delta x=-J^T\]</span></p>
<h3 id="æ–¹æ³•åˆ†æä¼˜ç¼ºç‚¹">æ–¹æ³•åˆ†æï¼ˆä¼˜ç¼ºç‚¹ï¼‰</h3>
<p>æœ€é€Ÿä¸‹é™å’Œç‰›é¡¿è™½ç„¶ç›´è§‚ï¼Œä½†ä¸¤è€…å‡æœ‰ä¸€äº›ç¼ºç‚¹ï¼š</p>
<ol type="1">
<li>æœ€é€Ÿä¸‹é™æ³•ç”±äºè¿‡äºè´ªå©ªä¼šç¢°åˆ°zigzagé—®é¢˜ï¼Œå¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/c01029543cbd45a6bcab62e4cdc0bf10.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ¯æ¬¡è¿­ä»£å‡æ˜¯å¾€æ¢¯åº¦ä¸‹é™æœ€å¿«çš„æ–¹å‘è¿›è¡Œï¼Œå¯¹äºç®€å•çš„é—®é¢˜ä¾æ—§éœ€è¦å¾ˆå¤šæ¬¡è¿­ä»£æ‰èƒ½è¾¾åˆ°æœ€ä¼˜ç‚¹ã€‚</li>
<li>ç‰›é¡¿æ³•ç”±äºæ˜¯äºŒé˜¶çš„ï¼Œå¯ä»¥æ²¿ç€æ›²çº¿ç›´æ¥åˆ°æœ€ä¼˜ç‚¹ï¼Œä½†å´éœ€è¦è®¡ç®—å¤æ‚çš„æµ·æ£®çŸ©é˜µã€‚</li>
</ol>
<p>æ‰€ä»¥è¿™ä¸¤ç§æ–¹æ³•éƒ½ä¸å¤ªå®ç”¨ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥åœ¨ä¸è®¡ç®—æµ·æ£®çŸ©é˜µçš„å‰æä¸‹å®ç°äºŒé˜¶æ¢¯åº¦ï¼Œå°±æœ‰äº†ä»¥ä¸‹ä¸¤ç§æ–¹æ³•</p>
<h2 id="gauss-newton">Gauss-Newton</h2>
<p>ä¸€é˜¶è¿‘ä¼¼<span class="math inline">\(f(x)\)</span>ä¸ºï¼š<span class="math display">\[
f(x+\Delta x) \approx f(x)+J(x)\Delta x\]</span>å…¶å¹³æ–¹è¯¯å·®ä¸ºï¼š<span class="math display">\[
\begin{aligned}
\frac{1}{2}||f(x)+J(x)\Delta x||^2 &amp;=\frac{1}{2}(f(x)+J(x)\Delta x)^T(f(x)+J(x)\Delta x)\\&amp;=\frac{1}{2}(||f(x)||_2^2+2f(x)^TJ(x)\Delta x+\Delta x^TJ(x)^TJ(x)\Delta x)
\end{aligned}
\]</span>ä»¤å…¶å¯¹<span class="math inline">\(\Delta x\)</span>çš„å¯¼æ•°ä¸ºé›¶å¾—ï¼š<span class="math display">\[
2J(x)^Tf(x)+2J(x)^TJ(x)\Delta x=0
\]</span>å³ï¼š<span class="math display">\[
J(x)^TJ(x)\Delta x = -J(x)^Tf(x)
\]</span>æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå¼å­å†™ä¸ºï¼š<span class="math display">\[
H\Delta x=g
\]</span>ä¸ä¸Šé¢çš„äºŒé˜¶ï¼ˆç‰›é¡¿ï¼‰æ³•åšå¯¹æ¯”ï¼Œå¯ä»¥å‘ç°è¿™é‡Œå®é™…æ˜¯ç”¨<span class="math inline">\(J(x)^TJ(x)\)</span>è¿‘ä¼¼æµ·æ£®çŸ©é˜µã€‚ æ‰€ä»¥è¿™ä¸ªè¿­ä»£è¿‡ç¨‹å¯ä»¥å†™ä¸ºï¼š</p>
<blockquote>
<ol type="1">
<li>ç»™å®šåˆå§‹å€¼<span class="math inline">\(x_0\)</span>ï¼›</li>
<li>å¯¹äºç¬¬<span class="math inline">\(k\)</span>æ¬¡è¿­ä»£ï¼Œæ±‚å‡ºå½“å‰çš„é›…å¯æ¯”çŸ©é˜µ<span class="math inline">\(J(x_k)\)</span>å’Œè¯¯å·®<span class="math inline">\(f(x_k)\)</span>ï¼›</li>
<li>æ±‚è§£å¢é‡æ–¹ç¨‹ï¼š<span class="math inline">\(H\Delta x=g\)</span>ï¼Œå³<span class="math inline">\(\Delta x_k=H^{-1}g\)</span>ï¼›</li>
<li>è‹¥<span class="math inline">\(\Delta x_k\)</span>è¶³å¤Ÿå°ï¼Œåˆ™åœæ­¢ï¼Œå¦åˆ™ä»¤<span class="math inline">\(x_{k+1}=x_k+\Delta x_k\)</span>ï¼Œå¹¶è¿”å›æ­¥éª¤2ã€‚</li>
</ol>
</blockquote>
<p><strong>æ€»ç»“</strong>ï¼š ç”±äºæµ·æ£®çŸ©é˜µä¸å®¹æ˜“ç®—ï¼Œæ‰€ä»¥è¿™é‡Œç”¨é›…å¯æ¯”çš„å¹³æ–¹è¿‘ä¼¼æµ·æ£®çŸ©é˜µã€‚è¿™ç§æ–¹æ³•ç®€å•å®ç”¨ï¼Œä½†<span class="math inline">\(\Delta x_k=H^{-1}g\)</span>ä¸­æ— æ³•ä¿è¯<span class="math inline">\(H\)</span>å¯é€†ï¼ˆäºŒæ¬¡è¿‘ä¼¼ä¸å¯é ï¼‰ã€‚ ç„¶åLevenberg_Marquadtæ–¹æ³•åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ”¹å–„äº†å®ƒã€‚</p>
<h2 id="levenberg_marquadt">Levenberg_Marquadt</h2>
<p>ä¸G-Næ–¹æ³•ä¸åŒï¼Œè¿™é‡Œå¼•è¿›äº†ä¸€ä¸ªå‚è€ƒå€¼ï¼Œæˆ–è€…è¯´åŒºåŸŸï¼Œç”¨äºæè¿°è¿‘ä¼¼ç¨‹åº¦ï¼š<span class="math display">\[
\rho=\frac{f(x+\Delta x)-f(x)}{J(x)\Delta x}
\]</span>è¿™ä¸ªå¼å­å¯ä»¥ç†è§£ä¸ºï¼š<strong>å®é™…ä¸‹é™ / è¿‘ä¼¼ä¸‹é™</strong>ï¼Œè‹¥å¤ªå¤§ï¼Œåˆ™å‡å°è¿‘ä¼¼èŒƒå›´ï¼Œè‹¥å¤ªå°ï¼Œåˆ™å¢åŠ è¿‘ä¼¼èŒƒå›´ã€‚ å…¶è¿­ä»£è¿‡ç¨‹å¯ä»¥æè¿°ä¸ºï¼š</p>
<blockquote>
<ol type="1">
<li>ç»™å®šåˆå§‹å€¼<span class="math inline">\(x_0\)</span>ä»¥åŠåˆå§‹ä¼˜åŒ–åŠå¾„<span class="math inline">\(\mu\)</span>ï¼›</li>
<li>å¯¹äºç¬¬<span class="math inline">\(k\)</span>æ¬¡è¿­ä»£ï¼Œæ±‚è§£ï¼š<span class="math display">\[\min_{\Delta x_k}\frac{1}{2}||f(x_k)+J(x_k)\Delta x_k||^2, \quad s.t. ||D\Delta x_k||^2\le\mu\]</span>è¿™é‡Œ<span class="math inline">\(\mu\)</span>æ˜¯ä¿¡èµ–åŒºåŸŸçš„åŠå¾„ï¼Œ<span class="math inline">\(D\)</span>çš„è¯å¯ä»¥ç†è§£ä¸ºå½¢çŠ¶å‚æ•°ï¼Œå½“<span class="math inline">\(D=1\)</span>æ—¶ï¼Œè¡¨ç¤ºå–ä¸€ä¸ªçƒï¼Œåæ¥æ™®éä»¤<span class="math inline">\(D\)</span>å–éè´Ÿå¯¹è§’çŸ©é˜µï¼Œè¡¨ç¤ºæ¤­çƒã€‚</li>
<li>è®¡ç®—<span class="math inline">\(\rho\)</span>ï¼›</li>
<li>è‹¥<span class="math inline">\(\rho&gt;\frac{3}{4}\)</span>ï¼Œåˆ™<span class="math inline">\(\mu=2\mu\)</span>ï¼›</li>
<li>è‹¥<span class="math inline">\(\rho&lt;\frac{1}{4}\)</span>ï¼Œåˆ™<span class="math inline">\(\mu=0.5\mu\)</span>ï¼›ï¼ˆè¿™ä¸¤ä¸ªéƒ½æ˜¯ç»éªŒå€¼ï¼‰</li>
<li>å¦‚æœ<span class="math inline">\(\rho\)</span>å¤§äºæŸä¸ªé˜ˆå€¼ï¼Œè®¤ä¸ºè¿‘ä¼¼å¯è¡Œï¼Œä»¤<span class="math inline">\(x_{k+1}=x_k+\Delta x_k\)</span></li>
<li>åˆ¤æ–­ç®—æ³•æ˜¯å¦æ”¶æ•›ï¼Œå¦‚æœä¸æ”¶æ•›åˆ™è¿”å›æ­¥éª¤2ï¼Œå¦åˆ™ç»“æŸã€‚</li>
</ol>
</blockquote>
<p>æœ€åï¼Œåœ¨ä¸Šé¢çš„æ­¥éª¤ä¸­è¿˜å‰©ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ç¬¬äºŒæ­¥çš„å¸¦çº¦æŸçš„ä¼˜åŒ–é—®é¢˜ï¼Œä¾æ—§ç”¨æ‹‰æ ¼æœ—æ—¥è¿›è¡Œè®¡ç®—å³å¯ï¼š<span class="math display">\[
\min_{\Delta x_k}\frac{1}{2}||f(x_k)+J(x_k)\Delta x_k||^2+\frac{\lambda}{2}||D\Delta x||^2
\]</span>å‚ç…§G-Nå±•å¼€ï¼Œå¢é‡æ–¹ç¨‹ä¸ºï¼š<span class="math display">\[
(H+\lambda D^TD)\Delta x=g 
\]</span>åœ¨Levenbergæ–¹æ³•ä¸­ï¼Œå–<span class="math inline">\(D=I\)</span>ï¼Œåˆ™ï¼š<span class="math display">\[(H+\lambda I)\Delta x=g\]</span>è¿™é‡Œçš„<span class="math inline">\(H\)</span>ä¾æ—§æ˜¯<span class="math inline">\(J(x)^TJ(x)\)</span>ã€‚ å¯¹æ¯”G-Næ–¹æ³•ï¼Œè¿™é‡Œå‰é¢åŠ ä¸Šäº†ä¸€é¡¹ï¼Œç›¸å½“äºåœ¨G-Næ–¹æ³•çš„åŸºç¡€ä¸Šå¢å¼ºäº†<span class="math inline">\(H\)</span>çš„æ­£å®šæ€§ã€‚</p>
<h2 id="g-n-å’Œ-l-mçš„å¯¹æ¯”">G-N å’Œ L-Mçš„å¯¹æ¯”</h2>
<blockquote>
<ol type="1">
<li>G-Næ–¹æ³•å±äºçº¿æ€§æœç´¢æ–¹æ³•ï¼šå…ˆæ‰¾åˆ°æ–¹å‘ï¼Œå†ç¡®å®šé•¿åº¦ï¼›<br />
</li>
<li>L-Mæ–¹æ³•å±äºä¿¡èµ–åŒºåŸŸæ–¹æ³•ï¼ˆTrust Regionï¼‰ï¼Œè®¤ä¸ºè¿‘ä¼¼åªåœ¨åŒºåŸŸå†…å¯é ã€‚<br />
</li>
<li>LMç›¸æ¯”äºGNï¼Œèƒ½å¤Ÿä¿è¯å¢é‡æ–¹ç¨‹çš„æ­£å®šæ€§ï¼Œå³è®¤ä¸ºè¿‘ä¼¼åªåœ¨ä¸€å®šèŒƒå›´å†…æˆç«‹ï¼Œå¦‚æœè¿‘ä¼¼ä¸å¥½åˆ™ç¼©å°èŒƒå›´ã€‚æ”¶æ•›èƒ½å¤Ÿæ›´å¥½ä¸€ç‚¹ã€‚<br />
</li>
<li>ä»å¢é‡æ–¹ç¨‹ä¸Šæ¥çœ‹ï¼Œå¯ä»¥çœ‹æˆä¸€é˜¶å’ŒäºŒé˜¶çš„æ··åˆï¼Œå‚æ•°<span class="math inline">\(\lambda\)</span>æ§åˆ¶ä¸¤è¾¹çš„æƒé‡ã€‚ä»¥<span class="math display">\[(H+\lambda I)\Delta x=g\]</span>ä¸ºä¾‹ï¼Œå»æ‰<span class="math inline">\(H\)</span>åˆ™å˜æˆä¸€é˜¶çš„ï¼Œå»æ‰<span class="math inline">\(\lambda\)</span>é¡¹åˆ™å˜æˆäºŒé˜¶çš„ã€‚<br />
</li>
<li>ä¸€èˆ¬æ¥è¯´ï¼ŒLMçš„è®¡ç®—é‡ä¼šæ¯”GNå¤§ä¸€äº›ï¼Œä½†æ”¶æ•›æ€§ä¹Ÿæ›´å¥½ã€‚æ‰€ä»¥ç®€å•çš„æƒ…å†µç”¨GNï¼Œå¤æ‚çš„ç”¨LMã€‚</li>
</ol>
</blockquote>
<p><strong><em>æ³¨ï¼šæœ¬æ–‡å‚è€ƒè‡ªã€Šè§†è§‰SLAMåå››è®²ã€‹</em></strong></p>
]]></content>
      <categories>
        <category>è§†è§‰SLAMç›¸å…³</category>
      </categories>
  </entry>
  <entry>
    <title>ã€å­¦ä¹ éšè®°ã€‘æ—¶é—´ç©ºé—´å¤æ‚åº¦</title>
    <url>/posts/14.html</url>
    <content><![CDATA[<h1 id="æ—¶é—´å¤æ‚åº¦">æ—¶é—´å¤æ‚åº¦</h1>
<p>å¸¸ç”¨çš„æ—¶é—´å¤æ‚åº¦æœ‰7ç§ï¼š <span id="more"></span></p>
<blockquote>
<ol type="1">
<li>å¸¸æ•°æ—¶é—´å¤æ‚åº¦ï¼›<span class="math inline">\(O(1)\)</span><br />
</li>
<li>å¯¹æ•°æ—¶é—´å¤æ‚åº¦ï¼›<span class="math inline">\(O(\log n)\)</span><br />
</li>
<li>çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼›<span class="math inline">\(O(n)\)</span><br />
</li>
<li>å¹³æ–¹æ—¶é—´å¤æ‚åº¦ï¼›<span class="math inline">\(O(n^2)\)</span><br />
</li>
<li>ç«‹æ–¹æ—¶é—´å¤æ‚åº¦ï¼›<span class="math inline">\(O(n^3)\)</span><br />
</li>
<li>æŒ‡æ•°æ—¶é—´å¤æ‚åº¦ï¼›<span class="math inline">\(O(2^n)\)</span><br />
</li>
<li>é˜¶ä¹˜æ—¶é—´å¤æ‚åº¦ï¼›<span class="math inline">\(O(n!)\)</span></li>
</ol>
</blockquote>
<p><strong>æ³¨ï¼šä»ä¸Šåˆ°ä¸‹æ—¶é—´å¤æ‚åº¦è¶Šæ¥è¶Šå¤§</strong> å¸¸è§„çš„æ—¶é—´å¤æ‚åº¦éƒ½å®¹æ˜“åˆ†æï¼Œéº»çƒ¦çš„æ˜¯é€’å½’ï¼Œé‡åˆ°é€’å½’æ—¶ä¸€èˆ¬éœ€è¦æŠŠçŠ¶æ€æ ‘ç”»å‡ºæ¥ã€‚æ¯”å¦‚è¯´ä»£ç æ˜¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(n&lt;<span class="number">2</span>)	<span class="keyword">return</span> n;</span><br><span class="line">	<span class="keyword">return</span> fib(n-<span class="number">1</span>) + fib(n-<span class="number">2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“è¾“å…¥ä¸º6æ—¶ï¼ŒçŠ¶æ€æ ‘ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/img_convert/d621cf89d64f72fc092eb1f2982c68bc.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç»“æœæ˜¯<span class="math inline">\(O(2^n)\)</span>ï¼Œåˆ†æå°±å¾ˆéº»çƒ¦ã€‚</p>
<p>å¯¹äºé€’å½’ï¼Œå¸¸è§çš„æƒ…å†µæœ‰4ç§</p>
<blockquote>
<ol type="1">
<li>äºŒåˆ†æŸ¥æ‰¾<br />
â€ƒ åœ¨æœ‰åºæ•°åˆ—ä¸­æŸ¥æ‰¾ç›®æ ‡æ•°ï¼Œæ¯æ¬¡æŸ¥æ‰¾éƒ½ä¸€åˆ†ä¸ºäºŒï¼Œæœ€åæ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(\log n)\)</span>ã€‚<br />
</li>
<li>äºŒå‰æ ‘éå†<br />
â€ƒè™½ç„¶æ¯æ¬¡ä¹Ÿéƒ½ä¸€åˆ†ä¸ºäºŒï¼Œä½†æ¯è¾¹éƒ½å·²ç›¸åŒçš„æ—¶é—´å¤æ‚åº¦ç»§ç»­ä¸‹å»ï¼Œæˆ–è€…è¯´ï¼ŒäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¸”ä»…éå†ä¸€æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(n)\)</span>ã€‚æ¯”å¦‚äºŒå‰æ ‘çš„å‰ï¼Œä¸­ï¼Œååºéå†ï¼Œéƒ½æ˜¯çº¿æ€§å¤æ‚åº¦ã€‚<br />
</li>
<li>æœ‰åºçš„äºŒç»´çŸ©é˜µæŸ¥æ‰¾<br />
â€ƒ æ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(n)\)</span>ã€‚<br />
</li>
<li>å½’å¹¶æ’åº<br />
â€ƒ æ—¶é—´å¤æ‚åº¦æ˜¯<span class="math inline">\(O(n\log n)\)</span></li>
</ol>
</blockquote>
<p>å…³äºå…·ä½“çš„æ•°å­¦æ¨å¯¼çš„è¯å‚çœ‹é“¾æ¥: <a href="https://www.zhihu.com/question/21387264">æ•°å­¦æ¨å¯¼</a></p>
<p>å…³äºä¸»å®šç†çš„è¯ï¼Œå‚çœ‹è¿™ä¸ªï¼š<a href="https://zh.wikipedia.org/wiki/%E4%B8%BB%E5%AE%9A%E7%90%86">ä¸»å®šç†</a></p>
<h1 id="ç©ºé—´å¤æ‚åº¦">ç©ºé—´å¤æ‚åº¦</h1>
<p>è¿™ä¸ªå°±æ¯”æ—¶é—´å¤æ‚åº¦å–„è‰¯å¾ˆå¤šï¼Œä¸€èˆ¬å°±è€ƒè™‘ä¸¤ç§æƒ…å†µï¼š</p>
<blockquote>
<ol type="1">
<li>æ–°å¼€æ•°ç»„çš„é•¿åº¦<br />
</li>
<li>é€’å½’çš„æ·±åº¦ è‹¥é€’å½’é‡Œæ–°å¼€æ•°ç»„ï¼Œæˆ‘ä»¬å°±è€ƒè™‘å¤§çš„é‚£ä¸ªå¤æ‚åº¦å°±è¡Œã€‚</li>
</ol>
</blockquote>
]]></content>
      <categories>
        <category>å­¦ä¹ éšè®°</category>
      </categories>
  </entry>
  <entry>
    <title>æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰</title>
    <url>/posts/13.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>å¯¹äºä¸Šä¸€ç¯‡æåˆ°çš„é£é™©ï¼ˆRiskï¼‰ï¼š<span class="math display">\[R(w)\leq R_{emp}(w)+\epsilon(N,p^*,h)\]</span>å…¶ä¸­<span class="math inline">\(N\)</span>æ˜¯è®­ç»ƒæ•°æ®é‡ï¼Œ<span class="math inline">\(p^*\)</span>æ˜¯åˆ°è¾¾è¾¹ç•Œçš„æ¦‚ç‡ï¼Œ<span class="math inline">\(h\)</span>æ˜¯VCç»´åº¦ã€‚ <span id="more"></span><br />
ä¸ºäº†æœ€å°åŒ–é£é™©ï¼Œç»å…¸çš„æœºå™¨å­¦ä¹ ç®—æ³•æ˜¯ï¼š</p>
<blockquote>
<p>å›ºå®š<span class="math inline">\(\epsilon(...)\)</span>ï¼Œæœ€å°åŒ–ç»éªŒé£é™©<span class="math inline">\(R_{emp}\)</span><br />
å…¶ä¸­<span class="math inline">\(\epsilon(...)\)</span>æ˜¯é€šè¿‡ä¿è¯ä¸€äº›æ¨¡å‹å‚æ•°ä¸å˜ä»¥å›ºå®šçš„ï¼Œæ¯”å¦‚è¯´ç¥ç»ç½‘ç»œçš„éšè—å±‚æ•°é‡ã€‚</p>
</blockquote>
<p>æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰çš„åšæ³•åˆ™æ˜¯ï¼š</p>
<blockquote>
<p>ä¿è¯<span class="math inline">\(R_{emp}(w)\)</span>å›ºå®šä»¥æœ€å°åŒ–<span class="math inline">\(\epsilon\)</span><br />
å½“æ•°æ®å¯åˆ†æ—¶ï¼Œ<span class="math inline">\(R_{emp}(w)=0\)</span>ã€‚<br />
é€šè¿‡æ”¹å˜VCç»´åº¦ä»¥æ§åˆ¶<span class="math inline">\(\epsilon\)</span>ã€‚</p>
</blockquote>
<p>æ”¯æŒå‘é‡æœºä¸€èˆ¬åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<blockquote>
<ol type="1">
<li>çº¿æ€§å¯åˆ†æ”¯æŒå‘é‡æœºï¼ˆlinear support vector machine in linearly separable case ï¼‰ï¼Œé‡‡ç”¨çš„æ–¹æ³•æ˜¯ç¡¬é—´éš”æœ€å¤§åŒ–ï¼ˆhard margin maximizationï¼‰</li>
<li>çº¿æ€§æ”¯æŒå‘é‡æœºï¼ˆlinear supportvector machineï¼‰ï¼Œæ˜¯æŒ‡è®­ç»ƒæ•°æ®è¿‘ä¼¼çº¿æ€§å¯åˆ†æ—¶ï¼Œé‡‡ç”¨çš„æ–¹æ³•æ˜¯è½¯é—´éš”æœ€å¤§åŒ–ï¼ˆsoft margin maximizationï¼‰</li>
<li>éçº¿æ€§æ”¯æŒå‘é‡æœºï¼ˆnon-linear support vector machineï¼‰ï¼Œæ˜¯æŒ‡è®­ç»ƒæ•°æ®çº¿æ€§ä¸å¯åˆ†æ—¶ï¼Œé‡‡ç”¨æ ¸æŠ€å·§ï¼ˆkernel trickï¼‰åŠè½¯é—´éš”æœ€å¤§åŒ–</li>
</ol>
</blockquote>
<p>å¯¹äºäºŒåˆ†ç±»é—®é¢˜ï¼š</p>
<blockquote>
<p>è¾“å…¥ç©ºé—´ï¼šæ¬§å¼ç©ºé—´æˆ–ç¦»æ•£é›†åˆ<br />
ç‰¹å¾ç©ºé—´ï¼šæ¬§å¼ç©ºé—´æˆ–å¸Œå°”ä¼¯ç‰¹ç©ºé—´</p>
</blockquote>
<p>çº¿æ€§å¯åˆ†æ”¯æŒå‘é‡æœºã€çº¿æ€§æ”¯æŒå‘é‡æœºï¼š</p>
<blockquote>
<p>å‡è®¾è¿™ä¸¤ä¸ªç©ºé—´çš„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œå¹¶å°†è¾“å…¥ç©ºé—´ä¸­çš„è¾“å…¥æ˜ å°„ä¸ºç‰¹å¾ç©ºé—´ä¸­çš„ç‰¹å¾å‘é‡ï¼›</p>
</blockquote>
<p>éçº¿æ€§æ”¯æŒå‘é‡æœºï¼š</p>
<blockquote>
<p>åˆ©ç”¨ä¸€ä¸ªä»è¾“å…¥ç©ºé—´åˆ°ç‰¹å¾ç©ºé—´çš„éçº¿æ€§æ˜ å°„å°†è¾“å…¥æ˜ å°„ä¸ºç‰¹å¾å‘é‡ï¼›</p>
</blockquote>
<p><strong>æ”¯æŒå‘é‡æœºçš„å­¦ä¹ æ˜¯åœ¨ç‰¹å¾ç©ºé—´è¿›è¡Œçš„</strong>ã€‚</p>
<p>ï¼ˆè¿™ç¯‡ä¼šæœ‰ä¸å°‘è¡¥å……æ¨å¯¼ï¼Œè¿™äº›è¿‡ç¨‹å…¶å®çœ‹ä¸çœ‹éƒ½æ²¡äº‹ï¼Œä¸æƒ³çœ‹çš„è¯å°±ç›´æ¥è®°ç»“è®ºã€‚çœ‹äº†ï¼Œèƒ½å‡å°‘å­¦ä¹ è¿‡ç¨‹ä¸­çš„ç–‘æƒ‘ï¼Œä¸çœ‹ï¼Œä¹Ÿä¸ä¼šå¯¹SVMçš„ç†è§£äº§ç”Ÿå¤§çš„å½±å“ï¼‰</p>
<h1 id="çº¿æ€§svm">çº¿æ€§SVM</h1>
<h2 id="ç¡¬é—´éš”æœ€å¤§åŒ–">ç¡¬é—´éš”æœ€å¤§åŒ–</h2>
<p>ç›´ç™½åœ°è¯´ï¼Œå°±æ˜¯æ‰¾ä¸€ä¸ªï¼ˆè¶…ï¼‰å¹³é¢ï¼Œä½¿å…¶è·ç¦»æœ€è¿‘æ•°æ®ç‚¹çš„è·ç¦»æœ€å¤§ï¼Œå°±æ˜¯æœ€å¤§åŒ–ä¸‹å›¾è¿™ä¸ª<span class="math inline">\(margin\)</span>ã€‚ <img src="https://img-blog.csdnimg.cn/2021072008164997.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¸ºäº†æœ€å¤§åŒ–è¿™ä¸ªmarginï¼Œæˆ‘ä»¬é¦–å…ˆè¦æ‰¾åˆ°ä¸€ä¸ªè¶…å¹³é¢ï¼Œä½¿æ•°æ®å¾—åˆ°çº¿æ€§åˆ†ç¦»ï¼š<span class="math display">\[y_i(\pmb{w}^T\pmb{x}_i+b)\ge1 \quad \forall i\]</span>å¹¶ä¸”è®©è‡³å°‘ä¸€ä¸ªç‚¹æ»¡è¶³<span class="math inline">\(y_i(\pmb{w}^T\pmb{x}_i+b)=1\)</span>ã€‚ ç„¶åè¿™ä¸ªé—´éš”å°±æ˜¯<span class="math inline">\(\frac{1}{||w||}\)</span>ã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>è¡¥å……1</p>
<p><strong>ä¸Šé¢çš„ï¼ˆä¸ï¼‰ç­‰å¼æ€ä¹ˆæ¥çš„ï¼Œè¿™é‡Œçš„1åˆæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆé—´éš”ä¼šæ˜¯è¿™ä¸ªï¼Ÿ</strong> æˆ‘ä»¬è¦æ‰¾åˆ°æœ€å¤§é—´éš”åˆ†ç±»å™¨ï¼Œå°±æ˜¯è¦æ‰¾ä¸€ä¸ªåˆé€‚çš„å‚æ•°<span class="math inline">\(w,b\)</span>ï¼Œä½¿å…¶æ»¡è¶³ï¼š<span class="math display">\[\max margin(w,b)\]</span> <span class="math display">\[s.t.\quad y_i(\pmb{w}^T\pmb{x}_i+b)&gt;0\]</span>ç¨å¾®è§£é‡Šä¸€ä¸‹è¿™ä¸ªçº¦æŸæ¡ä»¶ï¼šè¿™é‡Œæœ‰ä¸ªå‰ææ˜¯æˆ‘ä»¬å·²ç»æŠŠæ•°æ®åˆ†ç±»å¥½äº†ï¼Œå› ä¸ºçº¿æ€§å¯åˆ†ï¼Œå…¶ç»éªŒé£é™©ä¸º0ï¼Œ<span class="math inline">\(y_i\)</span>ä¸æ‹¬å·é‡Œçš„å¼å­åŒå·ï¼Œç›¸ä¹˜å¤§äº0ã€‚ å†å¤šè¯´ä¸€ç‚¹ï¼Œç‚¹åˆ°è¶…å¹³é¢çš„è·ç¦»è¡¨ç¤ºåˆ†ç±»é¢„æµ‹çš„ç¡®ä¿¡ç¨‹åº¦ï¼Œ<span class="math inline">\(w^Tx+b\)</span>ä¸æ ‡ç­¾ç¬¦å·æ˜¯å¦ä¸€è‡´è¡¨ç¤ºåˆ†ç±»çš„å‡†ç¡®æ€§ï¼Œæ‰€ä»¥<span class="math inline">\(y(w^Tx+b)\)</span>è¡¨ç¤ºåˆ†ç±»çš„æ­£ç¡®æ€§å’Œç¡®ä¿¡åº¦ã€‚ è¿™é‡Œå®šä¹‰ä¸€ä¸‹è¿™ä¸ª<span class="math inline">\(margin\)</span>å‡½æ•°å¦‚ä¸‹ï¼š<span class="math display">\[margin(w,b)=\min\limits_{w,b,x_i,i=1...N} distant(w,b,x_i)\]</span>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦æ‰¾åˆ°è·ç¦»ï¼ˆè¶…ï¼‰å¹³é¢æœ€è¿‘çš„é‚£ä¸ªç‚¹æ‰€å¯¹åº”çš„è·ç¦»ã€‚ ç„¶åç‚¹åˆ°ï¼ˆè¶…ï¼‰å¹³é¢çš„è·ç¦»ä¸ºï¼ˆè·ç¦»å…¬å¼ä¹‹å‰é‚£ç¯‡åˆ†ç±»é—®é¢˜é‡Œæœ‰ç”¨åˆ°ï¼‰ï¼š<span class="math display">\[distant=\frac{1}{||\pmb{w}||}|\pmb{w}^Tx_i+b|\]</span>ä¹Ÿå°±æ˜¯è¯´ï¼Œé—´éš”å…¬å¼å¯ä»¥å†™ä¸ºï¼š<span class="math display">\[margin(w,b)=\min\limits_{w,b,x_i,i=1...N} \frac{1}{||\pmb{w}||}|\pmb{w}^Tx_i+b|\]</span>å³æ˜¯è¯´ï¼Œæœ€ä¸Šé¢æˆ‘ä»¬è¦å¤„ç†çš„é—®é¢˜å°±å˜ä¸ºï¼š<span class="math display">\[\max\limits_{w,b} \min\limits_{x_i,i=1...N}\frac{1}{||\pmb{w}||}|\pmb{w}^Tx_i+b|\]</span> <span class="math display">\[s.t.\quad y_i(\pmb{w}^T\pmb{x}_i+b)&gt;0\]</span>å› ä¸ºç»å¯¹å€¼ç¬¦å·æœ‰ç‚¹ç¢çœ¼ï¼Œæ ¹æ®å…¶çº¦æŸæ¡ä»¶æˆ‘ä»¬å¯ä»¥å°†å…¶æ”¹å†™æˆï¼š<span class="math display">\[\max\limits_{w,b} \min\limits_{x_i,i=1...N}\frac{1}{||\pmb{w}||}y_i(\pmb{w}^Tx_i+b)\]</span>å› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯æœ€å¤§å€¼å¯¹åº”çš„å‚æ•°ï¼Œæ‰€ä»¥è¿™é‡ŒåŠ ä¸ªç³»æ•°ä¹Ÿæ— æ‰€è°“ï¼ˆæˆ–è®¸è¿™é‡Œå†™æˆ<span class="math inline">\(argmax\)</span>ä¹‹ç±»çš„ä¼šæ›´å¥½ç†è§£ï¼Ÿï¼‰ã€‚<br />
ç»§ç»­æ”¹å†™ï¼<br />
å‰é¢é‚£ä¸ª<span class="math inline">\(\frac{1}{||\pmb{w}||}\)</span>è·Ÿ<span class="math inline">\(\min\)</span>æ— å…³ï¼Œæ‰€ä»¥å¯ä»¥å‰ç§»ï¼Œç„¶åå¯¹äºçº¦æŸæ¡ä»¶ï¼Œå› ä¸ºå·¦å¼å¤§äº0ï¼Œæ‰€ä»¥æˆ‘ä»¬è‚¯å®šèƒ½æ‰¾åˆ°ä¸€ä¸ª<span class="math inline">\(\gamma\)</span>ï¼Œä½¿å·¦å¼æœ€å°å€¼ç­‰äº<span class="math inline">\(\gamma\)</span>ï¼Œå³æ˜¯ï¼š<span class="math display">\[\max\limits_{w,b} \frac{1}{||\pmb{w}||}\min\limits_{x_i,i=1...N}y_i(\pmb{w}^Tx_i+b)\]</span> <span class="math display">\[s.t.\quad \exists \gamma   \min\limits_{x_i,y_i,i=1,...,N} y_i(\pmb{w}^T\pmb{x}_i+b)=\gamma\]</span> ä»¤<span class="math inline">\(\gamma=1\)</span>ï¼Œå°†çº¦æŸæ¡ä»¶å¸¦å…¥æˆ‘ä»¬è¦å¤„ç†çš„å¼å­ï¼Œå°±å¯ä»¥å†™æˆï¼š<span class="math display">\[\max\limits_{w,b} \frac{1}{||\pmb{w}||}\]</span> <span class="math display">\[s.t.\quad   \min\limits_{x_i,y_i,i=1,...,N} y_i(\pmb{w}^T\pmb{x}_i+b)=1\]</span> ä¸ºä»€ä¹ˆè¿™é‡Œå¯ä»¥è®©<span class="math inline">\(\gamma=1\)</span>å‘¢ï¼Ÿå› ä¸ºè¿™ç›¸å½“äºè¶…å¹³é¢çš„ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œå–1åªæ˜¯ä¸ºäº†æ–¹ä¾¿è®¡ç®—è€Œå·²ï¼Œè¦æœ‰é—²æƒ…é€¸è‡´çš„è¯ï¼Œå–ä¸ª3.1415926éƒ½è¡Œã€‚<br />
ç»§ç»­æ”¹å†™çº¦æŸæ¡ä»¶!<br />
è¿™ä¸ªæœ€å°å€¼çš„ç­‰å¼æˆ‘ä»¬å¯ä»¥ç”¨ä¸ç­‰å¼ä»£æ›¿ï¼Œç„¶åè¿™ä¸ªæ±‚æœ€å¤§å€¼çš„æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨æœ€å°å€¼ä»£æ›¿ï¼Œåˆ†å­åˆ†æ¯æ¢ä½è€Œå·²ï¼Œå³ï¼š<span class="math display">\[arg\min\limits_{w,b} \frac{1}{2}w^Tw\]</span> <span class="math display">\[s.t.\quad   y_i(\pmb{w}^T\pmb{x}_i+b)\ge1 \quad for \quad \forall i=1,...,N\]</span>è¿™é‡Œä¹˜ä¸Š<span class="math inline">\(\frac{1}{2}\)</span>ï¼ŒåˆæŠŠæ ¹å·å»æ‰ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿åé¢è®¡ç®—ï¼Œæ¯•ç«Ÿæˆ‘ä»¬è¦çš„æ˜¯<span class="math inline">\(w,b\)</span>ï¼Œä¸è¦æ±‚è®¡ç®—å®é™…æœ€å¤§å€¼ï¼Œæ‰€ä»¥è¿™æ— æ‰€è°“ã€‚è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜ï¼šæœ‰<span class="math inline">\(N\)</span>ä¸ªçº¦æŸæ¡ä»¶ï¼Œç›®æ ‡å‡½æ•°æ˜¯äºŒæ¬¡çš„ã€‚<br />
è‡³æ­¤ï¼Œæˆ‘ä»¬å°±çŸ¥é“ä¸Šé¢çš„1å’Œï¼ˆä¸ï¼‰ç­‰å¼æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œä»¥åŠé—´éš”ä¸ºä»€ä¹ˆä¼šæ˜¯<span class="math inline">\(\frac{1}{||w||}\)</span>äº†ã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p><strong>æ”¯æŒå‘é‡ï¼ˆSupport vectorsï¼‰</strong>ï¼šæ‰€æœ‰ä½äºè¾¹ç¼˜çš„ç‚¹ï¼Œå³æ»¡è¶³ï¼š<span class="math inline">\(y_i(\pmb{w}^T\pmb{x}_i+b)=1\)</span>çš„ç‚¹ã€‚ ç°åœ¨è®¡ç®—ä»¥ä¸‹ä¼˜åŒ–é—®é¢˜(å†™æ³•ä¸Šè·Ÿä¸Šé¢è¡¥å……å†…å®¹æœ‰ä¸€ä¸ç‚¹ä¸ä¸€æ ·ï¼Œä½†æ„æ€æ˜¯ä¸€æ ·çš„)ï¼š<span class="math display">\[arg\min\limits_{w,b} \frac{1}{2}||w||^2\]</span> <span class="math display">\[s.t. \quad y_i(\pmb{w}^T\pmb{x}_i+b)-1\ge0 \quad \forall i\]</span>å¸¦çº¦æŸæ¡ä»¶çš„ä¼˜åŒ–é—®é¢˜ä¾æ—§æ˜¯æ‹‰æ ¼æœ—æ—¥,å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210720095426527.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¦æœ€å°åŒ–ä¸Šé¢è¿™ä¸ª<span class="math inline">\(L(w,b,\alpha)\)</span>ï¼Œå³æ˜¯è¦åŒæ—¶å¯¹<span class="math inline">\(b,w\)</span>æ±‚åå¯¼å¹¶ä»¤åå¯¼ç­‰äº0ï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210720100108960.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç°åœ¨è¿˜å‰©ä¸ª<span class="math inline">\(\alpha_i\)</span>ã€‚ åœ¨è¿™é‡Œï¼Œåªæœ‰åœ¨è¾¹ç¼˜ç‚¹<span class="math inline">\(\alpha_i\)</span>æ˜¯ä¸ä¸º0çš„ï¼Œå…¶ä½™ç‚¹çš„<span class="math inline">\(\alpha_i\)</span>éƒ½ç­‰äº0ï¼Œæ¯”å¦‚ä¸‹é¢è¿™å¼ å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20210720100607658.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> åªæœ‰åœˆå‡ºçš„é‚£ä¸‰ä¸ªç‚¹çš„<span class="math inline">\(\alpha_i\)</span>æ˜¯æœ‰æ„ä¹‰çš„ã€‚æ‰€ä»¥SVMæ˜¯ä¸€ä¸ªç¨€ç–ï¼ˆsparseï¼‰çš„å­¦ä¹ æœºï¼Œåˆ†ç±»åªå–å†³äºå°‘æ•°çš„ç‚¹ã€‚ è¦æ±‚è§£è¿™ä¸ª<span class="math inline">\(\alpha_i\)</span>ï¼Œæˆ‘ä»¬å°±è¦å¼•è¿›è¿™ä¸ªé—®é¢˜çš„å¯¹å¶é—®é¢˜ã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>è¡¥å……2â€”â€”æ‹‰æ ¼æœ—æ—¥å¯¹å¶</p>
<p>åœ¨çº¦æŸæœ€ä¼˜åŒ–é—®é¢˜ä¸­ï¼Œå¸¸å¸¸åˆ©ç”¨æ‹‰æ ¼æœ—æ—¥å¯¹å¶æ€§(Lagrange duality)å°†åŸå§‹é—®é¢˜è½¬æ¢ä¸ºå¯¹å¶é—®é¢˜ï¼Œé€šè¿‡è§£å¯¹å¶é—®é¢˜å¾—åˆ°åŸå§‹é—®é¢˜çš„è§£ã€‚ æ¯”å¦‚è¯´ï¼Œç°æœ‰åŸå§‹é—®é¢˜ï¼š è®¾<span class="math inline">\(f(x),c(x),h(x)\)</span>æ˜¯å®šä¹‰åœ¨<span class="math inline">\(\mathcal{R}^n\)</span>ä¸Šçš„è¿ç»­å¯å¾®å‡½æ•°ï¼š<span class="math display">\[\min\limits_{x\in \mathcal{R}^n}f(x)\]</span> <span class="math display">\[s.t. \quad c_i(x)\leq0,\quad i=1,...,k\]</span> <span class="math display">\[h_j(x)=0,\quad j=1,...,l\]</span> å¼•å…¥æ‹‰æ ¼æœ—æ—¥å‡½æ•°<span class="math inline">\(\alpha_i,\beta_j\)</span>ä¸ºä¹˜å­<span class="math inline">\(\alpha_i\ge0\)</span>:<span class="math display">\[L(x,\alpha,\beta)=f(x)+\sum_{i=1}^{k}\alpha_ic_i(x)+\sum_{j=1}^{l}\beta_jh_j(x)\]</span>è€ƒè™‘<span class="math inline">\(x\)</span>çš„å‡½æ•°ï¼Œ<span class="math inline">\(P\)</span>ä¸ºåŸå§‹é—®é¢˜ï¼š<span class="math display">\[\theta_P(x)=\max\limits_{\alpha,\beta,\alpha_i\ge0}L(x,\alpha,\beta)\]</span>å‡å®šç»™å®šä¸€ä¸ª<span class="math inline">\(x\)</span>ï¼Œå¦‚æœ<span class="math inline">\(x\)</span>è¿åçº¦æŸæ¡ä»¶ï¼Œå³ï¼š<span class="math display">\[c_i(x)&gt;0\quad h_j(x)\ne0\]</span>åˆ™ <span class="math display">\[\theta_P(x)=\max\limits_{\alpha,\beta,\alpha_i\ge0}[f(x)+\sum_{i=1}^{k}\alpha_ic_i(x)+\sum_{j=1}^{l}\beta_jh_j(x)]=+\infty\]</span>å³ï¼ˆè¿™ä¸ªç»“è®ºä¸‹é¢éœ€è¦ç”¨åˆ°ï¼‰ï¼š <img src="https://img-blog.csdnimg.cn/20210720162958878.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è€ƒè™‘æå°é—®é¢˜ï¼š<span class="math display">\[\min\limits_{x}\theta_P(x)=\min\limits_{x}\max\limits_{\alpha,\beta,\alpha_i\ge0}L(x,\alpha,\beta)\]</span>è¿™ä¸ªæå°é—®é¢˜ä¸åŸå§‹çš„æœ€ä¼˜åŒ–é—®é¢˜ç­‰ä»·<span class="math display">\[p^*=\min\limits_{x}\theta_P(x)\]</span> <strong>åŸå§‹é—®é¢˜</strong>å˜ä¸ºï¼š<span class="math display">\[\min\limits_{x}\theta_P(x)=\min\limits_{x}\max\limits_{\alpha,\beta,\alpha_i\ge0}L(x,\alpha,\beta)\]</span>ç§°ä¸ºå¹¿ä¹‰æ‹‰æ ¼æœ—æ—¥å‡½æ•°çš„æå°æå¤§é—®é¢˜ï¼Œå®šä¹‰æœ€ä¼˜è§£ä¸º<span class="math inline">\(p^*=\min\limits_{x}\theta_P(x)\)</span>ã€‚</p>
<p><strong>å¯¹å¶é—®é¢˜</strong>ä¸ºï¼š å®šä¹‰ï¼š<span class="math inline">\(\theta_D(\alpha,\beta)=\min L(x,\alpha,\beta)\)</span> æ‰€ä»¥ï¼š<span class="math display">\[\max\limits_{\alpha,\beta,\alpha_i\ge0}\theta_D(\alpha,\beta)=\max\limits_{\alpha,\beta,\alpha_i\ge0}\min\limits_xL(x,\alpha,\beta)\]</span>ç§°ä¸ºå¹¿ä¹‰æ‹‰æ ¼æœ—æ—¥å‡½æ•°çš„æå¤§æå°é—®é¢˜ï¼Œçº¦æŸæ¡ä»¶ä¸º<span class="math inline">\(\alpha_i\ge0,i=1,...,k\)</span>ï¼Œè¿™ä¸ªç§°ä¸ºåŸå§‹é—®é¢˜çš„å¯¹å¶é—®é¢˜ï¼Œå¯¹å¶é—®é¢˜çš„æœ€ä¼˜å€¼ä¸ºï¼š<span class="math display">\[d^*=\max\limits_{\alpha,\beta,\alpha_i\ge0}\theta_D(\alpha,\beta)\]</span>è‹¥åŸå§‹é—®é¢˜å’Œå¯¹å¶é—®é¢˜éƒ½æœ‰æœ€ä¼˜å€¼ï¼Œåˆ™ï¼š<span class="math display">\[d^*=\max\limits_{\alpha,\beta,\alpha_i\ge0}\min\limits_xL(x,\alpha,\beta)\leq \min\limits_{x}\max\limits_{\alpha,\beta,\alpha_i\ge0}L(x,\alpha,\beta)=p^*\]</span></p>
<p>åœ¨SVMè¿™é‡Œï¼Œå¯¹å¶é—®é¢˜å…¶å®å°±å¯ä»¥è¡¨ç¤ºä¸ºå¾ˆç›´æ¥çš„ä¸€ä¸ªå¼å­ï¼š<span class="math display">\[\max\min f(x)\leq \min\max f(x)\]</span>è¿™ä¸ªå¼å­ç›´è§‚ä¸Šå°±èƒ½ç†è§£ï¼Œæ‰€ä»¥è¿™é‡Œä¸è§£é‡Šã€‚ è¿™ä¸ªä¸ç­‰å¼ç§°ä¸ºå¼±å¯¹å¶å…³ç³»ï¼Œä½†åœ¨SVMæˆ‘ä»¬è¦å¼ºå¯¹å¶å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ï¼š<span class="math display">\[\max\min f(x)=\min\max f(x)\]</span>è€Œå‡¸ä¼˜åŒ–çš„äºŒæ¬¡è§„åˆ’é—®é¢˜æ°æ°å°±æ»¡è¶³å¼ºå¯¹å¶æ¡ä»¶ã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨é—®é¢˜å˜æˆæ±‚ä»¥ä¸‹ä¼˜åŒ–é—®é¢˜ï¼š<span class="math display">\[\max\limits_{\alpha}\min\limits_{w,b}L(w,b,\alpha)\]</span><span class="math display">\[s.t. \quad \alpha\ge0\]</span>ç°åœ¨é—®é¢˜å°±å¥½ç®—äº†ã€‚ åœ¨ç»§ç»­å¾€ä¸‹ä¹‹å‰å…ˆå¯¹ä¸Šé¢åšä¸ªæ€»ç»“ï¼ˆä¸Šé¢çš„çœ‹ç€æŒºä¹±ï¼‰ï¼š</p>
<ol type="1">
<li>é¦–å…ˆæˆ‘ä»¬è¦æ±‚è§£ä»¥ä¸‹è¿™ä¸ªä¼˜åŒ–é—®é¢˜ï¼š<span class="math display">\[arg \min\limits_{w,b}\frac{1}{2}w^Tw\]</span><span class="math display">\[s.t. \quad y_i(\pmb{w}^T\pmb{x}_i+b)\ge1 \quad for \quad \forall i=1,...,N\]</span></li>
<li>ç”¨æ‹‰æ ¼æœ—æ—¥æ³•è¿›è¡Œå»çº¦æŸï¼Œå˜ä¸ºï¼š<span class="math display">\[\min\limits_{w,b}\max\limits_{\alpha}L(w,b,\alpha)\]</span><span class="math display">\[s.t. \quad \alpha\ge0\]</span>è¿™é‡Œå†ç®€å•è¯´ä¸€ä¸‹ï¼Œè¿™ä¸ªä¼˜åŒ–è·Ÿ<span class="math inline">\(w,b\)</span>å·²ç»æ— å…³äº†ï¼ˆè¿™ä¹ˆè¯´å¥½åƒä¸å¤ªå‡†ç¡®ã€‚ã€‚ã€‚ï¼‰ï¼Œå°±æ˜¯è¯´ï¼Œå¦‚æœ<span class="math inline">\(y_i(\pmb{w}^T\pmb{x}_i+b)&lt;1\)</span>çš„è¯ï¼Œæ ¹æ®ä¸Šé¢è¡¥å……ï¼ˆå…³äº<span class="math inline">\(+\infty\)</span>ï¼‰çš„å†…å®¹ï¼Œå€¼æ˜¯ç­‰äº<span class="math inline">\(+\infty\)</span>çš„ï¼Œå†æ ¹æ®å‰é¢çš„æœ€å°çº¦æŸï¼Œæ€ä¹ˆéƒ½å–ä¸åˆ°è¿™ä¸ªå€¼ï¼Œæ‰€ä»¥ä¸ç®¡<span class="math inline">\(w,b\)</span>çš„å€¼æ€ä¹ˆå–ï¼Œç»“æœéƒ½æ˜¯ç­‰ä»·äºæ˜¯åœ¨çº¦æŸ<span class="math inline">\(y_i(\pmb{w}^T\pmb{x}_i+b)\ge1\)</span>é‡Œå–ï¼Œè¿™æ˜¯è¢«ä¸Šé¢æ‹‰æ ¼æœ—æ—¥çš„æ–¹ç¨‹é™åˆ¶æ­»çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å†éœ€è¦è€ƒè™‘ä¸Šé¢çš„çº¦æŸäº†ã€‚</li>
<li>æ ¹æ®å¼ºå¯¹å¶å…³ç³»ï¼Œä¼˜åŒ–é—®é¢˜ç­‰ä»·äºï¼š<span class="math display">\[\max\limits_{\alpha}\min\limits_{w,b}L(w,b,\alpha)\]</span><span class="math display">\[s.t. \quad \alpha\ge0\]</span></li>
</ol>
<p>æ€»ç»“ç»“æŸï¼Œç»§ç»­<br />
å¯¹äºè¿™ä¸ªä¼˜åŒ–é—®é¢˜å°±å¾ˆå®¹æ˜“æ±‚äº†ï¼Œä¸¤æ¬¡æ±‚å¯¼å³å¯ã€‚ä¸Šé¢æˆ‘ä»¬å·²ç»æœ‰è¿‡ä¸€æ¬¡æ±‚å¯¼äº†ï¼ŒæŠŠä¸Šé¢çš„ç»“è®ºå†™ä¸‹æ¥å³æ˜¯ï¼š <img src="https://img-blog.csdnimg.cn/20210720193528375.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å°†å…¶å¸¦å…¥ä¸‹é¢è¿™ä¸ªæœ€å¼€å§‹çš„æ‹‰æ ¼æœ—æ—¥æ–¹ç¨‹é‡Œï¼š <img src="https://img-blog.csdnimg.cn/20210720195830686.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¾—åˆ°ä¸‹é¢è¿™ä¸ªå¼å­ï¼š <img src="https://img-blog.csdnimg.cn/20210720195959244.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™å°±æ˜¯æ‹‰æ ¼æœ—æ—¥æ–¹ç¨‹çš„æœ€å°å€¼ï¼Œå†ç”±äºï¼š <img src="https://img-blog.csdnimg.cn/20210720200724523.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç»§ç»­æ”¹å†™æˆå¦‚ä¸‹çš„å¼å­ <img src="https://img-blog.csdnimg.cn/20210720200849578.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™å°±æ˜¯æˆ‘ä»¬è¦æœ€å¤§åŒ–çš„ä¸œè¥¿ã€‚ è¿™é‡Œæˆ‘ä»¬è¦è¿™ä¹ˆå¤§è´¹å‘¨ç« åœ°æ¨å¯¼æ±‚è§£å¯¹å¶é—®é¢˜ï¼Œä¸»è¦æ˜¯å› ä¸ºï¼š</p>
<blockquote>
<ol type="1">
<li>å¯¹å¶é—®é¢˜å¾€å¾€æ›´å®¹æ˜“æ±‚è§£ï¼›<br />
</li>
<li>å¼•å…¥æ ¸å‡½æ•°ï¼Œå³ä¸ºéçº¿æ€§SVMåšå‡†å¤‡ã€‚</li>
</ol>
</blockquote>
<h2 id="è½¯é—´éš”æœ€å¤§åŒ–">è½¯é—´éš”æœ€å¤§åŒ–</h2>
<p>è½¯é—´éš”æœ€å¤§åŒ–é—®é¢˜è·Ÿç¡¬é—´éš”çš„å·®ä¸å¤šï¼Œåªæ˜¯è®­ç»ƒé›†ä¸­ä¼šæœ‰ä¸€äº›å¼‚å¸¸ç‚¹ï¼ˆoutlierï¼‰ä¸èƒ½æ»¡è¶³çº¦æŸæ¡ä»¶<span class="math inline">\(y_i(\pmb{w}^T\pmb{x}_i+b)\ge1\)</span>ã€‚å¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20210720211011111.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p>ä¸€ä¸ªç®€å•çš„æ€è·¯å°±æ˜¯ï¼Œå°†è¿™äº›æ•°æ®ç‚¹æ˜ å°„åˆ°æ–°çš„ç‰¹å¾ç©ºé—´ï¼Œç„¶åå°±å¯ä»¥çº¿æ€§åŒºåˆ†äº†ï¼Œæ¯”å¦‚ç”¨å°åŠå¾„çš„RBFæ ¸å‡½æ•°ï¼ˆè¿™åœ¨ä¸‹é¢éçº¿æ€§SVMä¼šä»‹ç»ï¼‰ã€‚ ä½†è¿™ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯<span class="math inline">\(VC\)</span>ç»´åº¦ç‰¹åˆ«å¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆã€‚</p>
<p>å¦ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ï¼šé€‰æ‹©æ€§åœ°å¿½ç•¥ä¸€äº›ç‚¹ã€‚å¯¹æ¯ä¸ªæ ·æœ¬ç‚¹<span class="math inline">\((x_i,y_i)\)</span>å¼•è¿›ä¸€ä¸ªæ¾å¼›å˜é‡ï¼ˆslack variablesï¼‰<span class="math inline">\(\xi_i\ge0\)</span>ï¼Œä½¿ï¼š <img src="https://img-blog.csdnimg.cn/20210721215433434.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p>å‡½æ•°é—´éš”åŠ ä¸Šæ¾å¼›å˜é‡å¤§äºç­‰äº1ï¼Œå³çº¦æŸæ¡ä»¶å˜ä¸ºï¼š<span class="math display">\[y_i(\pmb{w}^T\pmb{x}_i+b)\ge1-\xi_i\]</span> ç›®æ ‡å‡½æ•°å°±å˜ä¸ºï¼š<span class="math display">\[\frac{1}{2}||w||^2+C\sum_{i=1}^{N}\xi_i\]</span>å…¶ä¸­<span class="math inline">\(C&gt;0\)</span>ä¸ºæƒ©ç½šå‚æ•°ã€‚<br />
ç”±æ­¤å¯å¾—ï¼Œçº¿æ€§ä¸å¯åˆ†çš„çº¿æ€§æ”¯æŒå‘é‡æœºçš„å­¦ä¹ é—®é¢˜ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210721215658777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p>å…¶ä¸­<span class="math inline">\(w\)</span>çš„è§£æ˜¯å”¯ä¸€çš„ï¼Œ<span class="math inline">\(b\)</span>ä¸æ˜¯ï¼ˆä¸ä½œè¯æ˜ï¼‰ã€‚</p>
<p>æœ€å¤§åŒ–è¾¹é™…ï¼ˆmarginï¼‰ï¼ŒåŒæ—¶æœ€å°åŒ–æ‰€æœ‰ä¸åœ¨è¾¹é™…ä¹‹<strong>å¤–</strong>çš„æ•°æ®ç‚¹çš„æƒ©ç½š æƒé‡ C å…è®¸æˆ‘ä»¬æŒ‡å®šæƒè¡¡ã€‚ é€šå¸¸é€šè¿‡äº¤å‰éªŒè¯ç¡®å®š å³ä½¿æ•°æ®æ˜¯å¯åˆ†ç¦»çš„ï¼Œæœ€å¥½å…è®¸å¶å°”çš„æƒ©ç½šï¼ˆpenaltyï¼‰ã€‚</p>
<p>å‰©ä¸‹çš„è§£ä¼˜åŒ–é—®é¢˜è·Ÿç¡¬é—´éš”å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·äº†ï¼Œä¸è¿‡è¿˜æ˜¯å†è¿‡ä¸€éå§ã€‚ å›åˆ°æˆ‘ä»¬ä¸Šé¢çš„å­¦ä¹ é—®é¢˜ï¼Œå¸¦çº¦æŸçš„ä¼˜åŒ–ï¼Œç”¨æ‹‰æ ¼æœ—æ—¥å‡½æ•°å¦‚ä¸‹ï¼š<span class="math display">\[L(w,b,\xi,\alpha,\mu)=\frac{1}{2}||w||^2+C\sum_{i=1}^{N}\xi_i-\sum_{i=1}^{N}\alpha_i(y_i(wx_i+b)-1+\xi_i)-\sum_{i=1}^{N}\mu_i\xi_i\]</span>å…¶ä¸­: <span class="math inline">\(\alpha_i\ge 0,\mu_i\ge0\)</span>ã€‚å¯¹å¶é—®é¢˜æ˜¯è¿™ä¸ªå‡½æ•°çš„æå¤§æå°é—®é¢˜ï¼Œé¦–å…ˆæ±‚<span class="math inline">\(L(w,b,\xi,\alpha,\mu)\)</span>å¯¹<span class="math inline">\(w,b,\xi\)</span>çš„æå°ï¼Œå³æ˜¯æ±‚å¯¼ç­‰äº0ï¼Œå¾—ï¼š <img src="https://img-blog.csdnimg.cn/20210720212504986.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å³æ˜¯è¯´ï¼Œæå°å€¼ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210720212541576.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å†å¯¹<span class="math inline">\(\alpha\)</span>æ±‚æå¤§ï¼š <img src="https://img-blog.csdnimg.cn/20210720212652248.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œ<span class="math inline">\(alpha_i\leq C\)</span>ç§°ä¸ºbox constraint(ç®±ä½“çº¦æŸ)ã€‚</p>
<blockquote>
<p>è®¾<span class="math inline">\(\alpha^*=(\alpha_1^*,...,\alpha_N^*)^T\)</span>æ˜¯ä¸Šé¢å¯¹å¶é—®é¢˜çš„ä¸€ä¸ªè§£ï¼Œè‹¥å­˜åœ¨<span class="math inline">\(\alpha\)</span>çš„ä¸€ä¸ªåˆ†é‡<span class="math inline">\(\alpha_j\)</span>ï¼Œ<span class="math inline">\(0&lt;\alpha_j^*&lt;C\)</span>ï¼Œåˆ™åŸå§‹é—®é¢˜çš„è§£<span class="math inline">\(w,b\)</span>ä¸ºï¼š<span class="math display">\[w^*=\sum_{i=1}^{N_s}\alpha_i^*y_ix_i\]</span><span class="math display">\[b^*=y_j-\sum_{i=1}^{N_s}y_i\alpha_i^*(x_ix_j)\]</span></p>
</blockquote>
<p>(æ³¨ï¼šåœ¨ç¡¬é—´éš”ä¸­æ±‚å‡ºçš„<span class="math inline">\(\alpha\)</span>ä¹Ÿæ˜¯ä¸€ä¸ªå‘é‡ã€‚)</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>è¡¥å……3â€”â€”åˆé¡µæŸå¤±å‡½æ•°ï¼ˆhinge loss functionï¼‰</p>
<p>çº¿æ€§æ”¯æŒå‘é‡æœºå­¦ä¹ è¿˜æœ‰å¦ä¸€ç§è§£é‡Šï¼Œå°±æ˜¯æœ€å°åŒ–ä¸‹é¢è¿™ä¸ªç›®æ ‡å‡½æ•°ï¼š<span class="math display">\[\sum_{i=1}^{N}[1-y_i(wx_i+b)]_++\lambda||w||^2\]</span>ç¬¬ä¸€é¡¹ï¼š<span class="math inline">\(L(y(wx+b))=[1-y(wx+b)]_+\)</span>å°±ç§°ä¸ºåˆé¡µæŸå¤±å‡½æ•°ï¼Œå…¶ä¸­ï¼š<span class="math display">\[[z]_+=z,\quad z&gt;0\]</span><span class="math display">\[[z]_+=0,\quad z\le0\]</span>æœ€ä¼˜åŒ–é—®é¢˜å°±å¯ä»¥ç­‰ä»·ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210720215356556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<h1 id="éçº¿æ€§svm">éçº¿æ€§SVM</h1>
<p>ç„¶è€Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¾—åˆ°çš„æ•°æ®å¹¶ä¸æ˜¯ç›´æ¥ç”¨ç¡¬æˆ–è€…è½¯é—´éš”è¿›è¡Œçº¿æ€§åˆ†ç±»çš„ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªï¼š <img src="https://img-blog.csdnimg.cn/20210721163854894.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ˜æ˜¾ï¼Œä¸ç®¡æ€ä¹ˆç”»ç›´çº¿éƒ½æ²¡åŠæ³•æŠŠè¿™ä¸¤ç±»åˆ†å¼€ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å¢åŠ ä¸€ä¸ªç»´åº¦ï¼Œä»äºŒç»´å˜ä¸‰ç»´ï¼Œå˜æˆä¸‹é¢è¿™ç§æƒ…å†µï¼š <img src="https://img-blog.csdnimg.cn/20210721164054328.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™ä¸ªå°±å¯ä»¥ç”¨ï¼ˆè¶…ï¼‰å¹³é¢è¿›è¡Œçº¿æ€§åˆ’åˆ†äº†ã€‚è®°ä½ä¸€ç‚¹ï¼š<strong>ç›¸å¯¹äºä½ç»´ï¼Œé«˜ç»´æ›´å¯èƒ½å¯ä»¥ç”¨çº¿æ€§è¿›è¡Œåˆ†ç±»</strong>ã€‚ ä¹Ÿå°±æ˜¯è¯´åœ¨è¿™é‡Œï¼Œæ•°æ®çš„è¾“å…¥ç©ºé—´ä¸å†ç›´æ¥å……å½“ç‰¹å¾ç©ºé—´ï¼Œæˆ‘ä»¬è¦æ–°æ„é€ ä¸€ä¸ªç‰¹å¾ç©ºé—´ï¼Œå°±è·Ÿä¹‹å‰çš„çº¿æ€§å›å½’é‚£é‡Œçš„æ€æƒ³æ˜¯ä¸€æ ·çš„ã€‚ æˆ‘ä»¬çš„è¾“å…¥æ˜¯<span class="math inline">\(\pmb{x}\)</span>ï¼Œç„¶åå°±è¦æ‰¾åˆ°ä¸€ä¸ªéçº¿æ€§å˜æ¢<span class="math inline">\(\phi\)</span>ï¼Œå°†è¾“å…¥ç©ºé—´æ˜ å°„åˆ°ç‰¹å¾ç©ºé—´ï¼ˆä½†è¿™ä¸ªæ˜ å°„ä¹Ÿä¸èƒ½å¤ªè¿‡åˆ†äº†ï¼Œä¸ç„¶å®¹æ˜“è¿‡æ‹Ÿåˆï¼‰ã€‚ ç°åœ¨å›é¡¾ä¸Šé¢çš„å¯¹å¶å½¢å¼ï¼š <img src="https://img-blog.csdnimg.cn/20210721165319361.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> é€šè¿‡éçº¿æ€§å˜æ¢ï¼Œå¯ä»¥å¾—åˆ°ä¸‹é¢çš„æ–¹ç¨‹ï¼š <img src="https://img-blog.csdnimg.cn/20210721165401767.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™ä¸ªå¼å­å¯ä»¥çœ‹å‡ºï¼Œå½“ä¸¤ä¸ªç‰¹å¾ç©ºé—´çš„å…ƒç´ <span class="math inline">\(\phi(x_i)\)</span>å’Œ<span class="math inline">\(\phi(x_j)\)</span>å†…ç§¯æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªæ ‡é‡ã€‚ å†çœ‹åˆ¤åˆ«å‡½æ•°ï¼š<span class="math display">\[y(x)=w^T\phi(x)+b\]</span>ç”±äº<span class="math display">\[w=\sum_{i=1}^{N_s}\alpha_iy_i\phi(x_i)\]</span>åˆ™éçº¿æ€§åˆ¤åˆ«å‡½æ•°å¯ä»¥å†™ä¸ºï¼š<span class="math display">\[y(x)=\sum_{i=1}^{N_s}\alpha_iy_i\phi(x_i)^T\phi(x)+b\]</span>å…¶ä¸­<span class="math inline">\(N_s\)</span>æ˜¯æ”¯æŒå‘é‡çš„æ•°ç›®ã€‚ åˆå‘ç°ï¼Œåˆ¤åˆ«å‡½æ•°ä¹Ÿå¯ä»¥åªç”¨éçº¿æ€§ç‰¹å¾çš„æ ‡é‡ç§¯æ¥è¡¨ç¤ºã€‚ ä½†æ˜¯æˆ‘ä»¬æƒ³ç›´æ¥è®¡ç®—å®ƒä»¬å†…ç§¯æ˜¯ä¸å¤ªå¯èƒ½çš„ï¼Œå› ä¸ºè¿™ä¸ªéçº¿æ€§è½¬æ¢å¯èƒ½ä¼šå‡ºç°æ— é™ç»´çš„æƒ…å†µã€‚ è¿™å°±å¼•å‡ºäº†æ ¸æŠ€å·§ï¼ˆKernel Trickï¼‰ï¼Œå³ä½¿ç”¨æ ¸å‡½æ•°å–ä»£æ¯ä¸€ä¸ªæ ‡é‡ç§¯ï¼š<span class="math display">\[K(x_i,x_j)=\phi(x_i)^T\phi(x_j)\]</span>å¦‚æœæˆ‘ä»¬èƒ½æ‰¾åˆ°è¿™ä¹ˆä¸€ä¸ªæ ¸å‡½æ•°ï¼Œé‚£å°±å¯ä»¥é¿å…é«˜ç»´ç©ºé—´çš„æ˜ å°„ï¼Œè½¬è€Œç›´æ¥è®¡ç®—è¿™ä¸ªæ ‡é‡ç§¯ã€‚ ä½†è¯¥æ€ä¹ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨è¿™æ ·çš„æ ¸å‡½æ•°å‘¢ï¼Ÿ</p>
<h2 id="å¤šé¡¹å¼æ ¸polynomial-kernel">å¤šé¡¹å¼æ ¸ï¼ˆPolynomial Kernelï¼‰</h2>
<p>ä»¥ä»¥ä¸‹äºŒé˜¶æ ¸ä¸ºä¾‹ï¼š<span class="math display">\[K(x,y)=(x^Ty)^2\]</span>ç­‰åŒäºç‚¹ç§¯ï¼š<span class="math display">\[K(x,y)=(x^Ty)^2=x_1^2y_1^2+2x_1x-2y_1y_2+y_1^2y_2^2\]</span>å¯¹åº”çš„éçº¿æ€§è½¬æ¢ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/2021072117411341.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä»¥è¿™ä¸ªä¸ºä¾‹ï¼Œæ ¸æ–¹æ³•çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯æ ¸è®¡ç®—é‡çš„ç®€ä¾¿ï¼Œæ¯”å¦‚è¿™é‡Œçš„è®¡ç®—æ•°ä¸ºï¼š3ï¼ˆ<span class="math inline">\(x,y\)</span>çš„ç‚¹ç§¯ï¼‰+1ï¼ˆç»“æœçš„å¹³æ–¹ï¼‰=4<br />
å¦å¤–éœ€è¦æ³¨æ„ï¼Œä¸€ä¸ªæ ¸å‡½æ•°çš„éçº¿æ€§å˜æ¢ä¸æ˜¯å”¯ä¸€çš„ï¼Œæ¯”å¦‚ä¸Šé¢è¿™ä¸ªæ ¸å‡½æ•°ï¼Œå…¶å¯¹åº”çš„å˜æ¢è¿˜å¯èƒ½æ˜¯ï¼š <img src="https://img-blog.csdnimg.cn/20210721174440506.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <strong>è½¬æ¢ç©ºé—´ç»´åº¦ä»¥åŠVCç»´åº¦çš„ç¡®å®š</strong> ä»¤<span class="math inline">\(C_d(x)\)</span>ä¸ºå°†ä¸€ä¸ªå‘é‡æ˜ å°„åˆ°æ‰€æœ‰é˜¶æ•°ä¸º<span class="math inline">\(d\)</span>çš„æœ‰åºå•é¡¹å¼ç©ºé—´çš„å˜æ¢ã€‚<span class="math display">\[K(x,y)=(x^Ty)^d=C_d(x)^TC_d(y)\]</span>è½¬æ¢ç©ºé—´<span class="math inline">\(H\)</span>çš„ç»´åº¦ä¸ºï¼š<span class="math inline">\(C_{d+N-1}^{d}\)</span>ã€‚ æ¯”å¦‚è¯´ï¼š<span class="math display">\[N=16\times 16=256 \quad d=4\]</span>åˆ™è½¬æ¢ç©ºé—´ç»´åº¦ä¸ºï¼š<span class="math display">\[dim(H)=183181376\]</span>è¯¥åˆ†ç±»å™¨çš„<span class="math inline">\(VC\)</span>ç»´åº¦ä¸ºï¼š<span class="math inline">\(dim(H)+1\)</span>ã€‚</p>
<h2 id="å¾„å‘åŸºå‡½æ•°radial-basis-functions">å¾„å‘åŸºå‡½æ•°ï¼ˆRadial Basis Functionsï¼‰</h2>
<p>å¾„å‘åŸºå‡½æ•°ï¼ˆRBFï¼‰ï¼Œé€šå¸¸å®šä¹‰ä¸ºç©ºé—´ä»»ä¸€ç‚¹åˆ°æŸä¸€ä¸­å¿ƒçš„<span class="math inline">\(y\)</span>çš„æ¬§æ°è·ç¦»çš„å•è°ƒå‡½æ•°ï¼Œæœ€å¸¸ç”¨çš„æ˜¯é«˜æ–¯æ ¸å‡½æ•°ï¼Œå®šä¹‰ä¸ºï¼š<span class="math display">\[K(x,y)=\exp(-\frac{||x-y||^2}{2\sigma^2})\]</span>æ¢ç§è¯´æ³•çš„è¯ï¼Œè¿™ä¸ªæ ¸å‡½æ•°å¯ä»¥è¡¡é‡<span class="math inline">\(x\)</span>å’Œ<span class="math inline">\(y\)</span>çš„ç›¸ä¼¼åº¦çš„ã€‚<strong>å…¶å¯¹åº”çš„å˜æ¢ç©ºé—´æ˜¯æ— é™ç»´çš„</strong>ï¼Œæ‰€ä»¥å…¶<strong>VCç»´åº¦ä¹Ÿæ˜¯æ— é™ç»´çš„</strong>ã€‚å½“<span class="math inline">\(x\)</span>å’Œ<span class="math inline">\(y\)</span>å¾ˆæ¥è¿‘æ—¶å€¼ä¸º1ï¼Œå¾ˆè¿œæ—¶å€¼ä¸º0ï¼Œ<span class="math inline">\(\sigma\)</span>ä¸ºå‡½æ•°çš„å®½åº¦å‚æ•°ï¼Œæ§åˆ¶å‡½æ•°çš„å¾„å‘ä½œç”¨èŒƒå›´ã€‚ ç”¨è¿™ä¸ªæ ¸å‡½æ•°çš„æ•ˆæœå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210721204316240.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="mercers-condition">Mercer's Condition</h2>
<p>æ—¢ç„¶æ ¸å‡½æ•°èƒ½æå¤§åœ°ç®€ä¾¿æˆ‘ä»¬çš„è®¡ç®—é‡ï¼Œé‚£ç°åœ¨å°±æœ‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åˆ¤æ–­ç»™å®šçš„ä¸€ä¸ªå‡½æ•°<span class="math inline">\(K\)</span>æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ ¸å‡½æ•°å‘¢ï¼Œæˆ–è€…è¯´ï¼Œæˆ‘ä»¬å¦‚ä½•åˆ¤æ–­è¿™ä¸ª<span class="math inline">\(K\)</span>èƒ½å¤Ÿæ›¿ä»£<span class="math inline">\(\phi(x_i)^T\phi(x_j)\)</span>ï¼Ÿ è¿™å°±å¼•å‡ºäº†Mercerå®šç†ã€‚</p>
<blockquote>
<p>Mercerå®šç†ï¼š å¦‚æœå‡½æ•°<span class="math inline">\(K\)</span>æ˜¯<span class="math inline">\(R^n\times R^n\rightarrow R\)</span>ä¸Šçš„æ˜ å°„ï¼ˆä¹Ÿå°±æ˜¯ä»ä¸¤ä¸ª<span class="math inline">\(n\)</span>ç»´å‘é‡æ˜ å°„åˆ°å®æ•°åŸŸï¼‰ï¼Œå½“ä¸”ä»…å½“å¯¹äºä»»æ„è®­ç»ƒæ ·ä¾‹<span class="math inline">\([x_1,...,x_n]\)</span>ï¼Œå…¶ç›¸åº”çš„æ ¸å‡½æ•°çŸ©é˜µæ˜¯å¯¹ç§°åŠæ­£å®šçš„è¯ï¼Œåˆ™<span class="math inline">\(K\)</span>æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ ¸å‡½æ•°ï¼ˆä¹Ÿç§°ä¸ºMerceræ ¸å‡½æ•°ï¼‰ã€‚</p>
</blockquote>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>è¡¥å……4â€”â€”æ­£å®šä¸åŠæ­£å®šçŸ©é˜µ</p>
<blockquote>
<p>æ­£å®šçŸ©é˜µ ç»™å®šä¸€ä¸ªå¤§å°ä¸º <span class="math inline">\(n\times n\)</span>çš„å®å¯¹ç§°çŸ©é˜µ <span class="math inline">\(A\)</span> ï¼Œè‹¥å¯¹äºä»»æ„é•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„éé›¶å‘é‡ <span class="math inline">\(x\)</span> ï¼Œæœ‰<span class="math inline">\(x^TAx&gt;0\)</span> æ’æˆç«‹ï¼Œåˆ™çŸ©é˜µ <span class="math inline">\(A\)</span> æ˜¯ä¸€ä¸ªæ­£å®šçŸ©é˜µã€‚ æ­£å®šçŸ©é˜µçš„ç‰¹å¾å€¼éƒ½å¤§äº0ã€‚</p>
</blockquote>
<blockquote>
<p>åŠæ­£å®šçŸ©é˜µ ç»™å®šä¸€ä¸ªå¤§å°ä¸º <span class="math inline">\(n\times n\)</span>çš„å®å¯¹ç§°çŸ©é˜µ <span class="math inline">\(A\)</span> ï¼Œè‹¥å¯¹äºä»»æ„é•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„éé›¶å‘é‡ <span class="math inline">\(x\)</span> ï¼Œæœ‰<span class="math inline">\(x^TAx\ge0\)</span> æ’æˆç«‹ï¼Œåˆ™çŸ©é˜µ <span class="math inline">\(A\)</span> æ˜¯ä¸€ä¸ªåŠæ­£å®šçŸ©é˜µã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŠæ­£å®šåŒ…å«æ­£å®šï¼Œå…¶ç‰¹å¾å€¼å‡ä¸ºéè´Ÿï¼Œä¸»å­å¼å¤§äºç­‰äº0ã€‚</p>
</blockquote>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ºäº†è¯æ˜<span class="math inline">\(K\)</span>æ˜¯æœ‰æ•ˆæ ¸å‡½æ•°ï¼Œæˆ‘ä»¬ä¸éœ€è¦å»æ‰¾ç›¸åº”çš„æ˜ å°„å‡½æ•°<span class="math inline">\(\phi\)</span>ï¼Œåªéœ€è¦åœ¨è®­ç»ƒé›†ä¸Šæ±‚å‡ºå„ä¸ª<span class="math inline">\(K_ij\)</span>ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ä¸ºåŠæ­£å®šå³å¯ã€‚ ä¸Šé¢çš„Mercerå®šç†ç”¨æ•°å­¦è¡¨è¾¾çš„è¯å¯ä»¥å†™ä¸ºï¼š</p>
<blockquote>
<p>å¯¹äºæ»¡è¶³<span class="math inline">\(\int g(x)^2dx&lt;0\)</span>çš„<span class="math inline">\(g(x)\)</span>ï¼Œè‹¥<span class="math inline">\(K(x,y)\)</span>æ»¡è¶³<span class="math inline">\(\int \int K(x,y)g(x)g(y)dxdy\ge0\)</span>ï¼Œåˆ™<span class="math inline">\(K(x,y)\)</span>æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ ¸å‡½æ•°ã€‚</p>
</blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªå‡½æ•°æ˜¯å¦æ»¡è¶³Mercerå®šç†å¹¶ä¸å®¹æ˜“ï¼Œä½†æˆ‘ä»¬å¯ä»¥æ ¹æ®ç°æœ‰çš„æœ‰æ•ˆæ ¸å‡½æ•°æ„é€ å‡ºæ–°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ<span class="math inline">\(K_1(x,y),K_2(x,y)\)</span>æ˜¯æœ‰æ•ˆæ ¸å‡½æ•°ï¼Œåˆ™ä¸‹é¢è¿™äº›ä¹Ÿæ˜¯ï¼š<span class="math display">\[cK_1(x,y)\\K_1(x,y)+K_2(x,y)\\K_1(x,y)K_2(x,y)\\f(x)K_1(x,y)f(y)\\...\]</span></p>
<h2 id="ç›¸å…³è¡¥å……">ç›¸å…³è¡¥å……</h2>
<p>é™¤äº†ä¸Šé¢çš„ï¼Œéé½æ¬¡å¤šé¡¹å¼æ ¸å‡½æ•°ä¹Ÿå¯ä»¥ç”¨æ¥è¡¨ç¤º<span class="math inline">\(d\)</span>é˜¶å¤šé¡¹å¼ï¼Œå½¢å¼å¦‚ä¸‹ï¼š<span class="math display">\[K(\pmb{x},\pmb{y})=(\pmb{x}^T\pmb{y}+c)^d\]</span>é™¤äº†Gaussian RBF æ ¸å‡½æ•°ï¼š<span class="math display">\[K(\pmb{x},\pmb{y})=\exp(-\frac{||\pmb{x}-\pmb{y}||^2}{2\sigma^2})\]</span>è¿˜æœ‰å…¶å®ƒæ¯”å¦‚Hyperbolic tangentæ ¸å‡½æ•°ï¼š<span class="math display">\[K(\pmb{x},\pmb{y})=tahn(a\pmb{x}^T\pmb{y}+b)\]</span></p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>ã€å­¦ä¹ éšè®°ã€‘å„ç§ç©ºé—´çš„ç®€å•ä»‹ç»</title>
    <url>/posts/12.html</url>
    <content><![CDATA[<p>å› ä¸ºç»å¸¸é‡åˆ°å„ç§ç‰¹å®šçš„ç©ºé—´ï¼Œæœ‰äº›æ²¡æ¥è§¦è¿‡ï¼Œæœ‰äº›åˆå®¹æ˜“å¼„æ··ï¼Œè¿™é‡Œåšä¸ªè®°å½•ï¼Œè¿™ç¯‡åº”è¯¥ä¼šä¸æ–­æ›´æ–°ï¼Œæ¯•ç«Ÿç©ºé—´æ¦‚å¿µè¿™ä¹ˆå¤šã€‚ï¼ˆæ³¨ï¼šè¿™é‡Œåªæ˜¯æœ€ç®€å•çš„ä»‹ç»ï¼‰ <span id="more"></span> å…ˆè§£é‡Šç›¸å…³æ¦‚å¿µã€‚</p>
<h1 id="ç›¸å…³æ¦‚å¿µ">ç›¸å…³æ¦‚å¿µï¼š</h1>
<h2 id="å®Œå¤‡æ€§">å®Œå¤‡æ€§</h2>
<p>ç®€å•è¯´çš„è¯ï¼Œå°±æ˜¯å¯¹æé™å°é—­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå¯¹äºç©ºé—´<span class="math inline">\(S\)</span>å†…çš„ä¸€ç‚¹<span class="math inline">\(s_i\)</span>ï¼Œ<span class="math inline">\(\lim_{i\rightarrow\infty}s_i=s\)</span>ï¼Œ<span class="math inline">\(s\)</span>ä¹Ÿå±äºç©ºé—´<span class="math inline">\(S\)</span>çš„è¯ï¼Œåˆ™ç§°è¯¥ç©ºé—´å…·æœ‰å®Œå¤‡æ€§ã€‚</p>
<h2 id="å†…ç§¯">å†…ç§¯</h2>
<p>è¯´åˆ°å†…ç§¯ï¼Œç¬¬ä¸€ååº”åº”è¯¥å°±æ˜¯å‘é‡å†…ç§¯ï¼Œå³ï¼š<span class="math display">\[\langle a,b \rangle = |a|*|b|*\cos\theta\]</span>ï¼Œä½†æ›´å¹¿æ³›çš„è¯ï¼Œå†…ç§¯åº”è¯¥æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶(<span class="math inline">\(f,g\)</span>éƒ½æ˜¯ç©ºé—´å…ƒç´ )ï¼š</p>
<blockquote>
<ol type="1">
<li>å¯¹ç§°æ€§ï¼š<span class="math inline">\(\langle f,g \rangle = \langle g,f \rangle\)</span>ï¼›</li>
<li>æ­£å®šæ€§ï¼š<span class="math inline">\(\langle f,f \rangle \ge0\)</span>ï¼Œå½“ä¸”ä»…å½“<span class="math inline">\(f=0\)</span>æ—¶ç­‰å·æˆç«‹ã€‚</li>
<li>çº¿æ€§ï¼š<span class="math inline">\(\langle r_1f_1+r_2f_2,g \rangle = r_1\langle f_1,g \rangle+r_2\langle f_2,g \rangle\)</span></li>
</ol>
</blockquote>
<h1 id="ç©ºé—´">ç©ºé—´</h1>
<h2 id="åº¦é‡è·ç¦»ç©ºé—´">åº¦é‡ï¼ˆè·ç¦»ï¼‰ç©ºé—´</h2>
<p>è®¾<span class="math inline">\(X\)</span>æ˜¯éç©ºé›†åˆï¼Œå¯¹äº<span class="math inline">\(X\)</span>ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ <span class="math inline">\(x,y\)</span>ï¼ŒæŒ‰æŸä¸€æ³•åˆ™éƒ½å¯¹åº”å”¯ä¸€çš„å®æ•°<span class="math inline">\(\rho(x,y)\)</span>ï¼Œå¹¶æ»¡è¶³ä¸‹é¢ä¸‰ä¸ªæ¡ä»¶ï¼ˆè·ç¦»å…¬ç†ï¼‰ï¼š</p>
<blockquote>
<ol type="1">
<li>éè´Ÿæ€§ï¼š<span class="math inline">\(\rho(x,y)\ge0\)</span>ï¼Œå½“ä¸”ä»…å½“<span class="math inline">\(x=y\)</span>æ—¶ï¼Œ<span class="math inline">\(\rho(x,y)=0\)</span>;</li>
<li>å¯¹ç§°æ€§ï¼š<span class="math inline">\(\rho(x,y)=\rho(y,x)\)</span>;</li>
<li>ä¸‰è§’ä¸ç­‰å¼ï¼šå¯¹ä»»æ„<span class="math inline">\(x,y,z\)</span>ï¼Œ<span class="math inline">\(\rho(x,y)\leq\rho(x,z)+\rho(z,y)\)</span></li>
</ol>
</blockquote>
<p>åˆ™ç§°<span class="math inline">\(\rho(x,y)\)</span>ä¸º<span class="math inline">\(x\)</span>ä¸<span class="math inline">\(y\)</span>çš„è·ç¦»ï¼ˆæˆ–åº¦é‡ï¼‰ï¼Œå¹¶ç§°<span class="math inline">\(X\)</span>æ˜¯ä»¥<span class="math inline">\(\rho\)</span>ä¸ºè·ç¦»çš„è·ç¦»ç©ºé—´ï¼Œè®°ä½œ<span class="math inline">\((X,\rho)\)</span>ã€‚ è¿™é‡Œçš„è·ç¦»ä¸å±€é™äºâ€œç‚¹ç©ºé—´â€å†…çš„è·ç¦»ï¼Œæ¯”å¦‚ä¸‹é¢ä¸¤ä¸ªä¹Ÿæ»¡è¶³è·ç¦»ï¼š<span class="math display">\[\rho(x,y)=\max\limits_{1\leq k\leq n}|x_k-y_k|\]</span><span class="math display">\[\rho(x,y)=\sum_{k=1}^{n}|x_k-y_k|\]</span> <span class="math inline">\(L^p[a,b]\)</span>è¡¨ç¤ºåŒºé—´<span class="math inline">\([a,b]\)</span>ç»å¯¹å€¼<span class="math inline">\(p\)</span>æ¬¡å¹‚<span class="math inline">\(L\)</span>å¯ç§¯å‡½æ•°çš„å…¨ä½“ï¼Œå¹¶æŠŠå‡ ä¹å¤„å¤„ç›¸ç­‰çš„å‡½æ•°çœ‹æˆæ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼Œå¯¹äº<span class="math inline">\(x,y\in L^p[a,b]\)</span>ï¼Œè§„å®š<span class="math display">\[\rho(x,y)=[\int_a^b|x(t)-y(t)|^pdt]^{1/p},p\ge1\]</span>åˆ™<span class="math inline">\(L^p[a,b]\)</span>æ„æˆä¸€ä¸ªè·ç¦»ç©ºé—´ï¼Œç§°ä¸º<span class="math inline">\(p\)</span>æ¬¡å¹‚å¯ç§¯å‡½æ•°ç©ºé—´ã€‚</p>
<h2 id="çº¿æ€§ç©ºé—´">çº¿æ€§ç©ºé—´</h2>
<p>ç›´è§‚ç†è§£çš„è¯å°±æ˜¯æ‹¥æœ‰åŠ æ³•å’Œæ•°ä¹˜çš„éç©ºé›†åˆã€‚é¦–å…ˆè¦æ±‚éç©ºï¼Œå…¶æ¬¡æ»¡è¶³åŠ æ³•è¿ç®—çš„4ä¸ªå±æ€§ï¼š</p>
<blockquote>
<ol type="1">
<li>åŠ æ³•äº¤æ¢å¾‹</li>
<li>åŠ æ³•ç»“åˆå¾‹</li>
<li>å­˜åœ¨é›¶å…ƒï¼š<span class="math inline">\(x+0=x\)</span></li>
<li>å­˜åœ¨é€†å…ƒï¼š<span class="math inline">\(x+(-x)=0\)</span></li>
</ol>
</blockquote>
<p>æ»¡è¶³æ•°ä¹˜çš„4ä¸ªå±æ€§ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(1x=x\)</span></li>
<li><span class="math inline">\(a(bx)=(ab)x\)</span></li>
<li><span class="math inline">\((a+b)x=ax+bx\)</span></li>
<li><span class="math inline">\(a(x+y)=ax+ay\)</span></li>
</ol>
</blockquote>
<h2 id="èµ‹èŒƒç©ºé—´">èµ‹èŒƒç©ºé—´</h2>
<p>è®¾<span class="math inline">\(X\)</span>æ˜¯å®ï¼ˆæˆ–å¤ï¼‰çº¿æ€§ç©ºé—´ï¼Œå¦‚æœå¯¹äº<span class="math inline">\(X\)</span>ä¸­çš„æ¯ä¸ªå…ƒç´ <span class="math inline">\(x\)</span>ï¼ŒæŒ‰ç…§ä¸€å®šçš„æ³•åˆ™å¯¹åº”äºå®æ•°<span class="math inline">\(||x||\)</span>ï¼Œä¸”æ»¡è¶³ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(||x||\ge0\)</span>ï¼Œå½“ä¸”ä»…å½“<span class="math inline">\(x\)</span>ç­‰äºé›¶å…ƒï¼ˆ<span class="math inline">\(x=0\)</span>ï¼‰æ—¶<span class="math inline">\(||x||=0\)</span>;</li>
<li><span class="math inline">\(||ax||=|a|||x||\)</span>ï¼Œ<span class="math inline">\(a\)</span>æ˜¯å®ï¼ˆæˆ–å¤ï¼‰æ•°ï¼›</li>
<li><span class="math inline">\(||x+y||\leq||x||+||y||\)</span></li>
</ol>
</blockquote>
<p>åˆ™ç§°<span class="math inline">\(X\)</span>æ˜¯å®ï¼ˆæˆ–å¤ï¼‰èµ‹èŒƒçº¿æ€§ç©ºé—´ï¼Œ<span class="math inline">\(||x||\)</span>ç§°ä¸º<span class="math inline">\(x\)</span>çš„èŒƒæ•°ã€‚</p>
<blockquote>
<p>æ³¨ï¼šèµ‹èŒƒçº¿æ€§ç©ºé—´å¿…ç„¶æ˜¯è·ç¦»ç©ºé—´ã€‚å®šä¹‰<span class="math display">\[\rho(x,y)=||x-y||\]</span></p>
</blockquote>
<p>ä¸è·ç¦»ç©ºé—´çš„ä¸åŒåœ¨äºï¼š</p>
<ol type="1">
<li>å¹³ç§»ä¸å˜æ€§ï¼š<span class="math inline">\(d(x+a,y+a)=d(x,y)\)</span>ï¼Œ<span class="math inline">\(x,y,a\in X\)</span></li>
<li>é½æ¬¡æ€§ï¼š<span class="math inline">\(d(ax,ay)=|a|d(x,y)\)</span>ï¼Œ<span class="math inline">\(x,y\in X\)</span>ï¼Œ<span class="math inline">\(a\in K\)</span>ã€‚ï¼ˆ<span class="math inline">\(K\)</span>æ˜¯å®ï¼ˆæˆ–å¤ï¼‰æ•°åŸŸï¼‰ã€‚</li>
</ol>
<h2 id="banach-ç©ºé—´">Banach ç©ºé—´</h2>
<p>å¦‚æœèµ‹èŒƒçº¿æ€§ç©ºé—´æ˜¯å®Œå¤‡çš„ï¼Œåˆ™ç§°è¯¥èµ‹èŒƒçº¿æ€§ç©ºé—´æ˜¯Banach ç©ºé—´ã€‚</p>
<h2 id="å†…ç§¯ç©ºé—´">å†…ç§¯ç©ºé—´</h2>
<p>ï¼ˆæ³¨ï¼šè¿™é‡Œçš„æ‹¬å·å…¨éƒ½åº”è¯¥ä¸ºå°–æ‹¬å·ï¼‰ è®¾<span class="math inline">\(X\)</span>æ˜¯å®šä¹‰åœ¨å®ï¼ˆæˆ–å¤ï¼‰æ•°åŸŸ<span class="math inline">\(K\)</span>ä¸Šçš„çº¿æ€§ç©ºé—´ï¼Œè‹¥å¯¹äº<span class="math inline">\(X\)</span>ä»»æ„ä¸€å¯¹æœ‰åºå…ƒç´ <span class="math inline">\(x,y\)</span>, æ’å¯¹åº”æ•°åŸŸ<span class="math inline">\(K\)</span>çš„å€¼<span class="math inline">\((x, y)\)</span>ï¼Œä¸”æ»¡è¶³ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\((ax,y)=a(x,y)\)</span></li>
<li><span class="math inline">\((x+y,z)=(x,z)+(y,z)\)</span></li>
<li><span class="math inline">\((x,y)=(y,x)\)</span></li>
<li><span class="math inline">\((x,x)\ge0\)</span>ï¼Œå½“ä¸”ä»…å½“<span class="math inline">\(x=0\)</span>æ—¶ç­‰å·æˆç«‹</li>
</ol>
</blockquote>
<p>åˆ™ç§°<span class="math inline">\(X\)</span>ä¸ºå†…ç§¯ç©ºé—´ï¼Œ<span class="math inline">\((x,y)\)</span>ç§°ä¸º<span class="math inline">\(x,y\)</span>çš„å†…ç§¯ã€‚è·Ÿä¸Šé¢å†…ç§¯çš„æ¦‚å¿µå¯ä»¥ç»“åˆç†è§£ã€‚</p>
<h2 id="hilbert-ç©ºé—´">Hilbert ç©ºé—´</h2>
<p>å®Œå¤‡çš„å†…ç§¯ç©ºé—´ç§°ä¸ºHilbertç©ºé—´ï¼Œä¸”Hilbertç©ºé—´å¿…ä¸ºBanach ç©ºé—´ã€‚ æˆ–è€…æ¢ç§è¯´æ³•ï¼š Hilbertç©ºé—´æ˜¯ï¼šå®Œå¤‡çš„ï¼Œå¯èƒ½æ˜¯æ— é™ç»´çš„ï¼Œè¢«èµ‹äºˆå†…ç§¯çš„çº¿æ€§ç©ºé—´ã€‚</p>
]]></content>
      <categories>
        <category>å­¦ä¹ éšè®°</category>
      </categories>
  </entry>
  <entry>
    <title>çº¿æ€§é™ç»´ä¸ç»Ÿè®¡å­¦ä¹ ç†è®ºï¼ˆLinear Dimensionality Reduction &amp; Statistical Learning Theoryï¼‰</title>
    <url>/posts/11.html</url>
    <content><![CDATA[<h1 id="çº¿æ€§é™ç»´linear-dimensionality-reductionä»¥pcaä¸ºä¾‹">çº¿æ€§é™ç»´ï¼ˆLinear Dimensionality Reductionï¼‰ï¼ˆä»¥PCAä¸ºä¾‹ï¼‰</h1>
<h2 id="å¼•å…¥">å¼•å…¥</h2>
<p>ä¸»æˆåˆ†åˆ†æï¼ˆPrincipal Component Analysisï¼ŒPCAï¼‰æ˜¯æœ€å¸¸è§çš„çº¿æ€§é™ç»´æ–¹æ³•ã€‚ <span id="more"></span> æ‹¿ä¹‹å‰çš„çº¿æ€§å›å½’ä¸¾ä¾‹ï¼Œå¯¹äºæœ€å°äºŒä¹˜æ³•çš„çº¿æ€§å›å½’ï¼Œå…¶æ±‚è§£å‚æ•°ä¸ºï¼š<span class="math display">\[\hat{w}=(\hat{X}\hat{X})^{-1}\hat{X}y\]</span>å…¶ä¸­<span class="math inline">\(\hat{X}\in \mathcal{R}^{d\times n}\)</span>ï¼Œ<span class="math inline">\(y\in \mathcal{R}^{n\times 1}\)</span>ã€‚ è‹¥ç›´æ¥æ±‚è§£<span class="math inline">\(d\times d\)</span>çš„é€†çŸ©é˜µï¼Œå…¶å¤æ‚åº¦ä¸º<span class="math inline">\(O(d^3)\)</span>ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æƒ³æ‰¾åˆ°ä¸€ä¸ªæ–°çš„ç»´åº¦<span class="math inline">\(d^{new}\)</span>ï¼Œä½¿å…¶è¿œå°äºåŸç»´åº¦ï¼Œå³<span class="math inline">\(d^{new}&lt;&lt;d\)</span>ï¼Œä½†åˆä¸èƒ½å¯¹ç»“æœé€ æˆå¾ˆå¤§çš„å½±å“ã€‚ è¿™å°±å¼•å‡ºäº†PCAï¼Œæˆ‘ä»¬è¦æŠ“ä½æ•°æ®çš„â€æœ¬è´¨â€œã€‚</p>
<h2 id="å…·ä½“è®²è§£">å…·ä½“è®²è§£</h2>
<p>ç°å‡è®¾æˆ‘ä»¬çš„åŸå§‹æ•°æ®<span class="math inline">\(X=\left\{x_1,...,x_n\right\}\)</span>ï¼Œä»¥ç¬¬<span class="math inline">\(i\)</span>ä¸ªæ•°æ®ä¸ºä¾‹ï¼Œå…¶ç»´åº¦ä¸ºï¼š<span class="math display">\[x^i\in \mathcal{R}^M\]</span> ç„¶åè¿™ç¬¬<span class="math inline">\(i\)</span>ä¸ªæ•°æ®çš„ä½çº¬åº¦è¡¨ç¤ºæ³•ä¸ºï¼š<span class="math display">\[a^i\in \mathcal{R}^D, \quad D&lt;&lt;M\]</span>ç°åœ¨è¦åšçš„å°±æ˜¯æ‰¾åˆ°ä¸ªæ˜ å°„æ»¡è¶³ï¼š<span class="math display">\[x^i \rightarrow a^i\]</span> ç°åœ¨æˆ‘ä»¬é™åˆ¶è¿™æ ·çš„æ˜ å°„ä¸ºçº¿æ€§æ–¹ç¨‹ï¼Œå³ï¼š<span class="math display">\[a^i=Bx^i, \quad B\in \mathcal{R}^{D\times M}\]</span> â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>åœ¨ç»§ç»­ä¹‹å‰å…ˆè¡¥å……ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œå³æ˜¯è¯´ï¼Œä»»ä½•å‘é‡æˆ‘ä»¬éƒ½å¯ä»¥æ”¹å†™æˆä¸‹é¢è¿™æ ·ï¼š<span class="math display">\[\pmb{x}=\sum_{i=1}^{M}a_i\pmb{u}_i, \quadå…¶ä¸­ \pmb{u}_i^T\pmb{u}_j=\delta_{ij}\]</span> å½“<span class="math inline">\(i=j\)</span>æ—¶ï¼Œ<span class="math inline">\(\delta_{ij}=1\)</span>ï¼Œå¦åˆ™ç­‰äº0ï¼Œ<span class="math inline">\(u_i\)</span>ä¸<span class="math inline">\(u_j\)</span>æ­£äº¤ã€‚ä¸¾ä¸ªä¾‹å­å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210717210412307.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å…¶ä¸­æ ‡é‡å‚æ•°<span class="math inline">\(a\)</span>å¯ä½œå¦‚ä¸‹è¡¨è¿°ï¼š <img src="https://img-blog.csdnimg.cn/20210717213720773.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ª<span class="math inline">\(a_i\)</span>æ˜¯ä¸€ä¸ªæŠ•å½±ç»“æœã€‚</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<p>æ‰€ä»¥åŸå§‹å‘é‡æˆ‘ä»¬å¯ä»¥å†™æˆå¦‚ä¸‹ä¸¤éƒ¨åˆ†ç›¸åŠ çš„å½¢å¼ï¼š<span class="math display">\[x^n=\sum_{i=1}^{D}a_i\pmb{u}_i+\sum_{j=D+1}^{M}b_j\pmb{u}_j\approx\tilde{x}^n\]</span>å…¶ä¸­ç¬¬ä¸€éƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„é™ç»´åçš„æ•°æ®ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸€äº›<span class="math inline">\(error\)</span>ç»„æˆçš„æ•°æ®ã€‚è¿™é‡Œçš„<span class="math inline">\(\tilde{x}^n\)</span>æ˜¯æˆ‘ä»¬é™ç»´ä¹‹åçš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€éƒ¨åˆ†ã€‚ æˆ‘ä»¬é€‰æ‹©<span class="math inline">\(D\)</span>çš„æ ‡å‡†æ˜¯æœ€å°åŒ–æ•°æ®çš„å‡æ–¹å·®ï¼Œå³æ˜¯ï¼š <img src="https://img-blog.csdnimg.cn/2021071722173678.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æˆ‘ä»¬ç°åœ¨è¦æœ€å°åŒ–è¿™ä¸ª<span class="math inline">\(error\)</span>ï¼Œé¦–å…ˆå¯¹<span class="math inline">\(error\)</span>è¿›è¡Œæ”¹å†™ï¼š <img src="https://img-blog.csdnimg.cn/20210717230441723.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æŠŠä¸Šå›¾çš„ç»“è®ºå†™ä¸‹æ¥ï¼š<span class="math display">\[E(u)=\sum_{n=1}^N||x^n||^2-(u^Tx^n)^2=\sum^N_{n=1}||x^n||^2-(a^n)^2\]</span> æœ€å°åŒ–è¿™ä¸ªå‡½æ•°å°±ç­‰åŒäºæœ€å¤§åŒ–åé¢çš„é‚£ä¸ªéƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºæœ€å¤§åŒ–æŠ•å½±çš„æ–¹å·®ï¼Œè¿™ä¹Ÿå°±æ˜¯PCAçš„åŸºæœ¬æ€æƒ³ï¼Œå¯ä»¥æƒ³è±¡æˆæŠŠæ•°æ®æŠ•å½±åˆ°ç›´çº¿ä¸Šï¼ˆè·Ÿå¦ä¸€ç¯‡åˆ†ç±»é—®é¢˜é‡Œæåˆ°çš„æœ‰äº›ç±»ä¼¼ï¼‰ï¼Œç„¶åè®©æ•°æ®å°½å¯èƒ½åˆ†å¼€ï¼Œä¹Ÿå°±æ˜¯è®©æ–¹å·®å°½é‡å¤§ã€‚ æ‰€ä»¥ç°åœ¨æˆ‘ä»¬æœ‰ï¼š<span class="math display">\[\max \frac{1}{N}\sum_{n=1}^{N}a_n^2\]</span>æ³¨æ„ï¼Œæ­¤å¤„æˆ‘ä»¬æ˜¯å‡è®¾å‡å€¼ä¸º0çš„æƒ…å†µï¼Œå¦åˆ™åˆ™ç”¨ä¸‹é¢çš„å¼å­ï¼š<span class="math display">\[\max \frac{1}{N}\sum_{n=1}^{N}(a_n-\mu)^2\]</span> ä½†ä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šç”¨ä¸Šé¢è¿™ä¸ªï¼Œå› ä¸ºè®¡ç®—å¤ªéº»çƒ¦ï¼Œæ‰€ä»¥ä¼šäº‹å…ˆè®©æ¯ä¸ªæ•°æ®éƒ½å‡å»å‡å€¼ï¼Œä»¥ä¿è¯é›¶å‡å€¼çš„æƒ…å†µï¼Œå³æ˜¯ï¼š<span class="math display">\[x^n-\overline{x}\]</span> ç°åœ¨å°±å¯ä»¥å†™å‡ºå¦‚ä¸‹å½¢å¼çš„æ–¹ç¨‹äº†ï¼š <img src="https://img-blog.csdnimg.cn/2021071801252064.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ ¹æ®è¿™ä¸ªå›¾å°±èƒ½å‘ç°ï¼ŒæŠŠæ•°æ®æŠ•å½±åˆ°<span class="math inline">\(u_1\)</span>ä¸Šèƒ½ä¿ç•™æ•°æ®æ›´å¤šçš„ä¿¡æ¯ã€‚ç°åœ¨çš„é—®é¢˜å°±æ˜¯å¦‚ä½•æ‰¾åˆ°è¿™æ¡è½´ï¼Œä»¥åŠæ²¿è¿™æ¡è½´çš„æ•°æ®çš„æ–¹å·®ã€‚ ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼š <img src="https://img-blog.csdnimg.cn/20210718012915445.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œ<span class="math inline">\(\lambda_i\)</span>æ˜¯æ²¿æ–¹å‘<span class="math inline">\(u_i\)</span>çš„è¾¹é™…æ–¹å·®ï¼ˆmarginal varianceï¼‰ã€‚</p>
<p>ç°å‡è®¾å¦‚ä¸‹æ•°æ®ï¼Œ<span class="math display">\[X=[x^1,...,x^n]\in \mathcal{R}^{M\times N}\]</span>æ˜¯ä¸€ä¸ªæœ‰<span class="math inline">\(N\)</span>ä¸ª<span class="math inline">\(M\)</span>ç»´å‘é‡çš„çŸ©é˜µï¼Œå³<span class="math inline">\(x^i\in\mathcal{R}^M\)</span>ã€‚å¦<span class="math inline">\(u\in\mathcal{R}^M\)</span>ä¸ºä¸€ä¸ªè¾“å…¥ç©ºé—´çš„æ–¹å‘ï¼Œåˆ™ç¬¬<span class="math inline">\(j\)</span>ä¸ªå‘é‡<span class="math inline">\(x^j\)</span>åœ¨è¿™ä¸ªå‘é‡<span class="math inline">\(u\)</span>ä¸Šçš„æŠ•å½±ä¸ºï¼š<span class="math display">\[a_j=u^Tx^j=\sum_{i=1}{M}X_{ij}u_i\]</span>ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªæ–¹å‘<span class="math inline">\(u\)</span>ï¼Œä½¿æ‰€æœ‰è¾“å…¥å‘é‡çš„æŠ•å½±çš„æ–¹å·®è¾¾åˆ°æœ€å¤§ã€‚<br />
é¦–å…ˆè®¡ç®—æ‰€æœ‰æŠ•å½±çš„å‡å€¼ï¼š<span class="math display">\[\overline{a}=\frac{1}{N}\sum^N_{j=1}a_j=\frac{1}{N}\sum_{j=1}^{N}\sum_{i=1}^{M}X_{ij}u_i=\sum^M_{i=1}u_i\mu_i\]</span>å…¶ä¸­<span class="math inline">\(\mu_i=\frac{1}{N}\sum^{N}_{j=1}X_{ij}\)</span> è®¡ç®—æ–¹å·®ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210718045939294.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¸Šé¢çš„æ–¹å·®ä¹Ÿå¯ä»¥ç”¨å¦ä¸€ä¸ªæ¨å¯¼ï¼Œæ„æ€ä¸€æ ·ä½†æ¯”è¾ƒç®€æ´ï¼š <img src="https://img-blog.csdnimg.cn/20210718050457581.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p>å…¶ä¸­<span class="math inline">\(\pmb{C}\)</span>ä¸ºåæ–¹å·®çŸ©é˜µã€‚åœ¨çº¦æŸ<span class="math inline">\(||u||^2=1\)</span>ä¸‹æœ€å¤§åŒ–è¿™ä¸ªæ–¹å·®ï¼Œå¸¦çº¦æŸçš„ä¼˜åŒ–é—®é¢˜å°±å¾—çœ‹æ‹‰æ ¼æœ—æ—¥äº†ã€‚å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/2021071805054020.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç„¶åå°±å¾ˆç¥å¥‡åœ°å‡ºç°äº†ç‰¹å¾å€¼-ç‰¹å¾å‘é‡çš„ç­‰å¼ï¼Œå…¶ä¸­æœ€å¤§çš„ç‰¹å¾å€¼å°±æ˜¯æœ€å¤§æ–¹å·®ï¼Œå…¶å¯¹åº”çš„ç‰¹å¾å‘é‡å°±æ˜¯æœ€å¤§æ–¹å·®çš„æ–¹å‘ã€‚<br />
æ ¹æ®ä¸Šé¢çš„ç»“è®ºå¯å¾—ï¼š<span class="math inline">\(\pmb{CU}=\pmb{U}\Lambda\)</span>ï¼Œå…¶ä¸­<span class="math inline">\(\Lambda=diag(\lambda_1,...,\lambda_m)\)</span>ï¼Œ<span class="math inline">\(\pmb{U}=[\pmb{u_1,...,u_M}]\)</span>ï¼Œåˆ†åˆ«ä¸ºç‰¹å¾å€¼æ„æˆçš„å¯¹è§’çŸ©é˜µä»¥åŠç‰¹å¾å‘é‡æ„æˆçš„çŸ©é˜µ</p>
<blockquote>
<p>æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾çŸ©é˜µ<span class="math inline">\(\pmb{U}\)</span>æ˜¯æ­£äº¤çš„ï¼Œä¹Ÿå°±æ˜¯èŒƒæ•°ä¸º1ï¼Œä¸”è¿™ä¸ªå¯¹è§’çŸ©é˜µçš„ç‰¹å¾å€¼å·²ç»æŒ‰ç…§ä»å¤§åˆ°å°æ’åˆ—äº†</p>
</blockquote>
<p>ç„¶åæˆ‘ä»¬å°±èƒ½æŠŠåæ–¹å·®çŸ©é˜µ<span class="math inline">\(\pmb{C}\)</span>è¿›è¡Œåˆ†è§£ï¼š<span class="math display">\[\pmb{C}=\pmb{U}\Lambda\pmb{U}^{-1}\]</span><span class="math display">\[\pmb{C}=\pmb{U}\Lambda\pmb{U}^{T}\]</span> å¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20210718062453710.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ ¹æ®åæ–¹å·®çŸ©é˜µçš„å®šä¹‰æˆ‘ä»¬è¿˜çŸ¥é“ï¼ŒçŸ©é˜µ<span class="math inline">\(\pmb{C}\)</span>æ˜¯ä¸€ä¸ªæ­£çš„å®å¯¹ç§°çŸ©é˜µã€‚<br />
å¯¹äºæå°ï¼ˆçº¦ç­‰äº0ï¼‰çš„ç‰¹å¾å€¼ä»¥åŠå…¶å¯¹åº”çš„ç‰¹å¾å‘é‡ï¼Œæˆ‘ä»¬å°±ç›´æ¥èˆå»ï¼Œå› ä¸ºä»–ä»¬å¯¹äºçŸ©é˜µçš„ä¿¡æ¯ä½œç”¨ä¸å¤§ã€‚å€ŸåŠ©æå–çš„ç‰¹å¾å€¼æˆ‘ä»¬å°±èƒ½é‡æ–°æ„é€ æ–°çš„æ•°æ®é›†ï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210718063540655.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" />è¿™ç§æ–¹æ³•è®¡ç®—å‡ºæ¥çš„æ»¡è¶³ æœ€å°å‡æ–¹è¯¯å·®ï¼Œå³ï¼š<span class="math display">\[\min E(\pmb{u_1,...,u_D})=\sum_{n=1}^{N}||\pmb{x}^n-\tilde{\pmb{x}}^n||^2\]</span> ç°åœ¨è¿™ä¸ªé™ç»´è¿‡ç¨‹å°±ä»¥åŠå¤§è‡´ç»“æŸäº†ï¼Œåšä¸ªæ€»ç»“ï¼Œå…¶æ­¥éª¤å¤§è‡´æ˜¯ï¼š</p>
<blockquote>
<ol type="1">
<li>æ•°æ®æ ‡å‡†åŒ–ï¼ˆæ±‚è§£å¹¶å‡å»å‡å€¼ï¼‰<br />
</li>
<li>æ±‚è§£åæ–¹å·®çŸ©é˜µå¹¶è¿›è¡Œåˆ†è§£ï¼Œæå–å‰<span class="math inline">\(D\)</span>ä¸ªç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ï¼ˆç‰¹å¾å€¼å·²ä»å¤§åˆ°å°æ’åˆ—ï¼‰<br />
</li>
<li>ç”¨å¦‚ä¸‹æ–¹æ³•é‡æ„æ•°æ®ï¼š<br />
<img src="https://img-blog.csdnimg.cn/20210718064537281.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li>
<li>æœ‰æ—¶ä¹Ÿä¼šå°†æ¯ä¸ªç»´åº¦çš„æ–¹å·®å½’ä¸€.</li>
</ol>
</blockquote>
<p>ç°åœ¨è¿˜å‰©æœ€åä¸€ä¸ªé—®é¢˜ï¼šæ€ä¹ˆé€‰æ‹©ç»´åº¦<span class="math inline">\(D\)</span>ï¼Ÿ<br />
<span class="math inline">\(D\)</span>è¶Šå¤§çš„è¯è¿‘ä¼¼æ•ˆæœè¶Šå¥½ï¼Œæç«¯æƒ…å†µå°±æ˜¯<span class="math inline">\(D=M\)</span>ï¼Œä½†è¿™å°±æ²¡æ„ä¹‰äº†ã€‚<br />
é€‰æ‹©ç»´åº¦<span class="math inline">\(D\)</span>ä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸¤ç§è€ƒé‡ï¼š</p>
<ol type="1">
<li>çœ‹è¡¨ç°æ•ˆæœï¼Œå½“é€‰å–æŸç»´åº¦è¾¾åˆ°æˆ‘ä»¬éœ€è¦çš„æ•ˆæœæ—¶ï¼Œå°±é€‰è¿™ä¸ªç»´åº¦<span class="math inline">\(D\)</span>ï¼›<br />
</li>
<li>äº‹å…ˆå®šä¸€ä¸ªå€¼ï¼Œæ¯”å¦‚0.9ï¼Œç„¶åæŒ‰ç…§ä¸‹é¢å…¬å¼é€‰å–æ‰€éœ€ç»´åº¦ï¼š <img src="https://img-blog.csdnimg.cn/20210718065326292.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li>
</ol>
<h2 id="pcaçš„æ€»ç»“ä¸åº”ç”¨">PCAçš„æ€»ç»“ä¸åº”ç”¨</h2>
<p>æ€»ç»“ï¼š</p>
<blockquote>
<p>PCAå°†æ•°æ®æ˜ å°„åˆ°çº¿æ€§å­ç©ºé—´å†…<br />
PCAæœ€å¤§åŒ–æ˜ å°„çš„æ–¹å·®<br />
PCAæœ€å°åŒ–é‡æ„è¯¯å·®</p>
</blockquote>
<p>åº”ç”¨ï¼š</p>
<blockquote>
<p>PCAå…è®¸æˆ‘ä»¬å°†é«˜ç»´çš„è¾“å…¥ç©ºé—´è½¬åŒ–ä¸ºä½ç»´çš„ç‰¹å¾ç©ºé—´ï¼ŒåŒæ—¶æ•æ‰åˆ°æ•°æ®çš„æœ¬è´¨<br />
PCAä¸ºæ•°æ®æ‰¾åˆ°ä¸€ä¸ªæ›´è‡ªç„¶çš„åæ ‡ç³»(more natural coordinate)<br />
PCA å¸¸ç”¨äºé«˜ç»´è¾“å…¥æ•°æ®çš„é¢„å¤„ç†</p>
</blockquote>
<h1 id="ç»Ÿè®¡å­¦ä¹ ç†è®ºstatistical-learning-theory">ç»Ÿè®¡å­¦ä¹ ç†è®ºï¼ˆStatistical Learning Theoryï¼‰</h1>
<p>ç»Ÿè®¡å­¦ä¹ ç†è®ºçš„ç›®çš„æ˜¯ï¼šæˆ‘ä»¬ä¸€å¼€å§‹å¹¶ä¸çŸ¥é“æ­£ç¡®çš„æ¨¡å‹ï¼Œè€Œæ˜¯éœ€è¦ä»ä¸€ç»„æ¨¡å‹ä¸­é€‰ä¸€ä¸ªæœ€ä¼˜çš„ã€‚<br />
è¿™é‡Œçš„æœ€ä¼˜æŒ‡çš„æ˜¯æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œå³ä¸èƒ½åªåœ¨è®­ç»ƒæ•°æ®ä¸Šè¯¯å·®æœ€å°ã€‚<br />
æ—¢ç„¶æåˆ°äº†è¿™ç±»ä¼˜åŒ–ï¼Œå°±å¾—å¼•å…¥ä¸€ä¸ªæ¦‚å¿µâ€”â€”é£é™©ï¼ˆRiskï¼‰ã€‚ ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªæŸå¤±å‡½æ•°ï¼š<span class="math display">\[L(y,f(x,w))\]</span>åˆ™å…¶ç»éªŒé£é™©ï¼ˆEmpirical riskï¼‰ä¸ºï¼š<span class="math display">\[R_{emp}(w)=\frac{1}{N}\sum_{i=1}^{N}L(y_i,f(x_i,w))\]</span>è¿™é‡Œçš„<span class="math inline">\(N\)</span>æ˜¯æ•°æ®ç‚¹çš„æ•°é‡ã€‚<br />
ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºäºŒæ¬¡æ–¹çš„æŸå¤±å‡½æ•°ï¼Œå¯è¡¨ç¤ºä¸ºï¼š<span class="math display">\[R_{emp}(w)=\frac{1}{N}\sum_{i=1}^{N}(y_i-f(x_i,w))^2\]</span></p>
<p>ä½†åœ¨ç°å®ä¸­ï¼Œæˆ‘ä»¬æ›´å…³æ³¨çœŸå®é£é™©ï¼ˆTrue Riskï¼‰ï¼š<span class="math display">\[R(w)=\int L(y,f(x,w))p(x,y)dxdy=E_{x,y\sim p(x,y)}[L(y,f(x,w))]\]</span>è¿™é‡Œçš„<span class="math inline">\(p(\pmb{x},y)\)</span>æ˜¯<span class="math inline">\(\pmb{x}\)</span>å’Œ<span class="math inline">\(y\)</span>çš„è”åˆæ¦‚ç‡å¯†åº¦ã€‚<br />
ç”±è¿™ä¸ªå¼å­å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªé£é™©æ˜¯æ‰€æœ‰æ•°æ®é›†çš„é¢„æœŸè¯¯å·®ï¼Œæ˜¯æ³›åŒ–è¯¯å·®çš„å‡å€¼ã€‚<br />
ä½†è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè™½ç„¶<span class="math inline">\(p(x,y)\)</span>æ˜¯ç¡®å®šçš„ï¼Œä½†æˆ‘ä»¬é€šå¸¸æ— æ³•çŸ¥é“ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸èƒ½ç›´æ¥è®¡ç®—è¿™ä¸ªçœŸå®é£é™©ã€‚</p>
<p>å…³äºç»éªŒè¯¯å·®å’ŒçœŸå®è¯¯å·®ï¼Œä¸‹é¢è¿™ä¸ªå›¾å°±èƒ½å¾ˆå¥½è¯´æ˜äº†ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20210718174731487.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" /> è¿™ä¸‰æ¡è¾¹ç•Œéƒ½å¾ˆå¥½åœ°æŠŠæ•°æ®åˆ†å¼€äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ç»éªŒè¯¯å·®éƒ½æ˜¯0ï¼Œä½†ç”¨äºæµ‹è¯•æ—¶æ•ˆæœå¾ˆå¯èƒ½ä¼šæœ‰å¾ˆå¤§å·®åˆ«ã€‚</p>
<h2 id="ç»éªŒé£é™©ä¸çœŸå®é£é™©çš„å¯¹æ¯”">ç»éªŒé£é™©ä¸çœŸå®é£é™©çš„å¯¹æ¯”</h2>
<p><img src="https://img-blog.csdnimg.cn/20210718182451841.png#pic_center" /></p>
<blockquote>
<p>çœŸå®é£é™©ï¼š<br />
ä¼˜ç‚¹ï¼šå…·æœ‰è¡¡é‡æ³›åŒ–çš„èƒ½åŠ›<br />
ç¼ºç‚¹ï¼šé€šå¸¸æˆ‘ä»¬ä¸çŸ¥é“<span class="math inline">\(p(\pmb{x},y)\)</span></p>
</blockquote>
<blockquote>
<p>ç»éªŒé£é™©ï¼š<br />
ä¼˜ç‚¹ï¼šä¸éœ€è¦çŸ¥é“<span class="math inline">\(p(\pmb{x},y)\)</span><br />
ç¼ºç‚¹ï¼šæ— æ³•ç›´æ¥è¡¡é‡æ³›åŒ–èƒ½åŠ›<br />
ï¼ˆå­¦ä¹ ç®—æ³•é€šå¸¸æ—¶æœ€å°åŒ–ç»éªŒè¯¯å·®ï¼‰</p>
</blockquote>
<p>å½“æ•°æ®çš„åˆ†å¸ƒéå¸¸é›†ä¸­ï¼Œç»éªŒé£é™©å¯ä»¥é€šè¿‡è’™ç‰¹å¡æ´›é‡‡æ ·å’Œæ±‚å¹³å‡è¿‘ä¼¼è¡¨ç¤ºçœŸå®é£é™©ï¼Œå½“æ•°æ®é›†æ— é™å¤§æ—¶ï¼Œè¿™ç§è¿‘ä¼¼æ•ˆæœä¼šå¾ˆå¥½ã€‚ ç°ç»™å‡ºå¦‚ä¸‹è¿™ä¸ªå›¾ï¼š <img src="https://img-blog.csdnimg.cn/20210718220214545.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æœ‰å¦‚ä¸‹ä¸¤ä¸ªå‡è®¾ï¼š</p>
<blockquote>
<ol type="1">
<li>å½“è®­ç»ƒæ•°æ®è¶Šæ¥è¶Šå¤šæ—¶ï¼Œç»éªŒé£é™©ä¼šæ”¶æ•›äºçœŸå®é£é™©ï¼›<br />
</li>
<li>æ”¶æ•›æ˜¯å‡åŒ€çš„ã€‚</li>
</ol>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´æœ‰å¦‚ä¸‹ä¸¤ä¸ªå¼å­ï¼š <img src="https://img-blog.csdnimg.cn/20210718220521913.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210718220529526.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å…¶ä¸­çš„inf, supåˆ†åˆ«è¡¨ç¤ºä¸‹é™å’Œä¸Šé™ã€‚ å¦‚æœæ”¶æ•›æ˜¯å‡åŒ€çš„ï¼Œåˆ™ï¼š <img src="https://img-blog.csdnimg.cn/20210718221008431.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ï¼ˆè¿™é‡Œå¤šè¯´ä¸€å¥ï¼Œå¦‚æœè®­ç»ƒæ•°æ®å¾ˆå¤šçš„è¯ï¼Œè¿™ä¸ª<span class="math inline">\(p^*\)</span>æ˜¯è¶‹è¿‘äº0çš„ï¼‰ å¯¹äº<span class="math inline">\((1-p^*)\)</span>çš„æƒ…å†µï¼Œåˆ™æœ‰ï¼š <img src="https://img-blog.csdnimg.cn/20210718221431296.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ ¹æ®ä¸Šé¢å¼å­ä»¥åŠé‚£å‰¯æ›²çº¿å›¾ï¼Œå¯å¾—ï¼š <img src="https://img-blog.csdnimg.cn/20210718221600918.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä»¥ä¸Šå°±æ˜¯æ”¶æ•›ç‰¹æ€§çš„æ¨å¯¼è¿‡ç¨‹ã€‚è¿™é‡Œæœ‰ä¸ªé‡è¦çš„<strong>å……è¦</strong>æ¡ä»¶ï¼šå‡åŒ€æ”¶æ•›ã€‚<br />
<strong>ç»éªŒé£é™©æœ€å°åŒ–ä¿è¯äº†å½“<span class="math inline">\(N\rightarrow \infty\)</span>æ—¶çœŸå®é£é™©ä¹Ÿæœ€å°ã€‚</strong></p>
<h2 id="é£é™©è¾¹ç•Œrisk-bound">é£é™©è¾¹ç•Œï¼ˆRisk Boundï¼‰</h2>
<p>æ€æƒ³å°±æ˜¯ï¼šæ ¹æ®ç»éªŒé£é™©ç¡®å®šçœŸå®é£é™©çš„ä¸Šé™ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š<span class="math display">\[R(w)\leq R_{emp}(w)+\epsilon(N,p^*,h)\]</span>å…¶ä¸­ï¼š<span class="math inline">\(N\)</span>æ˜¯è®­ç»ƒæ•°æ®æ€»æ•°ï¼›<span class="math inline">\(p^*\)</span>æ˜¯é‡åˆ°è¾¹ç•Œçš„æ¦‚ç‡ï¼›<span class="math inline">\(h\)</span>æ˜¯å­¦ä¹ æœºçš„å­¦ä¹ èƒ½åŠ›ï¼Œç§°ä¸ºVCç»´åº¦ï¼ˆVC-dimensionï¼‰ã€‚ å­¦ä¹ èƒ½åŠ›ï¼ˆLearning Powerï¼‰å¯ç”¨ä¸‹é¢è¿™å¹…å›¾è§£é‡Šï¼š <img src="https://img-blog.csdnimg.cn/20210718222837981.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å°±æ˜¯æ¨¡å‹çš„å¤æ‚ç¨‹åº¦</p>
<h3 id="vc-dimension">VC-dimension</h3>
<p>VCå…¨ç¨‹æ˜¯Vapnik-Chervonenkisï¼Œå¤§æ¦‚å®šä¹‰å°±æ˜¯ï¼š</p>
<blockquote>
<p>ä¸€ä¸ªå‡½æ•°æ—çš„VCç»´åº¦æ˜¯æŒ‡èƒ½å¤Ÿè¢«è¯¥å‡½æ•°æ—æ­£ç¡®åˆ†ç±»çš„æ•°æ®ç‚¹çš„æœ€å¤§æ•°é‡ï¼ˆæ— è®ºæ•°æ®ç‚¹çš„æ ‡ç­¾é…ç½®å¦‚ä½•ï¼‰ã€‚ VCç»´åº¦æ˜¯å¯¹ä¸€ä¸ªåˆ†ç±»å™¨çš„åˆ†ç±»èƒ½åŠ›æˆ–è€…è¯´ "å­¦ä¹ èƒ½åŠ› "çš„è¡¡é‡ã€‚</p>
</blockquote>
<p>VCç»´åº¦çš„ç¡®å®šï¼šå¯¹äº<span class="math inline">\(\mathcal{R}^n\)</span>çš„çº¿æ€§åˆ†ç±»å™¨ï¼ˆè¶…å¹³é¢ï¼‰ï¼ŒVCç»´åº¦ä¸º<span class="math inline">\(n+1\)</span>ã€‚æ¯”å¦‚è¯´ï¼Œå¯¹äºä¸‹å›¾æ‰€ç¤ºçš„çº¿æ€§åˆ†ç±»å™¨(<span class="math inline">\(\mathcal{R}^2\)</span>)ï¼Œç»´åº¦ä¸º3. <img src="https://img-blog.csdnimg.cn/20210718223543362.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ï¼ˆæ³¨ï¼šä¸Šé¢è¿™ç§ç¡®å®šæ–¹æ³•åªèƒ½è¯´æ˜¯å¯¹å¤§å¤šæ•°æƒ…å†µéƒ½æœ‰æ•ˆçš„ï¼Œä½†ä¸æ˜¯å…¨éƒ¨ã€‚ï¼‰</p>
<p>(è¿™ç¯‡è¿˜æœªå†™å®Œï¼Œåé¢å…³äºVCç»´åº¦çš„å…¶ä½™æ¦‚å¿µï¼Œä¸å¤ªæ˜ç™½åœ¨å¹²å˜›ï¼Œå…ˆæ”¾ç€ï¼Œä»¥åæœ‰æƒ³æ³•äº†å†è¡¥å…… )</p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>åˆ†ç±»é—®é¢˜ï¼ˆClassificationï¼‰</title>
    <url>/posts/10.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>å¼€å§‹å‰å…ˆå›é¡¾ä¸€ä¸‹è´å¶æ–¯å†³ç­–ç†è®ºã€‚ <span id="more"></span> ç»™å®šè§‚æµ‹å˜é‡<span class="math inline">\(x\)</span>ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°ç±»åˆ«<span class="math inline">\(C_k\)</span>çš„åéªŒæ¦‚ç‡ï¼Œæœ‰å¦‚ä¸‹å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210717001003505.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å†³ç­–çš„æ¡ä»¶æ˜¯ï¼š å¦‚æœ<span class="math inline">\(p(C_1|x)&gt;p(C_2|x)\)</span>ï¼Œåˆ™é€‰æ‹©<span class="math inline">\(C_1\)</span>ï¼Œå¦åˆ™<span class="math inline">\(C_2\)</span>ã€‚ç”¨ä¸Šé¢çš„æ¡ä»¶æ¦‚ç‡åˆ™å¯ä»¥å†™æˆï¼š <img src="https://img-blog.csdnimg.cn/20210717001233629.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> éµä»è¿™ä¸€è§„åˆ™çš„åˆ†ç±»å™¨ç§°ä¸ºè´å¶æ–¯æœ€ä¼˜åˆ†ç±»å™¨ï¼ˆBayes optimal classifierï¼‰ã€‚<br />
ä»¥å‰æˆ‘ä»¬è¦è®¡ç®—è®¡ç®—è¿™ä¸ªåˆ†ç±»åéªŒçš„è¯ï¼Œéœ€è¦æ ¹æ®è´å¶æ–¯å…¬å¼ï¼Œå»ºç«‹æ¨¡å‹å¹¶ä¼°è®¡æ¡ä»¶å¯†åº¦<span class="math inline">\(p(x|C_k)\)</span>å’Œç±»åˆ«å…ˆéªŒ<span class="math inline">\(p(C_k)\)</span>ï¼Œé€šè¿‡æœ€å¤§åŒ–<span class="math inline">\(p(C_k|x)\)</span>æ¥ä½¿é”™è¯¯æ¦‚ç‡æœ€å°ã€‚<br />
ä½†ç°åœ¨æˆ‘ä»¬ä¸å†éœ€è¦å¯¹å¯†åº¦è¿›è¡Œå»ºæ¨¡ï¼Œè€Œæ˜¯ç›´æ¥ç¼–ç å†³ç­–è¾¹ç•Œï¼Œç„¶åæœ€å°åŒ–é”™è¯¯æ¦‚ç‡ã€‚</p>
<h1 id="åˆ¤åˆ«å‡½æ•°discriminant-functions">åˆ¤åˆ«å‡½æ•°ï¼ˆDiscriminant Functionsï¼‰</h1>
<h2 id="åŸºæœ¬çŸ¥è¯†">åŸºæœ¬çŸ¥è¯†</h2>
<p>å¤§æ¦‚å°±æ˜¯é€šè¿‡æ¯”è¾ƒæ³•å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»ã€‚ç°æœ‰æ•°æ®<span class="math inline">\(x\)</span>ï¼Œä»¥åŠ<span class="math inline">\(K\)</span>ä¸ªç±»åˆ«ï¼Œå¯¹åº”æœ‰<span class="math inline">\(K\)</span>ä¸ªåˆ¤åˆ«å‡½æ•°ï¼š<span class="math display">\[y_1(x),...,y_k(x)\]</span>å½“<span class="math display">\[y_k(x)&gt;y_j(x)\]</span>æ—¶ï¼Œå°†æ•°æ®<span class="math inline">\(x\)</span>åˆ†ç±»ç»™<span class="math inline">\(C_k\)</span>ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæ ¹æ®è´å¶æ–¯åˆ†ç±»å™¨ï¼Œåˆ¤åˆ«å‡½æ•°å¯æœ‰å¦‚ä¸‹å‡ ç§å½¢å¼ï¼š<span class="math display">\[y_k(x)=p(C_k|x)\]</span> <span class="math display">\[y_k(x)=p(x|C_k)p(C_k)\]</span> <span class="math display">\[y_k(x)=\log(x|C_k)+\log p(C_k)\]</span> å†ä¸¾ä¸ªä¾‹å­ï¼Œå½“<span class="math inline">\(K=2\)</span>ï¼Œå³æ˜¯è¯´åªæœ‰ä¸¤ä¸ªç±»åˆ«æ—¶ï¼Œåˆ¤æ–­ä¸ºç±»åˆ«<span class="math inline">\(1\)</span>çš„æ ‡å‡†æœ‰ä»¥ä¸‹å‡ ç§å½¢å¼ï¼š<span class="math display">\[y_1(x)&gt;y_2(x)\]</span> <span class="math display">\[y(x)&gt;0\]</span> å…¶ä¸­<span class="math inline">\(y(x)\)</span>å¯ä»¥ä¸ºä»¥ä¸‹ä¸¤ç§å½¢å¼ï¼š<span class="math display">\[y(x)=p(C_1|x)-p(C_2|x)\]</span> <span class="math display">\[y(x)=\log \frac{p(x|C_1)}{p(x|C_2)}+\log \frac{p(C_1)}{p(C_2)}\]</span></p>
<h2 id="çº¿æ€§åˆ¤åˆ«å‡½æ•°linear-discriminant-functions">çº¿æ€§åˆ¤åˆ«å‡½æ•°ï¼ˆLinear Discriminant Functionsï¼‰</h2>
<h3 id="äºŒåˆ†ç±»">äºŒåˆ†ç±»</h3>
<p>åœ¨çº¿æ€§åˆ¤åˆ«å™¨ä¸­ï¼Œå†³ç­–é¢æ˜¯ï¼ˆè¶…ï¼‰å¹³é¢ï¼Œå…¶çº¿æ€§å†³ç­–æ–¹ç¨‹ä¸ºï¼š <span class="math display">\[y(x)=w^Tx+w_0\]</span> æ­¤å¤„<span class="math inline">\(w\)</span>æ˜¯æ³•å‘é‡ï¼Œ<span class="math inline">\(w_0\)</span>æ˜¯åç½®ã€‚ å‡è®¾æ•°æ®ç»´åº¦æ˜¯2çš„è¯ï¼Œå…¶å›¾ç¤ºä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210717033655649.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¸Šå›¾é‚£äº›å†™å¾—å¤å¤æ‚æ‚çš„ä¸œè¥¿å°±æ˜¯åœ¨è®¡ç®—è·ç¦»ã€‚ç¨å¾®å†™å¾—æ¸…æ¥šä¸€ç‚¹çš„è¯å°±æ˜¯ï¼Œå‡è®¾ç°æœ‰ä¸€ç‚¹<span class="math inline">\(x_0\)</span>ï¼Œå…¶åˆ°åˆ†ç¦»ï¼ˆè¶…ï¼‰å¹³é¢çš„è·ç¦»ä¸ºï¼š<span class="math inline">\(r=\frac{|w*x_0+b|}{||w||}\)</span>ï¼Œå…¶ä¸­<span class="math inline">\(||w||\)</span>ä¸º2èŒƒæ•°ã€‚</p>
<h3 id="å¤šåˆ†ç±»">å¤šåˆ†ç±»</h3>
<p>å¯¹äºå¤šåˆ†ç±»ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯ç®€å•åœ°è¿ç”¨äºŒåˆ†ç±»åœ°å†³ç­–è§„åˆ™ï¼Œåˆ™å¯èƒ½ä¼šäº§ç”Ÿäº‰è®®æ•°æ®ï¼ˆåŒºé—´ï¼‰ï¼Œæ¯”å¦‚è¯´ä¸‹é¢ä¸¤ç§æƒ…å†µï¼š <img src="https://img-blog.csdnimg.cn/20210717034936687.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿ç”¨åˆ¤åˆ«å‡½æ•°åˆ™å¯ä»¥çŸ¥é“æ¯ä¸ªæ•°æ®å±äºæŸä¸€æ ‡ç­¾çš„â€å¯ä¿¡åº¦â€œï¼Œæ¯•ç«Ÿâ€è·ç¦»â€œæœ‰é•¿æœ‰çŸ­å®¹æ˜“æ¯”è¾ƒã€‚å…¶å®è·Ÿä¸Šé¢çš„äºŒåˆ†ç±»ç±»ä¼¼ï¼Œåªæ˜¯è¿™é‡Œæ¯”è¾ƒçš„ä¸œè¥¿å¤šä¸€ç‚¹ã€‚å¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20210717035308951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¦‚æœåˆ¤åˆ«å‡½æ•°æ˜¯çº¿æ€§çš„ï¼Œåˆ™å†³ç­–åŒºåŸŸæ˜¯äº’ç›¸è¿æ¥ä¸”æ˜¯å‡¸çš„ã€‚</p>
<h1 id="fisher-åˆ¤åˆ«åˆ†æfisher-discriminant-analysis">Fisher åˆ¤åˆ«åˆ†æï¼ˆFisher Discriminant Analysisï¼‰</h1>
<p>Fisherçº¿æ€§åˆ¤åˆ«åˆ†ææ˜¯çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAæ¨¡å‹ï¼‰çš„ä¸€ç§ï¼Œå®ƒçš„ç›®çš„å¤§æ¦‚å°±æ˜¯ï¼šç»™å®šä¸€ä¸ªæŠ•å½±å‘é‡<span class="math inline">\(w\)</span>ï¼Œå°†æ•°æ®<span class="math inline">\(x\)</span>æŠ•å½±åˆ°<span class="math inline">\(w\)</span>å‘é‡ä¸Šï¼Œä½¿å¾—ä¸åŒç±»åˆ«çš„<span class="math inline">\(x\)</span>æŠ•å½±åçš„å€¼<span class="math inline">\(y\)</span>å°½å¯èƒ½äº’ç›¸åˆ†å¼€ã€‚</p>
<h2 id="ä¸€ä¸ªä¾‹å­ç”¨ä½œå¼•å‡º">ä¸€ä¸ªä¾‹å­ç”¨ä½œå¼•å‡º</h2>
<p>åœ¨è®²è§£è¿™ä¸ªåˆ¤åˆ«åˆ†æå‰å…ˆæ¥çœ‹ä¸ªä¾‹å­ï¼š ä»¥äºŒç»´æ•°æ®ä¸ºä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æè¿‡çš„ï¼š <img src="https://img-blog.csdnimg.cn/20210717040640731.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å…¶æ•°æ®å½¢å¼ä»¥åŠåˆ†ç±»æ ‡å‡†å¦‚ä¸‹ï¼š<span class="math display">\[y(x)=+1 \leftrightarrow x\in C_1\]</span> <span class="math display">\[y(x)=-1 \leftrightarrow x\in C_2\]</span> è®­ç»ƒè¾“å…¥ï¼š<span class="math inline">\(X=\left\{x_1 \in \mathcal{R}^d,...,x_n\right\}\)</span><br />
è®­ç»ƒæ ‡ç­¾ï¼š<span class="math inline">\(Y=\left\{y_1\in[-1,+1],...,y_n\right\}\)</span><br />
<strong>æœ€å°äºŒä¹˜æ³•</strong><br />
æˆ‘ä»¬å…ˆå°è¯•ç”¨æœ€å°äºŒä¹˜æ³•ã€‚<br />
å…ˆå†™å‡ºçº¿æ€§åˆ¤åˆ«å‡½æ•°ï¼š<span class="math display">\[x_i^Tw+w_0=y_i,\forall i=1,...,n\]</span>æ¯ä¸ªè®­ç»ƒæ•°æ®ç‚¹åŠæ ‡ç­¾éƒ½æœ‰ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ã€‚<br />
æŠŠåç½®<span class="math inline">\(w_0\)</span>æ•´åˆè¿›æƒé‡<span class="math inline">\(w\)</span>é‡Œæ¯”è¾ƒå¥½çœ‹ï¼Œè®­ç»ƒæ•°æ®ç‚¹ä¹Ÿè¦å› æ­¤å¤šä¸€ä¸ªç»´åº¦ï¼Œå³æ˜¯ï¼š<span class="math display">\[\hat{x}_i=(x_i \quad1)^T\in\mathcal{R}^{d\times1}\]</span> <span class="math display">\[\hat{w}=(w \quad w_0)^T\in\mathcal{R}^{d\times1}\]</span>æ‰€ä»¥æ–¹ç¨‹æ”¹æˆï¼š<span class="math display">\[\hat{x}_i^T\hat{w}=y_i,\quad \forall i=1,...,n\]</span>è¡¨ç¤ºæˆçŸ©é˜µå‘é‡å½¢å¼åˆ™å¦‚ä¸‹ï¼š<span class="math display">\[\hat{X}^T\hat{w}=y\]</span>æ­¤å¤„<span class="math inline">\(\hat{X}=[\hat{x}_1,...,\hat{x}_n]\in \mathcal{R}^{d\times n},\quad y=[y_1,...,y_n]^T\)</span><br />
è¿™é‡Œæœ‰<span class="math inline">\(n\)</span>ä¸ªæ–¹ç¨‹å’Œ<span class="math inline">\(d+1\)</span>ä¸ªæœªçŸ¥æ•°ï¼Œå±äºè¶…å®šæ–¹ç¨‹ï¼ˆå› ä¸ºä¸€èˆ¬æ¥è¯´<span class="math inline">\(n\)</span>æ€»æ˜¯å¤§äº<span class="math inline">\(d+1\)</span>çš„ï¼‰ã€‚<br />
ç”¨æœ€å°äºŒä¹˜æ³•æ±‚è§£å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/2021071704255380.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™éƒ¨åˆ†å’Œä¸Šä¸€ç¯‡çš„çº¿æ€§å›å½’é‡Œçš„æ˜¯ä¸€æ ·çš„ã€‚ ç”¨æœ€å°äºŒä¹˜æ³•æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¿™ç§æ–¹æ³•å¯¹äºå¼‚å¸¸å€¼ç‰¹åˆ«æ•æ„Ÿï¼Œä¸‹é¢ä¸¤å¹…å›¾å°±å¾ˆç›´è§‚äº†ï¼š <img src="https://img-blog.csdnimg.cn/20210717042818947.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="æ­£å¼å¼€å§‹">æ­£å¼å¼€å§‹</h2>
<p>å¯¹æ•°æ®è¿›è¡ŒæŠ•å½±ï¼Œè¿™æœ‰ä¸€å¹…å½¢è±¡çš„å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20210717043324300.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œå¤§æŠµè¿˜æ˜¯è·Ÿå‰é¢ç±»ä¼¼ï¼Œä¸è¿‡æ¢ä¸ªåå­—æ¯”è¾ƒå¥½è¯´æ˜ã€‚<br />
æŠ•å½±ï¼ˆProjectionï¼‰ï¼š<span class="math inline">\(y=w^Tx\)</span><br />
å¯¹ç…§é˜ˆå€¼è¿›è¡Œåˆ†æï¼š<span class="math inline">\(w^Tx\ge -w_0\)</span> æˆ–<span class="math inline">\(w^Tx+w_0\ge0\)</span><br />
æ€æ ·çš„æŠ•å½±<span class="math inline">\(w\)</span>æ‰æ˜¯ä¸€ä¸ªå¥½çš„æŠ•å½±å‘¢ï¼Ÿå¯ä»¥æœ€å¤§é™åº¦åœ°æ‰©å¤§ä¸¤ç±»ä¹‹é—´çš„ "è·ç¦»"ï¼Œä»¥å®ç°è‰¯å¥½çš„åˆ†ç¦»ã€‚é‚£æ€ä¹ˆåšï¼Ÿ</p>
<h3 id="å°è¯•æœ€å¤§åŒ–ä¸¤ä¸ªç±»çš„å‡å€¼æ•ˆæœä¸å¥½">å°è¯•æœ€å¤§åŒ–ä¸¤ä¸ªç±»çš„å‡å€¼ï¼ˆæ•ˆæœä¸å¥½ï¼‰</h3>
<p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥è¯•è¯•ä¸¤ä¸ªç±»çš„å‡å€¼ï¼Œè®©å…¶è·ç¦»æœ€å¤§ï¼š <img src="https://img-blog.csdnimg.cn/2021071704401127.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å°†å‡å€¼æŠ•å½±åˆ°ä¸€ç»´çº¿ä¸Šï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210717044207217.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç„¶åæœ€å¤§åŒ–ä¸¤å‡å€¼è·ç¦»çš„å¹³æ–¹ï¼š<span class="math display">\[\max(m_1-m_2)^2\]</span>å³æ˜¯ï¼š <img src="https://img-blog.csdnimg.cn/20210717044425121.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œæ®è¯´æœ‰ä¸ªæ˜æ˜¾çš„é—®é¢˜ï¼Œè¿™ä¸ªè·ç¦»ä¼šéšç€<span class="math inline">\(w\)</span>çš„normçš„å¢åŠ è€Œæ— é™å¢åŠ ï¼Œä¸ºäº†é™åˆ¶è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åŠ ä¸ªçº¦æŸæ¡ä»¶ï¼Œå°±æœ‰äº†å¦‚ä¸‹å¼å­ï¼š <img src="https://img-blog.csdnimg.cn/20210717045331674.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™æ˜¯ä¸€ä¸ªå¸¦çº¦æŸæ¡ä»¶çš„ä¼˜åŒ–é—®é¢˜ï¼Œç¬¬ä¸€æƒ³æ³•è‚¯å®šæ˜¯ç”¨æ‹‰æ ¼æœ—æ—¥äº†ï¼ŒåŠ å…¥æ‹‰æ ¼æœ—æ—¥ç®—å­ï¼Œå„ç§è®¡ç®—ï¼Œå°±æœ‰ä¸‹é¢çš„è¿‡ç¨‹ï¼š <img src="https://img-blog.csdnimg.cn/20210717045515526.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è§£å‡ºï¼š<span class="math display">\[w=\frac{m_1-m_2}{||m_1-m_2||}\]</span> æˆ‘ä»¬èƒ½å¾—å‡ºä¸‹å›¾çš„ç»“æœï¼š <img src="https://img-blog.csdnimg.cn/20210717045650708.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™åˆæœ‰ä¸ªé—®é¢˜ï¼Œç”±å›¾å¯ä»¥çœ‹å‡ºï¼Œä¸¤ä¸ªç±»æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†é‡åˆäº†ã€‚ä¸‹é¢è¿™ä¸ªå›¾æ‰æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼š <img src="https://img-blog.csdnimg.cn/20210717045819935.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä½†è¦æ€ä¹ˆåšï¼Ÿ ä¸€æ³¢è‡ªé—®è‡ªç­”ï¼šåœ¨å°½å¯èƒ½è¿œå¾—åˆ†ç¦»ä¸¤å‡å€¼å¾—åŒæ—¶ï¼Œä¹Ÿè¦è®©æ¯ä¸ªç±»å¾—æ–¹å·®å°½é‡å°ã€‚</p>
<h3 id="åŒæ—¶è€ƒè™‘å‡å€¼å’Œæ–¹å·®æ­£å¼å¼•å…¥fisherçº¿æ€§åˆ¤åˆ«æ³•">åŒæ—¶è€ƒè™‘å‡å€¼å’Œæ–¹å·®ï¼ˆæ­£å¼å¼•å…¥Fisherçº¿æ€§åˆ¤åˆ«æ³•ï¼‰</h3>
<p>å®šä¹‰æ¯ä¸ªç±»çš„æ–¹å·®ï¼š <img src="https://img-blog.csdnimg.cn/20210717050730975.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç„¶åæ˜¯Fisheræ ‡å‡†ï¼š <img src="https://img-blog.csdnimg.cn/20210717050818222.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å°†åˆ†å­å±•å¼€ï¼š <img src="https://img-blog.csdnimg.cn/20210717050930288.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™å°±å¼•å…¥äº†ç±»åˆ«é—´çš„åæ–¹å·®ã€‚ ç„¶åå†å°†åˆ†æ¯å±•å¼€ï¼š <img src="https://img-blog.csdnimg.cn/2021071705115256.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç»¼åˆä»¥ä¸Šä¸¤ä¸ªå±•å¼€ï¼ŒFisheræ ‡å‡†å¯ä»¥å†™æˆï¼š <img src="https://img-blog.csdnimg.cn/20210717051310157.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¯¹<span class="math inline">\(w\)</span>è¿›è¡Œå¾®åˆ†å¹¶ç­‰äº0åˆ™æœ‰ï¼š<span class="math display">\[(w^TS_Bw)S_Ww=(w^TS_Ww)S_Bw\]</span> åœ¨è¿™é‡Œ<span class="math inline">\((w^TS_Bw)\)</span>å’Œ<span class="math inline">\((w^TS_Ww)\)</span>éƒ½æ˜¯æ ‡é‡ï¼Œæ‰€ä»¥æœ‰ï¼š<span class="math display">\[S_Ww ||S_Bw\]</span>è¿™é‡Œ<span class="math inline">\(||\)</span>è¡¨å…±çº¿ï¼ˆcollinearityï¼‰ã€‚ ç„¶åç”±ä¸Šé¢çš„å¼å­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š<span class="math display">\[S_Bw=(m_1-m_2)(m_1-m_2)^Tw\rightarrow S_Bw||(m_1-m_2)\]</span>(è¿˜æ˜¯å› ä¸ºæ ‡é‡çš„å…³ç³»æ‰€ä»¥å…±çº¿)ã€‚ åŒç†å¯å¾—ï¼š<span class="math display">\[S_Ww\quad ||\quad(m_1-m_2)\]</span> <span class="math display">\[w\quad || \quad S_W^{-1}(m_1-m_2)\]</span> æ‰€ä»¥å°±å¼•å‡ºäº†Fisher çº¿æ€§åˆ¤åˆ«ï¼ˆFisherâ€™s Linear Discriminantï¼‰ï¼š<span class="math display">\[w\propto S_W^{-1}(m_1-m_2)\]</span> è¿™ä¸ªçº¿æ€§åˆ¤åˆ«åªæä¾›äº†æŠ•å½±ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ‰¾åˆ°é˜ˆå€¼ï¼Œæ–¹æ³•æœ‰ä¸å°‘ï¼Œæ¯”å¦‚è´å¶æ–¯åˆ†ç±»å™¨å’Œé«˜æ–¯åˆ†ç±»æ¡ä»¶ã€‚<br />
å½“ç±»æ¡ä»¶åˆ†å¸ƒç›¸ç­‰ï¼Œä¸”åæ–¹å·®æ˜¯å¯¹è§’çŸ©é˜µï¼Œåˆ™Fisherçº¿æ€§åˆ¤åˆ«æ˜¯è´å¶æ–¯æœ€ä¼˜çš„ã€‚<br />
å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒFisherçº¿æ€§åˆ¤åˆ«æ³•æ˜¯æœ€å°äºŒä¹˜æ³•çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚å¦å¤–ï¼Œè¿™ç§æ–¹æ³•å¯¹äºå™ªå£°ä¾æ—§å¾ˆæ•æ„Ÿ</p>
<h1 id="æ„ŸçŸ¥å™¨ç®—æ³•perceptron-algorithm">æ„ŸçŸ¥å™¨ç®—æ³•ï¼ˆPerceptron Algorithmï¼‰</h1>
<p>æ„ŸçŸ¥å™¨ç®—æ³•æ˜¯ä¸€ç§å¯ä»¥ç›´æ¥å¾—åˆ°çº¿æ€§åˆ¤åˆ«å‡½æ•°çš„çº¿æ€§åˆ†ç±»æ–¹æ³•ï¼Œæ˜¯åŸºäºæ ·æœ¬çº¿æ€§å¯åˆ†çš„è¦æ±‚ä¸‹ä½¿ç”¨çš„ã€‚<br />
å¦‚æœæˆ‘ä»¬çš„ç±»åˆ«çº¿æ€§å¯åˆ†ï¼Œåˆ™æˆ‘ä»¬è‚¯å®šå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªåˆ†ç¦»ï¼ˆè¶…ï¼‰å¹³é¢ã€‚<br />
<strong>æ„Ÿå—å™¨åˆ¤åˆ«å‡½æ•°ï¼ˆPerceptron discriminant functionï¼‰</strong>ä¸ºï¼š<span class="math display">\[y(x)=sign(w^Tx+b)\]</span>æ­¤å¤„çš„<span class="math inline">\(sign(x)=\left\{+1,x&gt;0;0,x=0;-1,x&lt;0\right\}\)</span><br />
å³æ˜¯ä¸‹å›¾çš„å‡½æ•°ï¼š <img src="https://img-blog.csdnimg.cn/20210717065852632.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ„ŸçŸ¥å™¨ç®—æ³•çš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210717070135533.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç°åœ¨å°±å‡ºç°äº†ä¸€ä¸ªä¼˜åŒ–é—®é¢˜äº†ï¼Œè¿™é‡Œæœ€ç›´æ¥çš„æƒ³æ³•æ˜¯è®¡ç®—è¯¯åˆ†ç±»çš„ç‚¹æ€»æ•°ï¼Œä½†è¿™ç§æ–¹æ³•ä¸å¥½å¾®åˆ†ï¼Œå°±ç”¨å¦ä¸€ç§ï¼Œè®¡ç®—ç‚¹åˆ°åˆ†ç¦»ï¼ˆè¶…ï¼‰å¹³é¢çš„è·ç¦»ï¼Œå°±å¼•å‡ºäº†ä¸‹é¢è¿™ä¸ªä¼˜åŒ–å‡½æ•°ï¼š <img src="https://img-blog.csdnimg.cn/20210717170805416.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> åœ¨å¾ˆå¤šåœ°æ–¹æ›´å¸¸è§çš„æ˜¯è®¡ç®—æœ€å°å€¼ï¼Œä½†éƒ½ä¸€æ ·ï¼Œåªæ˜¯ä»–ä»¬äº‹å…ˆåŠ äº†ä¸ªè´Ÿå·ï¼Œè¿™é‡Œæ²¡åŠ ã€‚ç¨å¾®è§£é‡Šä¸€ä¸‹ï¼Œå¯¹äºè¯¯åˆ†ç±»çš„ç‚¹ï¼Œæ¯”å¦‚ç‚¹<span class="math inline">\(x_i\)</span>ï¼Œä¸ç®¡æ˜¯æŠŠè¿™ä¸ªç‚¹è¯¯åˆ†åˆ°äº†å“ªä¸€ç±»ï¼Œ<span class="math inline">\(y_i*(wx_i+b)\)</span>éƒ½æ˜¯å°äº0çš„ï¼Œæ¯•ç«Ÿå¦‚æœå¤§äº0å°±æ„å‘³ç€åŒå·å³æ˜¯åˆ†ç±»æ­£ç¡®äº†ã€‚<br />
æŠŠä¸‹é¢é‚£ä¸ªå¼å­å†™å®Œå…¨çš„è¯åº”è¯¥æ˜¯è¿™æ ·å­ï¼š<span class="math display">\[\sum_{x\in X:\left\langle w,x \right\rangle &lt;0}\left\langle w,x \right\rangle =\sum_{...}\frac{1}{||w||}y_i*(wx_i+b)\]</span> ç”¨gradientçš„æ–¹æ³•æ±‚è§£å¦‚ä¸‹ï¼š<span class="math display">\[\frac{\partial J}{\partial w}=\sum_{...}x\]</span></p>
<blockquote>
<p>æ³¨æ„ï¼Œç»å…¸çš„æ„ŸçŸ¥å™¨åªèƒ½åšçº¿æ€§äºŒåˆ†ç±»ã€‚</p>
</blockquote>
<h1 id="é€»è¾‘å›å½’logistic-regression">é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰</h1>
<p>ï¼ˆè¿™éƒ¨åˆ†æ¥è§¦è¿‡å¾ˆå¤šï¼Œå°±ç®€å•è®°äº†ï¼‰</p>
<h2 id="generative-vs.-discriminative">Generative vs. Discriminative</h2>
<p>å¯¹è§£å†³åˆ†ç±»é—®é¢˜ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å‘ï¼ŒGenerative å’Œ Discriminativeï¼Œè¿™é‡Œå¯¹ä¸¤ç§æ–¹æ³•åšä¸ªå¤§æ¦‚çš„å¯¹æ¯”ï¼š</p>
<blockquote>
<p>Generative modelling: æˆ‘ä»¬å…ˆæ„é€ æ¡ä»¶åˆ†å¸ƒæ¨¡å‹<span class="math inline">\(p(x|C_2)\)</span>å’Œ<span class="math inline">\(p(x|C_1)\)</span> è¿ç”¨è´å¶æ–¯è§„åˆ™è®¡ç®—å…¶åéªŒåˆ†å¸ƒ ä¾‹å­ï¼šNavie Bayes</p>
</blockquote>
<blockquote>
<p>Discriminative modelling: æˆ‘ä»¬ç›´æ¥æ„é€ ç±»çš„åéªŒæ¯”å¦‚è¯´<span class="math inline">\(p(C_1|x)\)</span> æˆ‘ä»¬åªå…³å¿ƒåˆ†ç±»æ˜¯å¦æ­£ç¡®ï¼Œè€Œä¸å…³å¿ƒæ˜¯å¦ç¬¦åˆç±»çš„æ¡ä»¶ã€‚ ä¾‹å­ï¼šé€»è¾‘å›å½’</p>
</blockquote>
<h2 id="æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹probabilistic-discriminative-models">æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹ï¼ˆProbabilistic Discriminative Modelsï¼‰</h2>
<h3 id="sigmoidå‡½æ•°çš„å¼•å‡º">Sigmoidå‡½æ•°çš„å¼•å‡º</h3>
<p>è¿ç”¨è´å¶æ–¯å®šç†ï¼š <img src="https://img-blog.csdnimg.cn/20210717180508708.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å…¶å›¾åƒå¦‚ä¸‹ï¼Œå‘ˆ<span class="math inline">\(S\)</span>å‹ï¼Œå°†ä¼ å…¥çš„å®æ•°å‹åœ¨<span class="math inline">\([0,1]\)</span>åŒºé—´å†…ã€‚ <img src="https://img-blog.csdnimg.cn/20210717180723404.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å‡è®¾é‡Œé¢è¿™ä¸ª<span class="math inline">\(\alpha\)</span>æ˜¯çº¿æ€§çš„è¯ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒï¼‰ï¼ŒåéªŒå°±å¯ä»¥å†™ä¸ºï¼š<span class="math display">\[p(C_1|x)=\sigma(w^Tx+w_0)\]</span>ç„¶åå°±æ˜¯æ±‚æƒé‡å’Œåç½®äº†ã€‚ æ±‚è¿™ä¸¤ä¸ªä¸œè¥¿çš„æ–¹æ³•ä¹Ÿæœ‰ä¸å°‘ï¼Œå°è±¡ä¸­æ¢¯åº¦ä¸‹é™åº”è¯¥æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œå› ä¸ºå¤ªå¸¸è§äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¸è®°å½•ï¼Œè€Œæ˜¯è®°å½•æœ€å¤§ä¼¼ç„¶ï¼š <img src="https://img-blog.csdnimg.cn/20210717182341543.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h1 id="é™„ä½œä¸šç›¸å…³ä»£ç ">ï¼ˆé™„ï¼‰ä½œä¸šç›¸å…³ä»£ç </h1>
<p><img src="https://img-blog.csdnimg.cn/2021071718244386.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_split_data</span>(<span class="params">path</span>):</span></span><br><span class="line">    data = np.loadtxt(path)</span><br><span class="line">    C_1 = data[:<span class="number">50</span>]</span><br><span class="line">    C_2 = data[<span class="number">50</span>:<span class="number">93</span>]</span><br><span class="line">    C_3 = data[<span class="number">93</span>:]</span><br><span class="line">    <span class="keyword">return</span> C_1, C_2, C_3, data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">linear_discriminant_analysis</span>(<span class="params">c_1, c_2</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    params:</span></span><br><span class="line"><span class="string">        c_1(ndarray): (n, 2)</span></span><br><span class="line"><span class="string">        c_2(ndarray): (n, 2)</span></span><br><span class="line"><span class="string">    return:</span></span><br><span class="line"><span class="string">        w(ndarray): (2,1)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    n1, d1 = c_1.shape</span><br><span class="line">    n2, d2 = c_2.shape</span><br><span class="line">    m1 = np.mean(c_1, axis=<span class="number">0</span>)<span class="comment">#(1,2)</span></span><br><span class="line">    m2 = np.mean(c_2, axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    sw_1 = np.zeros((d1,d1))</span><br><span class="line">    sw_2 = np.zeros((d2,d2))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n1):</span><br><span class="line">        temp_sw = (c_1[[i]] - m1).T @ (c_1[[i]] - m1)</span><br><span class="line">        sw_1 += temp_sw</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n2):</span><br><span class="line">        temp_sw = (c_2[[j]] - m2).T @ (c_2[[j]] - m2)</span><br><span class="line">        sw_2 += temp_sw</span><br><span class="line">    sw = sw_1 + sw_2</span><br><span class="line">    inv_sw = np.linalg.inv(sw)</span><br><span class="line">    w = inv_sw @ (m1 - m2).T<span class="comment">#(2,1)</span></span><br><span class="line">    <span class="keyword">return</span> w</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decide</span>(<span class="params">w, x, m1, m2, N1, N2</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    params:</span></span><br><span class="line"><span class="string">        w(ndarray): weight, (2,1)</span></span><br><span class="line"><span class="string">        x(ndarray): data, (1,2)</span></span><br><span class="line"><span class="string">        m1(ndarray): mean of class1, (1,2)</span></span><br><span class="line"><span class="string">        m2(ndarray): mean of class2, (1,2)</span></span><br><span class="line"><span class="string">        N1(int): nums of class1</span></span><br><span class="line"><span class="string">        N2(int): nums of class2</span></span><br><span class="line"><span class="string">    return:</span></span><br><span class="line"><span class="string">        True: c1</span></span><br><span class="line"><span class="string">        False: c2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    y = w.T @ x.T</span><br><span class="line">    <span class="comment">#w0 = (N1 * (w.T @ m1.T) + N2 * (w.T @ m2.T)) / (N1 + N2)</span></span><br><span class="line">    w0 = (w.T @ m1.T + w.T @ m2.T) / <span class="number">2</span> </span><br><span class="line">    <span class="keyword">if</span> y &gt; w0:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    path = <span class="string">&quot;./dataSets/ldaData.txt&quot;</span></span><br><span class="line">    C_1, C_2, C_3, data = load_split_data(path)</span><br><span class="line"></span><br><span class="line">    w_12 = linear_discriminant_analysis(C_1, C_2)</span><br><span class="line">    w_23 = linear_discriminant_analysis(C_2, C_3)</span><br><span class="line">    w_13 = linear_discriminant_analysis(C_1, C_3)</span><br><span class="line"></span><br><span class="line">    c1 = []</span><br><span class="line">    c2 = []</span><br><span class="line">    c3 = []</span><br><span class="line"></span><br><span class="line">    N1 = <span class="built_in">len</span>(C_1)</span><br><span class="line">    N2 = <span class="built_in">len</span>(C_2)</span><br><span class="line">    N3 = <span class="built_in">len</span>(C_3)</span><br><span class="line"></span><br><span class="line">    m1 = np.mean(C_1, axis=<span class="number">0</span>)</span><br><span class="line">    m2 = np.mean(C_2, axis=<span class="number">0</span>)</span><br><span class="line">    m3 = np.mean(C_3, axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    N, d = data.shape</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">        <span class="keyword">if</span> decide(w_12, data[i], m1, m2, N1, N2):</span><br><span class="line">            <span class="comment"># not c2</span></span><br><span class="line">            <span class="keyword">if</span> decide(w_13, data[i], m1, m3, N1, N3):</span><br><span class="line">                <span class="comment"># c1</span></span><br><span class="line">                c1.append(data[i])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># c3</span></span><br><span class="line">                c3.append(data[i])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># not c1</span></span><br><span class="line">            <span class="keyword">if</span> decide(w_23, data[i], m2, m3, N2, N3):</span><br><span class="line">                <span class="comment"># c2</span></span><br><span class="line">                c2.append(data[i])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># c3</span></span><br><span class="line">                c3.append(data[i])</span><br><span class="line"></span><br><span class="line">    <span class="comment">#plot orignal_data</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(C_1)):</span><br><span class="line">        plt.scatter(C_1[i, <span class="number">0</span>], C_1[i, <span class="number">1</span>], marker = <span class="string">&quot;v&quot;</span>, color = <span class="string">&quot;r&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(C_2)):</span><br><span class="line">        plt.scatter(C_2[i, <span class="number">0</span>], C_2[i, <span class="number">1</span>], marker = <span class="string">&quot;x&quot;</span>, color = <span class="string">&quot;y&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(C_3)):</span><br><span class="line">        plt.scatter(C_3[i, <span class="number">0</span>], C_3[i, <span class="number">1</span>], marker = <span class="string">&quot;o&quot;</span>, color = <span class="string">&quot;b&quot;</span>)</span><br><span class="line">    plt.title(<span class="string">&quot;orignal_data&quot;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#plot LDA</span></span><br><span class="line">    <span class="keyword">for</span> sub_data <span class="keyword">in</span> c1:</span><br><span class="line">        plt.scatter(sub_data[<span class="number">0</span>], sub_data[<span class="number">1</span>], marker = <span class="string">&quot;v&quot;</span>, color = <span class="string">&quot;r&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> sub_data <span class="keyword">in</span> c2:</span><br><span class="line">        plt.scatter(sub_data[<span class="number">0</span>], sub_data[<span class="number">1</span>], marker = <span class="string">&quot;x&quot;</span>, color = <span class="string">&quot;y&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> sub_data <span class="keyword">in</span> c3:</span><br><span class="line">        plt.scatter(sub_data[<span class="number">0</span>], sub_data[<span class="number">1</span>], marker = <span class="string">&quot;o&quot;</span>, color = <span class="string">&quot;b&quot;</span>)</span><br><span class="line">    plt.title(<span class="string">&quot;LDA&quot;</span>)</span><br><span class="line">    plt.show()    </span><br><span class="line">            </span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210717182742175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210717182739618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>çº¿æ€§å›å½’ï¼ˆLinear Regressionï¼‰</title>
    <url>/posts/9.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>å›å½’é—®é¢˜å’Œåˆ†ç±»é—®é¢˜ä»¥å‰è€æ˜¯å¼„æ··ï¼Œæœ€ç›´æ¥çš„è®°æ³•å°±æ˜¯ï¼Œåˆ†ç±»é—®é¢˜æ˜¯é’ˆå¯¹ç¦»æ•£ç©ºé—´çš„ï¼Œå°±æ¯”å¦‚è¯´ç»™å®šä¸€å¼ å›¾ç‰‡ï¼Œæ ¹æ®å…¶ç‰¹å¾åˆ¤æ–­è¿™å¼ å›¾ç‰‡æ˜¯çŒ«è¿˜æ˜¯ç‹—ï¼Œè¿™å°±æ˜¯åˆ†ç±»é—®é¢˜ï¼›å›å½’é—®é¢˜çš„è¯æ˜¯é’ˆå¯¹è¿ç»­ç©ºé—´çš„ï¼Œæ¯”å¦‚é¢„æµ‹è·ç¦»ï¼Œæ¦‚ç‡ç­‰ã€‚ <span id="more"></span></p>
<h1 id="æœ€å°äºŒä¹˜æ³•çº¿æ€§å›å½’least-squares-linear-regression">æœ€å°äºŒä¹˜æ³•çº¿æ€§å›å½’ï¼ˆLeast Squares Linear Regressionï¼‰</h1>
<h2 id="ä¸€æ¬¡é¡¹å›å½’">ä¸€æ¬¡é¡¹å›å½’</h2>
<p>ç»™å®šä¸€ç»„è®­ç»ƒæ•°æ®ä»¥åŠç›¸å…³çš„å‡½æ•°å€¼<span class="math inline">\((x_i, y_i)\)</span>ï¼ˆè¿™é‡Œçš„<span class="math inline">\(x_i\)</span>æ˜¯ä¸€ç»„å‘é‡ï¼‰å¦‚ä¸‹ï¼š<span class="math display">\[X=\left\{x_1 \in R^d,...,x_n\right\}\]</span><span class="math display">\[Y=\left\{y_1 \in R,...,y_n\right\}\]</span>çº¿æ€§å›å½’çš„æ–¹ç¨‹å¦‚ä¸‹ï¼š<span class="math display">\[x_i^Tw+w_0=y_i\   \forall i =1,...n \]</span>è¿™ä¸ªç­‰å¼ä¸æœ€å°äºŒä¹˜æ³•åˆ†ç±»çš„ç­‰å¼ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å€¼æ˜¯è¿ç»­çš„ã€‚<br />
<span class="math inline">\(w_0\)</span>åœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªåç½®ï¼Œå³æ˜¯å¸¸è§çš„<span class="math inline">\(bias\)</span>ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šæŠŠå®ƒæ•´åˆåˆ°æƒé‡é‡Œï¼Œæ—¢æ–¹ä¾¿ä¹Ÿå¥½ç®—ã€‚<br />
æœ€å°äºŒä¹˜æ³•çº¿æ€§å›å½’çš„ä¸€èˆ¬æ€§æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p><strong>Step 1</strong>ï¼šDefineï¼š <span class="math display">\[\hat{x}_i=\begin{bmatrix} x_i\\ 1\end{bmatrix}\]</span><span class="math display">\[\hat{w}=\begin{bmatrix} w\\ w_0\end{bmatrix}\]</span> <strong>Step 2</strong>: Rewrite: <span class="math display">\[\hat{x}_i^T\hat{w}=y_i\ \forall i=1,...,n\]</span> <strong>Step 3</strong>: Matrix-vector notation <span class="math display">\[\hat{X}^T\hat{w}=y\]</span>è¿™é‡Œ<span class="math inline">\(\hat{X}=[\hat{x}_1,...,\hat{x}_n]\)</span>ï¼Œæ¯ä¸ª<span class="math inline">\(\hat{x}_i\)</span>éƒ½æ˜¯ä¸€ä¸ªå‘é‡ï¼Œä¸”<span class="math inline">\(y=[y_1,...,y_n]^T\)</span>ã€‚<br />
<strong>Step 4</strong>: Fine the least squares solution <img src="https://img-blog.csdnimg.cn/20210716080914567.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œå°±ç›´æ¥è§£å‡ºæƒé‡<span class="math inline">\(w\)</span>äº†ï¼Œåœ¨è¿™ä¸€ç³»åˆ—çš„è®¡ç®—é‡Œï¼Œè®¡ç®—é‡æœ€å¤§çš„å°±æ˜¯é‚£ä¸ª<span class="math inline">\(R^{D\times D}\)</span>çš„é€†çŸ©é˜µï¼Œç›´æ¥è®¡ç®—é€†çŸ©é˜µçš„è¯ï¼Œå…¶å¤æ‚åº¦æ˜¯<span class="math inline">\(O(D^3)\)</span>ï¼Œæ‰€ä»¥å½“<span class="math inline">\(D\)</span>å¾ˆå¤§æ—¶è®¡ç®—æˆæœ¬å°±å¾ˆé«˜äº†ï¼Œæ‰€ä»¥ä¸€èˆ¬æˆ‘ä»¬ä¼šç”¨ä¸‹é¢ä¸¤ç§æ–¹æ³•ï¼š</p>
<blockquote>
<ol type="1">
<li>Gradient descent<br />
</li>
<li>Work with fewer dimensions</li>
</ol>
</blockquote>
<p>è¿™ä¸¤ç§æ–¹æ³•åº”è¯¥éƒ½æŒºç†Ÿæ‚‰äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¸åšä»‹ç»ã€‚</p>
<h2 id="å¤šé¡¹å¼å›å½’polynomial-regression">å¤šé¡¹å¼å›å½’ï¼ˆPolynomial Regressionï¼‰</h2>
<p>è¿™æ˜¯å»ºç«‹åœ¨æœ€å°äºŒä¹˜å›å½’ä¸Šçš„ï¼Œç­‰å¼å½¢å¼è·Ÿä¸Šé¢çš„ç±»ä¼¼ï¼š<span class="math display">\[y(x)=w^T\phi(x)=\sum_{i=0}^{M}w_i\phi_i(x)\]</span> å¹¶ä¸”<span class="math inline">\(\phi_0(x)=1\)</span>ï¼Œ<span class="math inline">\(\phi_i(.)\)</span>å«åŸºç¡€æ–¹ç¨‹ï¼ˆbasis functionsï¼‰ï¼Œå¯¹äº<span class="math inline">\(w\)</span>æ¥è¯´è¿™ä¾æ—§æ˜¯ä¸ªçº¿æ€§æ–¹ç¨‹ã€‚<br />
æ­¤å¤„çš„<span class="math inline">\(\phi(x)\)</span>ä»£è¡¨å¤šé¡¹å¼ï¼Œæ¯”å¦‚è¯´ï¼š<span class="math display">\[\phi(x)=(1,x,x^2,x^3)^T\]</span> ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºä¸åŒdegreeçš„å¤šé¡¹å¼ï¼Œå…¶æ‹Ÿåˆæ•ˆæœå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210716084632249.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¯¹äºä¸åŒçš„å¤šé¡¹å¼ä¼šå‡ºç°æ¬ æ‹Ÿåˆæˆ–è€…è¿‡æ‹Ÿåˆçš„ç°è±¡ã€‚</p>
<h1 id="å›å½’çš„æœ€å¤§ä¼¼ç„¶æ³•maximum-likelihood-approach-to-regression">å›å½’çš„æœ€å¤§ä¼¼ç„¶æ³•ï¼ˆMaximum Likelihood Approach to Regressionï¼‰</h1>
<h2 id="æ¦‚ç‡å›å½’probabilistic-regression">æ¦‚ç‡å›å½’ï¼ˆProbabilistic Regressionï¼‰</h2>
<p>å¯¹äºæ¦‚ç‡å›å½’æœ‰ä»¥ä¸‹ä¸¤ä¸ªå‡è®¾ï¼š</p>
<p><strong>Assumption 1</strong>ï¼šæˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°å€¼æ˜¯é€šè¿‡å‘æ–¹ç¨‹æ·»åŠ å™ªå£°äº§ç”Ÿçš„ï¼Œå³æ˜¯ï¼š<span class="math display">\[y = f(x,w)+\epsilon\]</span> <span class="math inline">\(y\)</span>ï¼šç›®æ ‡å‡½æ•°å€¼ï¼› <span class="math inline">\(x\)</span>ï¼šè¾“å…¥å€¼<br />
<span class="math inline">\(f\)</span>ï¼š å›å½’æ–¹ç¨‹ï¼› <span class="math inline">\(w\)</span>ï¼šæƒé‡æˆ–è€…è¯´å‚æ•°ï¼›<span class="math inline">\(\epsilon\)</span>ï¼šå™ªå£°<br />
<strong>Assumption 2</strong>ï¼šè¿™ä¸ªå™ªå£°æ˜¯æœä»é«˜æ–¯åˆ†å¸ƒçš„éšæœºå˜é‡ï¼Œå³ï¼š<span class="math display">\[\epsilon \sim N(0,\beta^{-1})\]</span><span class="math display">\[p(y|x,w,\beta)=N(y|f(x,w),\beta^{-1})\]</span>å…¶ä¸­<span class="math inline">\(f(x,w)\)</span>æ˜¯å‡å€¼ï¼Œ<span class="math inline">\(\beta^{-1}\)</span>æ˜¯æ–¹å·®ï¼ˆ<span class="math inline">\(\beta\)</span>æ˜¯precisionï¼‰ï¼Œæ³¨æ„ï¼Œç°åœ¨<span class="math inline">\(y\)</span>æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œå…¶åŸºæœ¬æ¦‚ç‡åˆ†å¸ƒä¸º<span class="math inline">\(p(y|x,w,\beta)\)</span>ã€‚</p>
<p><strong>å…·ä½“è¯´æ˜</strong><br />
ç°åœ¨ç»™å®šä¸€ç»„æ•°æ®ç‚¹<span class="math inline">\(X=[x_1,...,x_n]\in \mathcal{R}^{d\times n}\)</span>ä»¥åŠç›¸å…³çš„å‡½æ•°å€¼<span class="math inline">\(Y=[y_1,...,y_n]^T\)</span><br />
å…¶æ¡ä»¶ä¼¼ç„¶ä¸ºï¼ˆè®¾æ•°æ®æ˜¯i.i.d.çš„ï¼‰ï¼š<span class="math display">\[p(y|X,w,\beta)=\prod_{i=1}^n N(y_i|f(x_i,w),\beta^{-1})\]</span>å¸¦å…¥çº¿æ€§æ¨¡å‹ï¼š<span class="math display">\[=\prod_{i=1}^n N(y_i|w^T\phi(x_i),\beta^{-1})\]</span>å…¶ä¸­<span class="math inline">\(w^T\phi(x_i)\)</span>æ˜¯å¹¿ä¹‰çš„çº¿æ€§å›å½’æ–¹ç¨‹ï¼Œç„¶åç°åœ¨æˆ‘ä»¬å°±è¦è®¡ç®—å…³äº<span class="math inline">\(\beta\)</span>å’Œ<span class="math inline">\(w\)</span>çš„æœ€å¤§åŒ–ä¼¼ç„¶äº†ã€‚<br />
ç”¨å¯¹æ•°ä¼¼ç„¶å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210716094220653.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¯¹äº<span class="math inline">\(w\)</span>çš„æ¢¯åº¦ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210716094315769.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æˆ‘ä»¬åšå¦‚ä¸‹å®šä¹‰ï¼š <img src="https://img-blog.csdnimg.cn/20210716094531974.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ±‚è§£ä¸Šé¢çš„å¼å­å¯ä»¥å¾—åˆ°ï¼š <img src="https://img-blog.csdnimg.cn/20210716202619384.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç”±æ­¤å¯è§ï¼Œç”¨æœ€å¤§ä¼¼ç„¶æ±‚è§£çš„æƒé‡å€¼å’Œå‰é¢æœ€å°äºŒä¹˜æ³•å›å½’çš„ç»“æœä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯å¾—å‡ºè¿™ä¹ˆä¸€ä¸ªç»“è®ºï¼š</p>
<blockquote>
<p><strong>æœ€å°äºŒä¹˜æ³•ç­‰åŒäºå‡è®¾ç›®æ ‡æ˜¯é«˜æ–¯åˆ†å¸ƒã€‚</strong></p>
</blockquote>
<p>æ‰€ä»¥è¦æ³¨æ„ï¼Œè¿ç”¨æœ€å°äºŒä¹˜æ³•æ˜¯æœ‰å‡è®¾å‰æçš„ã€‚<br />
ç„¶è€Œï¼Œä¸æœ€å°äºŒä¹˜æ³•ç›¸æ¯”ï¼Œæœ€å¤§ä¼¼ç„¶çš„è¿ç”¨æ›´å¹¿æ³•ï¼Œå› ä¸ºé™¤äº†æƒé‡<span class="math inline">\(w\)</span>ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•ä¼°è®¡<span class="math inline">\(\beta\)</span>ï¼š <img src="https://img-blog.csdnimg.cn/20210716203235914.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è€Œä¸”å¯ä»¥è¡¡é‡æˆ‘ä»¬çš„ä¼°è®¡çš„ä¸ç¡®å®šæ€§ï¼ˆç”¨loss functionï¼‰ã€‚</p>
<h2 id="å›å½’ä¸­çš„æŸå¤±å‡½æ•°loss-functions-in-regression">å›å½’ä¸­çš„æŸå¤±å‡½æ•°ï¼ˆLoss Functions in Regressionï¼‰</h2>
<p>å¦‚æœæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„æ•°æ®<span class="math inline">\(x_t\)</span>ï¼Œåœ¨æœ€å°äºŒä¹˜å›å½’ä¸­ï¼Œå…¶å¯¹åº”çš„å€¼ä¸ºï¼š<span class="math inline">\(y_t=\hat{x}_t^T\hat{w}\)</span><br />
ä½†åœ¨æœ€å¤§ä¼¼ç„¶å›å½’ä¸­ï¼Œæˆ‘ä»¬åˆ™æ˜¯è¦è®¡ç®—ç›¸å…³æ¦‚ç‡å€¼ï¼š<span class="math inline">\(p(y|x,w,\beta)\)</span>ã€‚æˆ‘ä»¬å¦‚ä½•å‡†ç¡®åœ°ä¼°è®¡<span class="math inline">\(y_t\)</span>å‘¢ï¼Ÿè¿™å°±è¦å¼•å…¥æŸå¤±å‡½æ•°ï¼ˆloss functionï¼‰äº†ã€‚ <span class="math display">\[L: \mathcal{R}\times \mathcal{R} \rightarrow \mathcal{R}^+\]</span><span class="math display">\[(y_t,f(x_t))\rightarrow L(y_t,f(x_t))\]</span> ç„¶åæˆ‘ä»¬æœ€å°åŒ–<strong>é¢„æœŸ</strong>æŸå¤±ï¼š<span class="math display">\[E_{x,y\sim p(x,y)}[L]=\int \int L(y,f(x))p(x,y)dxdy\]</span> ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¯´æŸå¤±å‡½æ•°æ˜¯squared lossçš„è¯ï¼Œå¯è¿›è¡Œå¦‚ä¸‹è®¡ç®—ï¼š <img src="https://img-blog.csdnimg.cn/20210716204651957.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210716205115573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç”±æ­¤å¯è§ï¼Œå¯¹äºsquared lossï¼Œå…¶æœ€ä½³å›å½’æ–¹ç¨‹ä¸ºåéªŒ<span class="math inline">\(p(y|x)\)</span>çš„å‡å€¼<span class="math inline">\(E[y|x]\)</span>ï¼Œè¿™ä¹Ÿç§°ä¸ºå‡å€¼é¢„æµ‹ã€‚<br />
æ‰€ä»¥å¯¹äºæˆ‘ä»¬çš„å¹¿æ³›çº¿æ€§å›å½’æ–¹ç¨‹ï¼Œå¯å†™ä¸ºï¼š <span class="math display">\[f(x)=\int yN(y|w^T\phi(x),\beta^{-1})dy=w^T\phi(x)\]</span>è¿™åˆå¯ä»¥è·Ÿå‰é¢ äº§ç”Ÿè”ç³»äº†ã€‚</p>
<h1 id="è´å¶æ–¯çº¿æ€§å›å½’bayesian-linear-regression">è´å¶æ–¯çº¿æ€§å›å½’ï¼ˆBayesian Linear Regressionï¼‰</h1>
<p>ç°åœ¨å›åˆ°æœ€åŸæ¥çš„é—®é¢˜ï¼Œæˆ‘ä»¬æƒ³è¦é¿å…è¿‡æ‹Ÿåˆå’Œä¸ç¨³å®šï¼Œç„¶è€Œç”¨æœ€å¤§ä¼¼ç„¶æ³•ä¾æ—§å¯èƒ½é€ æˆè¿‡æ‹Ÿåˆç°è±¡ï¼ˆæ¯”å¦‚è¯´åªæœ‰ä¸€ä¸ªæ•°æ®ç‚¹çš„æƒ…å†µï¼‰ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç°åœ¨å°±è¦å¼•å…¥è´å¶æ–¯çº¿æ€§å›å½’ã€‚<br />
æˆ‘ä»¬åœ¨å‚æ•°<span class="math inline">\(w\)</span>ä¸Šæ”¾ç½®ä¸€ä¸ªå…ˆéªŒï¼Œä»¥æ§åˆ¶ä¸ç¨³å®šæ€§ï¼š<span class="math display">\[p(w|X,y)= p(y|X,w)p(w)\]</span>å…¶ä¸­ï¼š</p>
<p><span class="math inline">\(p(w)\)</span>ä¸ºå‚æ•°å…ˆéªŒï¼›</p>
<p><span class="math inline">\(p(y|X,w)\)</span>ä¸ºç»™å®šæ•°æ®å’Œå‚æ•°ä¸‹ç›®æ ‡çš„ä¼¼ç„¶ï¼ˆè·Ÿå‰é¢å®šä¹‰çš„ä¸€æ ·ï¼‰ï¼›</p>
<p><span class="math inline">\(p(w|X,y)\)</span>ä¸ºå‚æ•°åéªŒã€‚</p>
<blockquote>
<p><strong>æ³¨ï¼šè¿™é‡Œå¾—åˆ°çš„ä¸å†æ˜¯å‚æ•°çš„å•ä¸€å€¼ï¼Œè€Œæ˜¯å‚æ•°çš„æ¦‚ç‡åˆ†å¸ƒ</strong></p>
</blockquote>
<p>æœ€ç®€å•çš„æƒ³æ³•å°±æ˜¯å‡è®¾å‚æ•°<span class="math inline">\(w\)</span>çš„å…ˆéªŒç¬¦åˆé«˜æ–¯åˆ†å¸ƒï¼š<span class="math display">\[w\sim p(w|\alpha)=N(w|0,\alpha^{-1}I)\]</span>è¿™é‡Œé€šè¿‡æ”¾ç½®ä¸€ä¸ªâ€è½¯â€œé™åˆ¶ï¼Œä¹Ÿå°±æ˜¯<span class="math inline">\(\alpha\)</span>ï¼Œæ¥é¿å…ä¸ç¨³å®šæ€§ã€‚å¦å¤–ï¼Œè¿™é‡Œè®¾å‡å€¼ä¸º0åªæ˜¯ä¸ºäº†æ–¹ä¾¿åé¢è®¡ç®—ï¼Œå‡å€¼å¯ä¸ºå…¶å®ƒæ•°ã€‚<br />
ç„¶åå°±æœ‰å¦‚ä¸‹å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/2021071621150373.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ±‚è§£ä¸Šé¢çš„å‚æ•°æ¦‚ç‡å¯æœ‰å¤šç§æ–¹æ³•ï¼Œè¿™é‡Œä»‹ç»ä¸¤ç§ï¼š</p>
<h2 id="æœ€å¤§åéªŒmap">æœ€å¤§åéªŒï¼ˆMAPï¼‰</h2>
<p>å–å¯¹æ•°åéªŒï¼Œç„¶åæœ€å¤§åŒ–ï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210716212004115.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç„¶åå¯¹<span class="math inline">\(w\)</span>æ±‚å¯¼ï¼š <img src="https://img-blog.csdnimg.cn/20210716212611934.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ï¼ˆæ³¨ï¼šä¸Šé¢è¿™ä¸ªå›¾é‡Œçš„å¼å­æœ‰é”™ï¼Œå³è¾¹<span class="math inline">\(\beta\)</span>åº”è¯¥åœ¨æ‹¬å·é‡Œï¼Œä½†æˆ‘å®åœ¨ä¸æƒ³æ‰‹æ‰“è¿™äº›å¼å­ï¼Œåªæ˜¯è®¡ç®—è¿‡ç¨‹è€Œå·²ã€‚ã€‚ã€‚ï¼‰ è¿™å°±å¾—å‡ºå‚æ•°çš„ç­‰å¼äº†ï¼š <span class="math display">\[w_{map}=(\Phi \Phi^T+\frac{\alpha}{\beta})^{-1}\Phi y\]</span> ä¸å‰é¢çš„ç»“è®ºä¸åŒï¼Œè¿™é‡Œå¤šäº†ä¸ª<span class="math inline">\(\frac{\alpha}{\beta}\)</span>ï¼Œå…ˆéªŒçš„ä½œç”¨æ˜¯å¯ä»¥æ­£åˆ™åŒ–è¿™ä¸ªä¼ªé€†ï¼Œè¿™ä¸ªä¹Ÿå«å²­å›å½’ï¼ˆridge regressionï¼‰ã€‚</p>
<blockquote>
<p>æ—¢ç„¶è¯´åˆ°äº†è¿™ä¸ªæ¦‚å¿µï¼Œå°±é¡ºé“æä¸€ä¸‹å¦ä¸€ä¸ªè·Ÿå®ƒå¾ˆåƒçš„<span class="math inline">\(LASSO\)</span> å›å½’ï¼ŒLassoå›å½’è·Ÿå²­å›å½’éå¸¸ç›¸ä¼¼ï¼Œå®ƒä»¬çš„å·®åˆ«åœ¨äºä½¿ç”¨äº†ä¸åŒçš„æ­£åˆ™åŒ–é¡¹ï¼ˆLASSOæ˜¯<span class="math inline">\(l1\)</span>æ­£åˆ™åŒ–ï¼Œå²­å›å½’æ˜¯<span class="math inline">\(l2\)</span>ï¼‰ã€‚æœ€ç»ˆéƒ½å®ç°äº†çº¦æŸå‚æ•°ä»è€Œé˜²æ­¢è¿‡æ‹Ÿåˆçš„æ•ˆæœã€‚å¦å¤–ï¼ŒLassoèƒ½å¤Ÿå°†ä¸€äº›ä½œç”¨æ¯”è¾ƒå°çš„ç‰¹å¾çš„å‚æ•°è®­ç»ƒä¸º0ï¼Œä»è€Œè·å¾—ç¨€ç–è§£ã€‚ä¹Ÿå°±æ˜¯è¯´ç”¨è¿™ç§æ–¹æ³•ï¼Œåœ¨è®­ç»ƒæ¨¡å‹çš„è¿‡ç¨‹ä¸­å®ç°äº†é™ç»´(ç‰¹å¾ç­›é€‰)çš„ç›®çš„ã€‚</p>
</blockquote>
<p>ä¸‹é¢è¿™å¼ å›¾å¯ä»¥ç›´è§‚æ˜¾ç¤ºå²­å›å½’å’Œæœ€å°äºŒä¹˜å›å½’çš„å·®åˆ«ï¼š <img src="https://img-blog.csdnimg.cn/20210716213954811.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h3 id="mapä¸æ­£åˆ™åŒ–çš„æœ€å°äºŒä¹˜æ³•çš„æ¯”è¾ƒ">MAPä¸æ­£åˆ™åŒ–çš„æœ€å°äºŒä¹˜æ³•çš„æ¯”è¾ƒ</h3>
<p>ç°åœ¨æˆ‘ä»¬åœ¨å‰é¢çš„æœ€å°äºŒä¹˜æ³•çš„ç»“è®ºç­‰å¼ä¸ŠåŠ ä¸€ä¸ªæ­£åˆ™åŒ–é¡¹ï¼š<img src="https://img-blog.csdnimg.cn/20210716214450502.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ±‚è§£<span class="math inline">\(w\)</span>æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæ–°çš„ä¼°è®¡ï¼š<span class="math display">\[\hat{w}=(\hat{X}\hat{X}^T+\lambda I)^{-1}\hat{X}y\]</span> æ­¤å¤„ <span class="math inline">\(\lambda = \alpha / \beta\)</span>ã€‚<br />
ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æœ€å°äºŒä¹˜å›å½’ä¸Šæ·»åŠ ä¸€ä¸ªæ­£åˆ™åŒ–é¡¹<span class="math inline">\(\lambda\)</span>ï¼Œåˆ™æ„å‘³ç€æˆ‘ä»¬å‡è®¾ç›®æ ‡æœ‰ä¸€ä¸ªç¬¦åˆé«˜æ–¯åˆ†å¸ƒçš„å™ªéŸ³ï¼Œè€Œä¸”å‚æ•°ä¹Ÿæ˜¯ç¬¦åˆé«˜æ–¯åˆ†å¸ƒçš„ã€‚<br />
ä»¥å‰é¢çš„9æ¬¡å¤šé¡¹å¼å›å½’ä¸ºä¾‹ï¼ŒåŠ ä¸Šä¸åŒçš„æ­£åˆ™åŒ–é¡¹<span class="math inline">\(\lambda\)</span>åï¼Œå…¶æ•ˆæœä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210716215303870.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç”±æ­¤å¯è§ï¼Œ<span class="math inline">\(\lambda=\alpha / \beta\)</span>æ§åˆ¶æ¨¡å‹çš„å¤æ‚ç¨‹åº¦ï¼Œå¹¶å†³å®šè¿‡æ‹Ÿåˆçš„ç¨‹åº¦ã€‚</p>
<h2 id="å®Œå…¨è´å¶æ–¯å›å½’full-bayesian-regression">å®Œå…¨è´å¶æ–¯å›å½’ï¼ˆFull Bayesian Regressionï¼‰</h2>
<p>æ¢ä¸ªæ€è·¯ï¼Œå…¶å®æˆ‘ä»¬ä¹Ÿä¸æ˜¯éå¾—æ±‚å‡ºå‚æ•°<span class="math inline">\(w\)</span>ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡è®­ç»ƒæ•°æ®æ¥é¢„æµ‹å¯¹åº”çš„å‡½æ•°å€¼å³å¯ã€‚ä¹Ÿå°±æ˜¯è¯´å¯ç”¨è¾¹ç¼˜æ¦‚ç‡è¿›è¡Œè®¡ç®—ï¼š<span class="math display">\[$p(y_t|x_t,X,y)=\int p(y_t,w|x_t,X,y)dw\]</span> ç”¨è´å¶æ–¯å…¬å¼å¯å°†ä¸Šé¢ç­‰å¼å†™ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210716222918384.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è‹¥å…ˆéªŒä¹‹ç±»çš„éƒ½æ˜¯é«˜æ–¯çš„è¯ï¼Œåˆ™è¿™ä¸ªé¢„æµ‹åˆ†å¸ƒä¹Ÿå°†æœä»é«˜æ–¯åˆ†å¸ƒï¼Œå³ï¼š <img src="https://img-blog.csdnimg.cn/20210716231602167.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ï¼ˆæ³¨ï¼šä¸Šå›¾çš„ç­‰å¼æœ‰ä¸€ä¸ªé”™è¯¯ï¼Œä¸­é—´é‚£ä¸ªç­‰å¼æœ€å³è¾¹çš„<span class="math inline">\(\Phi\)</span>æ²¡æœ‰è½¬ç½®ã€‚ï¼‰</p>
<h1 id="é™„ä½œä¸šç›¸å…³ä»£ç ">ï¼ˆé™„ï¼‰ä½œä¸šç›¸å…³ä»£ç </h1>
<p><img src="https://img-blog.csdnimg.cn/20210716231922529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210716232000630.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210716232025659.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¤§æ¦‚å°±æ˜¯æŒ‰ç…§è¿™ç¯‡åšæ–‡å…¨éƒ¨å®ç°ä¸€éï¼šï¼ˆè¿™æ¬¡çš„ä»£ç å¤§çš„æ–¹é¢åº”è¯¥æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†ä¸€äº›ç»†èŠ‚ä¸Šå¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œæ”¹å¾—æœ‰ç‚¹å¿ƒç´¯ï¼Œå…ˆè¿™æ ·å§ï¼‰<br />
(a): <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">linear_features</span>(<span class="params">X_train, X_test, y_train, y_test, _lambda = <span class="number">0.01</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    param:</span></span><br><span class="line"><span class="string">        X_train(ndarray): shape = (N, 1)</span></span><br><span class="line"><span class="string">        y_train(ndarray): shape = (N, 1)</span></span><br><span class="line"><span class="string">        _lambda(float)</span></span><br><span class="line"><span class="string">    return:</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_dim_bias</span>(<span class="params">X</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        [x1, x2, x3, ... , xn] -&gt; [[x1,1], [x2,1], ... ,[xn,1]]</span></span><br><span class="line"><span class="string">        param:</span></span><br><span class="line"><span class="string">            X(ndarray): train_data (N_train, 1)</span></span><br><span class="line"><span class="string">        return:</span></span><br><span class="line"><span class="string">            new_X(ndarray): train_data (2, N_train)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        N_x = X.shape[<span class="number">0</span>]</span><br><span class="line">        bias_dim = np.ones((N_x, <span class="number">1</span>))</span><br><span class="line">        new_X = np.c_[X, bias_dim].T</span><br><span class="line">        <span class="keyword">return</span> new_X</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loss_fn</span>(<span class="params">X, y, N</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        calculate RMSE</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        rmse = np.sqrt(np.<span class="built_in">sum</span>((X.T @ w - y) ** <span class="number">2</span>) / N)</span><br><span class="line">        <span class="keyword">return</span> rmse</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    X_train = add_dim_bias(X_train)</span><br><span class="line">    X_test = add_dim_bias(X_test)</span><br><span class="line">    N_train = X_train.shape[<span class="number">1</span>]</span><br><span class="line">    N_test = X_test.shape[<span class="number">1</span>]</span><br><span class="line">    w = np.linalg.inv(X_train @ X_train.T + _<span class="keyword">lambda</span> * np.eye(X_train.shape[<span class="number">0</span>])) @ X_train @ y_train <span class="comment"># w(2, 1)</span></span><br><span class="line">    rmse_train = loss_fn(X_train, y_train, N_train)</span><br><span class="line">    rmse_test = loss_fn(X_test, y_test, N_test)</span><br><span class="line"></span><br><span class="line">    plt.figure()</span><br><span class="line">    x = np.linspace(X_train[<span class="number">0</span>,:].<span class="built_in">min</span>(), X_train[<span class="number">0</span>,:].<span class="built_in">max</span>(), <span class="number">100</span>)</span><br><span class="line">    x = add_dim_bias(x)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(X_train.shape[<span class="number">1</span>]):</span><br><span class="line">        plt.scatter(X_train[<span class="number">0</span>,i], y_train[i, <span class="number">0</span>], marker = <span class="string">&quot;o&quot;</span>, color = <span class="string">&quot;black&quot;</span>)</span><br><span class="line">    plt.plot(x[[<span class="number">0</span>]].flatten(), (w.T @ x).flatten(), color = <span class="string">&quot;blue&quot;</span>)</span><br><span class="line">    plt.title(<span class="string">&quot;linear_features&quot;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> rmse_train, rmse_test</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main_a</span>():</span></span><br><span class="line">    rmse_train, rmse_test = linear_features(X_train, X_test, y_train, y_test, _<span class="keyword">lambda</span> = <span class="number">0.01</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;root mean squared error of the training data: &quot;</span>, rmse_train)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;root mean squared error of the test data: &quot;</span>,rmse_test)</span><br></pre></td></tr></table></figure> (b): <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">polynomial_features</span>(<span class="params">X_train, X_test, y_train, y_test, _lambda = <span class="number">0.01</span>, degrees = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    param:</span></span><br><span class="line"><span class="string">        X_train(ndarray): shape(N, 1)</span></span><br><span class="line"><span class="string">        y_train(ndarray): shape(N, 1)</span></span><br><span class="line"><span class="string">        _lambda(floar): ridge coefficient</span></span><br><span class="line"><span class="string">        degrees(list): list of degrees</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_degree</span>(<span class="params">X, degree</span>):</span></span><br><span class="line">        N = X.shape[<span class="number">0</span>]</span><br><span class="line">        new_X = np.ones((N, <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, degree+<span class="number">1</span>):</span><br><span class="line">            temp = X ** i</span><br><span class="line">            new_X = np.c_[new_X, temp]</span><br><span class="line">        new_X = new_X.T </span><br><span class="line">        <span class="keyword">return</span> new_X</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loss_fn</span>(<span class="params">w, X, y</span>):</span></span><br><span class="line">        N = <span class="built_in">len</span>(y)</span><br><span class="line">        rmse = np.sqrt(np.<span class="built_in">sum</span>((X.T @ w - y) ** <span class="number">2</span>) / N)</span><br><span class="line">        <span class="keyword">return</span> rmse</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    w_lst = []</span><br><span class="line">    rmse_train = []</span><br><span class="line">    rmse_test = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(degrees)):</span><br><span class="line">        tmp_X = add_degree(X_train, degrees[i])</span><br><span class="line">        tmp_w = np.linalg.inv(tmp_X @ tmp_X.T + _<span class="keyword">lambda</span> * np.eye(tmp_X.shape[<span class="number">0</span>])) @ tmp_X @ y_train</span><br><span class="line">        w_lst.append(tmp_w)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(degrees)):</span><br><span class="line">        tmp_X_train = add_degree(X_train, degrees[i])</span><br><span class="line">        tmp_X_test = add_degree(X_test, degrees[i])</span><br><span class="line">        tmp_rmse_train = loss_fn(w_lst[i], tmp_X_train, y_train)</span><br><span class="line">        tmp_rmse_test = loss_fn(w_lst[i], tmp_X_test, y_test)</span><br><span class="line">        rmse_train.append(tmp_rmse_train)</span><br><span class="line">        rmse_test.append(tmp_rmse_test)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(degrees)):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;polynomials of degrees=&#123;&#125;, root mean squared error of the training data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(degrees[i], rmse_train[i]))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(degrees)):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;polynomials of degrees=&#123;&#125;, root mean squared error of the test data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(degrees[i], rmse_test[i]))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(w_lst)):</span><br><span class="line">        x = np.linspace(X_train[:,<span class="number">0</span>].<span class="built_in">min</span>(), X_train[:,<span class="number">0</span>].<span class="built_in">max</span>(), <span class="number">100</span>)</span><br><span class="line">        plt.figure()</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(X_train.shape[<span class="number">0</span>]):</span><br><span class="line">            plt.scatter(X_train[j,<span class="number">0</span>], y_train[j, <span class="number">0</span>], marker = <span class="string">&quot;o&quot;</span>, color = <span class="string">&quot;black&quot;</span>)</span><br><span class="line">        x = add_degree(x, degrees[i])</span><br><span class="line">        plt.plot(x[<span class="number">1</span>].flatten(), (w_lst[i].T @ x).flatten(), color = <span class="string">&quot;blue&quot;</span>)</span><br><span class="line">        plt.title(<span class="string">&quot;polynomial_features with degree = &#123;&#125;&quot;</span>.<span class="built_in">format</span>(degrees[i]))</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main_b</span>():</span></span><br><span class="line">    polynomial_features(X_train, X_test, y_train, y_test)</span><br></pre></td></tr></table></figure> (c): <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bayesian_linear_regression</span>(<span class="params">X_train, y_train, X_test, y_test, mu = <span class="number">0</span>, sigma = <span class="number">0.1</span>, _lambda = <span class="number">0.01</span>, std = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span>):</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_dim_bias</span>(<span class="params">X</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        [x1, x2, x3, ... , xn] -&gt; [[x1,1], [x2,1], ... ,[xn,1]]</span></span><br><span class="line"><span class="string">        param:</span></span><br><span class="line"><span class="string">            X(ndarray): train_data (N_train, 1)</span></span><br><span class="line"><span class="string">        return:</span></span><br><span class="line"><span class="string">            new_X(ndarray): train_data (2, N_train)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        N_x = X.shape[<span class="number">0</span>]</span><br><span class="line">        bias_dim = np.ones((N_x, <span class="number">1</span>))</span><br><span class="line">        new_X = np.c_[X, bias_dim].T</span><br><span class="line">        <span class="keyword">return</span> new_X</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prediction_mu_sigma</span>(<span class="params">X</span>):</span></span><br><span class="line">        <span class="comment">#X_bias = add_dim_bias(X)#(2,50)</span></span><br><span class="line">        mu_or_pred = X.T @ w<span class="comment">#(50,1)</span></span><br><span class="line">        sigma_2 = <span class="number">1</span> / beta + X.T @ np.linalg.inv(alpha * np.eye(X.shape[<span class="number">0</span>]) + beta *</span><br><span class="line">                                                          X @ X.T) @ X</span><br><span class="line">        <span class="comment"># Here take attention</span></span><br><span class="line">        sigma_2 += sigma * np.eye(sigma_2.shape[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> mu_or_pred, np.sqrt(sigma_2.diagonal())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loss_fn</span>(<span class="params">X, y</span>):</span></span><br><span class="line">        N = <span class="built_in">len</span>(y)</span><br><span class="line">        pred, _ = prediction_mu_sigma(X)</span><br><span class="line">        rmse = np.sqrt(np.<span class="built_in">sum</span>((pred - y) ** <span class="number">2</span>) / N)</span><br><span class="line">        <span class="keyword">return</span> rmse</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">log_likelihood_fn</span>(<span class="params">X, y</span>):</span></span><br><span class="line">        n = <span class="built_in">len</span>(y)</span><br><span class="line">        log_likelihood = n / <span class="number">2</span> * (np.log(beta) - np.log(<span class="number">2</span> * np.pi)) - beta / <span class="number">2</span> * (np.linalg.norm(y - w.T @ X) ** <span class="number">2</span>)</span><br><span class="line">        average_ll = log_likelihood / n</span><br><span class="line">        <span class="keyword">return</span> average_ll</span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">    beta = <span class="number">1</span> / (sigma ** <span class="number">2</span>)</span><br><span class="line">    alpha = _<span class="keyword">lambda</span> * beta</span><br><span class="line">    X_train = add_dim_bias(X_train)<span class="comment">#(2,50)   y_train (50,1)</span></span><br><span class="line">    X_test = add_dim_bias(X_test)<span class="comment">#(2,100)   y_test  (100,1)</span></span><br><span class="line"></span><br><span class="line">    w = np.linalg.inv(X_train @ X_train.T + _<span class="keyword">lambda</span> * np.eye(X_train.shape[<span class="number">0</span>])) @ X_train @ y_train <span class="comment"># w(2, 1)</span></span><br><span class="line"></span><br><span class="line">    rmse_train = loss_fn(X_train, y_train)</span><br><span class="line">    rmse_test = loss_fn(X_test, y_test)</span><br><span class="line"></span><br><span class="line">    log_ll_train = log_likelihood_fn(X_train, y_train)</span><br><span class="line">    log_ll_test = log_likelihood_fn(X_test, y_test)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the RMSE of the train data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(rmse_train))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the RMSE of the test data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(rmse_test))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the average log-likelihood of the train data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(log_ll_train))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the average log-likelihood of the test data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(log_ll_test))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    pred, x_std = prediction_mu_sigma(X_train)</span><br><span class="line">    </span><br><span class="line">    plt.figure()</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(X_train.shape[<span class="number">1</span>]):</span><br><span class="line">        plt.scatter(X_train[<span class="number">0</span>,j], y_train[j, <span class="number">0</span>], marker = <span class="string">&quot;o&quot;</span>, color = <span class="string">&quot;black&quot;</span>)</span><br><span class="line">    plt.plot(X_train[<span class="number">0</span>], pred.flatten(), color = <span class="string">&quot;blue&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(std)):</span><br><span class="line">        plt.fill_between(X_train[<span class="number">0</span>], pred.flatten()+std[i]*x_std, pred.flatten()-std[i]*x_std,</span><br><span class="line">                          color = <span class="string">&quot;blue&quot;</span>, alpha = <span class="number">0.2</span>)</span><br><span class="line">    plt.title(<span class="string">&quot;bayesian_linear_regression&quot;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main_c</span>():</span></span><br><span class="line">    bayesian_linear_regression(X_train, y_train, X_test, y_test)</span><br></pre></td></tr></table></figure> (d): <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">squared_exponential_features</span>(<span class="params">X_train, y_train, X_test, y_test, _lambda = <span class="number">0.01</span>, k = <span class="number">20</span>, sigma = <span class="number">0.1</span>, beta = <span class="number">10</span>, std = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">new_data</span>(<span class="params">X</span>):</span></span><br><span class="line">        n = <span class="built_in">len</span>(X)</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        new_x = np.zeros((n, k))</span></span><br><span class="line"><span class="string">        for i in range(n):</span></span><br><span class="line"><span class="string">            for j in range(k):</span></span><br><span class="line"><span class="string">                alpha_j = j * 0.1 - 1</span></span><br><span class="line"><span class="string">                tmp = np.exp(-0.5 * beta * (X[i] - alpha_j) ** 2)</span></span><br><span class="line"><span class="string">                new_x[i][j] = tmp</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        X_poly = np.ones(X.shape)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, k+<span class="number">1</span>):</span><br><span class="line">                X_poly = np.hstack((X_poly, np.exp(-beta/<span class="number">2</span>*np.power(X-(j*<span class="number">0.1</span> -<span class="number">1</span>), <span class="number">2</span>))))</span><br><span class="line">        <span class="keyword">return</span> X_poly.T</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prediction_mu_sigma</span>(<span class="params">X</span>):</span></span><br><span class="line">        mu_or_pred = X.T @ w</span><br><span class="line">        sigma_2 = <span class="number">1</span> / beta + X.T @ np.linalg.inv(alpha * np.eye(X.shape[<span class="number">0</span>]) + beta *</span><br><span class="line">                                                          X @ X.T) @ X</span><br><span class="line">        sigma_2 += sigma * np.eye(sigma_2.shape[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> mu_or_pred, np.sqrt(sigma_2.diagonal())</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loss_fn</span>(<span class="params">X, y</span>):</span></span><br><span class="line">        N = <span class="built_in">len</span>(y_test)</span><br><span class="line">        pred, _ = prediction_mu_sigma(X)</span><br><span class="line">        rmse = np.sqrt(np.<span class="built_in">sum</span>((pred - y) ** <span class="number">2</span>) / N)</span><br><span class="line">        <span class="keyword">return</span> rmse</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">log_likelihood_fn</span>(<span class="params">X, y</span>):</span></span><br><span class="line">        _beta = <span class="number">1</span> / (sigma ** <span class="number">2</span>)</span><br><span class="line">        n = <span class="built_in">len</span>(y)</span><br><span class="line">        log_likelihood = n / <span class="number">2</span> * (np.log(_beta) - np.log(<span class="number">2</span> * np.pi)) - _beta / <span class="number">2</span> * (np.linalg.norm(y - w.T @ X) ** <span class="number">2</span>)</span><br><span class="line">        average_ll = log_likelihood / n</span><br><span class="line">        <span class="keyword">return</span> average_ll    </span><br><span class="line"></span><br><span class="line">    orignal_data = X_train.copy()</span><br><span class="line">    X_train = new_data(X_train)</span><br><span class="line">    X_test = new_data(X_test)</span><br><span class="line">    alpha = _<span class="keyword">lambda</span> * beta</span><br><span class="line">    w = np.linalg.pinv(X_train @ X_train.T + _<span class="keyword">lambda</span> * np.eye(X_train.shape[<span class="number">0</span>])) @ X_train @ y_train</span><br><span class="line">    rmse_train = loss_fn(X_train, y_train)</span><br><span class="line">    rmse_test = loss_fn(X_test, y_test)</span><br><span class="line"></span><br><span class="line">    log_ll_train = log_likelihood_fn(X_train, y_train)</span><br><span class="line">    log_ll_test = log_likelihood_fn(X_test, y_test)</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the RMSE of the train data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(rmse_train))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the RMSE of the test data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(rmse_test))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the average log-likelihood of the train data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(log_ll_train))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the average log-likelihood of the test data is: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(log_ll_test))</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    pred, x_std = prediction_mu_sigma(X_train)</span><br><span class="line">    sorted_idx = np.argsort(X_train[<span class="number">0</span>])</span><br><span class="line">    orignal_data = orignal_data[sorted_idx]</span><br><span class="line">    pred = pred.flatten()[sorted_idx]</span><br><span class="line">    y_train = y_train[sorted_idx]</span><br><span class="line">    plt.figure()</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(orignal_data.shape[<span class="number">0</span>]):</span><br><span class="line">        plt.scatter(orignal_data[j, <span class="number">0</span>], y_train[j, <span class="number">0</span>], marker = <span class="string">&quot;o&quot;</span>, color = <span class="string">&quot;black&quot;</span>)</span><br><span class="line">    plt.plot(orignal_data[:,<span class="number">0</span>], pred.flatten(), color = <span class="string">&quot;blue&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(std)):</span><br><span class="line">        plt.fill_between(orignal_data[<span class="number">0</span>], pred.flatten()+std[i]*x_std, pred.flatten()-std[i]*x_std,</span><br><span class="line">                          color = <span class="string">&quot;blue&quot;</span>, alpha = <span class="number">0.2</span>)</span><br><span class="line">    plt.title(<span class="string">&quot;bayesian_linear_regression&quot;</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210716232731384.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210716232742944.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210716232759263.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>æ¦‚ç‡å¯†åº¦ä¼°è®¡ï¼ˆProbability Density Estimationï¼‰--Part 3ï¼šæ··åˆæ¨¡å‹</title>
    <url>/posts/8.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>åœ¨ç»“æŸäº†æœ‰å‚ä¼°è®¡ï¼Œæ— å‚ä¼°è®¡åï¼Œç°åœ¨è®°å½•æ··åˆæ¨¡å‹ï¼ˆMixture modelsï¼‰ã€‚è¿™é‡Œé™„ä¸€å¼ æœ‰å‚å’Œæ— å‚çš„å¯¹æ¯”å›¾ï¼ˆæœ¬æ¥åº”è¯¥é™„åœ¨Part 2çš„ï¼Œä¸æƒ³å›å»æ”¹äº†ã€‚ã€‚ï¼‰ï¼š <span id="more"></span> <img src="https://img-blog.csdnimg.cn/20210703061913869.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<blockquote>
<p>å­—é¢æ„æ€ï¼Œæ··åˆæ¨¡å‹å°±æ˜¯æœ‰å‚æ¨¡å‹å’Œæ— å‚æ¨¡å‹çš„æ··åˆã€‚</p>
</blockquote>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œé«˜æ–¯æ¨¡å‹çš„æ··åˆï¼ˆMixture of Gaussiansï¼ŒMoGï¼‰ã€‚<br />
ç°æœ‰ä¸‰ä¸ªé«˜æ–¯æ¨¡å‹å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210703062219101.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210703062258416.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å…¶æ¦‚ç‡å¯†åº¦å¯ä»¥è¿‘ä¼¼è¡¨ç¤ºä¸ºï¼š<span class="math display">\[p(x)=\sum^M_{j=1}p(x|j)p(j)\]</span>å„å˜é‡æœ‰å¦‚ä¸‹å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210703062522599.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¤§æ¦‚è§£é‡Šä¸€ä¸‹ï¼š<span class="math inline">\(p(x|j)\)</span>è¡¨ç¤ºç¬¬<span class="math inline">\(j\)</span>ä¸ªé«˜æ–¯æ¨¡å‹çš„æ¦‚ç‡å¯†åº¦ï¼Œ<span class="math inline">\(p(j)=\pi_j\)</span>è¡¨ç¤ºç¬¬<span class="math inline">\(j\)</span>ä¸ªé«˜æ–¯æ¨¡å‹å‡ºç°çš„æ¦‚ç‡ï¼Œæ˜¯ä¸€ç§å…ˆéªŒæ¦‚ç‡ã€‚<br />
è¿™é‡Œè®°ä½ä¸¤ç‚¹ï¼š <img src="https://img-blog.csdnimg.cn/20210703062812442.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å³æ˜¯è¯´ï¼Œæ··åˆæ¨¡å‹æ¦‚ç‡å¯†åº¦ç§¯åˆ†ä¸º1ï¼Œç„¶åå¯¹äºæ··åˆæ¨¡å‹çš„æ¯ä¸ªå­æ¨¡å‹ï¼Œæˆ‘ä»¬éƒ½è¦æ±‚å‡ºå¯¹åº”çš„ä¸‰ä¸ªå€¼ï¼ˆå‡å€¼ï¼Œæ–¹å·®å’Œæ¨¡å‹å…ˆéªŒï¼‰ï¼Œè¿™æ˜¯å¯¹äºMoGè€Œè¨€çš„ã€‚</p>
<h1 id="æ±‚è§£æ–¹æ³•">æ±‚è§£æ–¹æ³•</h1>
<h2 id="mleæ³•">MLEæ³•</h2>
<p>å¯¹äºç®€å•çš„ï¼ˆå•ä¸ªï¼‰é«˜æ–¯æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨MLEè¿‘ä¼¼æ±‚è§£ï¼Œä½†åœ¨é«˜æ–¯æ··åˆä¸­æ— æ³•ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ±‚å‚æ•°æ—¶å¹¶ä¸çŸ¥é“è¿™ä¸ªå‚æ•°å±äºé«˜æ–¯æ··åˆçš„å“ªä¸ªå­åˆ†å¸ƒã€‚å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210707183134950.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™ä¸ª<span class="math inline">\(p(j|x)\)</span>æˆ‘ä»¬æ˜¯æ— æ³•è§‚æµ‹åˆ°çš„ï¼Œæ¯•ç«Ÿå¦‚æœè¿™ä¸ªéƒ½çŸ¥é“ï¼Œé‚£é«˜æ–¯æ··åˆå°±åªæ˜¯å¤šä¸ªé«˜æ–¯æ¨¡å‹çš„ç®€å•å åŠ è€Œå·²ã€‚<br />
ä¹Ÿå°±æ˜¯è¯´å•ä¸ªé«˜æ–¯æ¨¡å‹çš„å‚æ•°ä¼šå–å†³äºæ‰€æœ‰é«˜æ–¯æ¨¡å‹çš„å‚æ•°ã€‚æ‰€ä»¥MLEä¸å¯ç”¨ã€‚</p>
<h2 id="clustering">Clustering</h2>
<p>åˆ†ä¸ºä¸¤ç§ï¼š</p>
<blockquote>
<ol type="1">
<li>Clustering with soft assignments<br />
</li>
<li>Clustering with hard assignments</li>
</ol>
</blockquote>
<p>ç®€å•è¯´çš„è¯ï¼Œhard assignmentsæ˜¯æ ¹æ®Labelåˆ’åˆ†çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªæ•°æ®ç‚¹åªå±äºä¸€ä¸ªlabelï¼Œæ¯”å¦‚è¯´K-meanï¼›soft assignmentæ˜¯æ ¹æ®æ¦‚ç‡åŒºåˆ†çš„ï¼Œæ¯ä¸ªæ•°æ®ç‚¹å¯èƒ½å±äºå¤šä¸ªlabelï¼Œä½†æ¦‚ç‡ä¸åŒã€‚å¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20210707184402519.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/2021070718442371.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="æ‰€æœ‰ç‚¹éƒ½å¯èƒ½æ˜¯label1æˆ–2" /> è¿™é‡Œåªä»‹ç»soft assignmentï¼Œæ¯•ç«Ÿä¸¤ä¸ªå‡ ä¹æ˜¯ä¸€æ ·çš„ã€‚è¿™å°±è¦ç”¨åˆ°è¿™ç« çš„é‡ç‚¹äº†ï¼Œ<span class="math inline">\(EM\)</span>ç®—æ³•ã€‚</p>
<h3 id="emç®—æ³•"><span class="math inline">\(EM\)</span>ç®—æ³•</h3>
<h4 id="å¤§æ¦‚çš„è¯´æ˜">å¤§æ¦‚çš„è¯´æ˜</h4>
<p><span class="math inline">\(EM\)</span>ç®—æ³•æ˜¯ä¸€ç§è¿­ä»£ç®—æ³•ï¼Œæœ¬è´¨ä¸Šå®ƒä¹Ÿæ˜¯ä¸€ç§æœ€å¤§ä¼¼ç„¶ä¼°è®¡çš„æ–¹æ³•ï¼Œå…¶ç‰¹ç‚¹æ˜¯ï¼Œå½“æˆ‘ä»¬çš„æ•°æ®ä¸å®Œæ•´æ—¶ï¼Œæ¯”å¦‚è¯´åªæœ‰è§‚æµ‹æ•°æ®ï¼Œç¼ºä¹éšå«æ•°æ®æ—¶ï¼Œå¯ä»¥ç”¨EMç®—æ³•è¿›è¡Œè¿­ä»£æ¨å¯¼ã€‚<br />
è¯¥ç®—æ³•åŒ…æ‹¬<span class="math inline">\(E\)</span>æ­¥éª¤å’Œ<span class="math inline">\(M\)</span>æ­¥éª¤ï¼Œè¿™é‡Œä¸å…·ä½“ä»‹ç»ä¸€èˆ¬æ€§çš„<span class="math inline">\(EM\)</span>ç®—æ³•ï¼Œä¸»è¦è¯´æ˜å…¶åœ¨é«˜æ–¯æ··åˆä¸­å¦‚ä½•è¿ç”¨ã€‚å…¶æ­¥éª¤å¤§ä½“å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p>
<blockquote>
<ol type="1">
<li>éšæœºåˆå§‹åŒ–å„å­åˆ†å¸ƒçš„æœŸæœ›<span class="math inline">\(\mu_1,\mu_2...\mu_m\)</span>ã€‚</li>
<li><strong>E-step</strong>ï¼šè®¡ç®—æ¯ä¸ªå­åˆ†å¸ƒçš„åéªŒ<span class="math display">\[p(j|x_n)\]</span></li>
<li><strong>M-step</strong>è®¡ç®—æ‰€æœ‰æ•°æ®ç‚¹çš„åŠ æƒå¹³å‡å€¼ <img src="https://img-blog.csdnimg.cn/202107090127095.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å…¶æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/20210709012920879.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li>
</ol>
</blockquote>
<h4 id="è¾ƒä¸ºè¯¦ç»†çš„è¯´æ˜">è¾ƒä¸ºè¯¦ç»†çš„è¯´æ˜</h4>
<p>ç°åœ¨è¯´ä¸€ä¸‹æ›´åŠ è¯¦ç»†çš„æ­¥éª¤ã€‚<br />
å‡è®¾ç°åœ¨æœ‰ä¸¤ç»„æ•°æ®ï¼Œå³æ˜¯è§‚æµ‹æ•°æ®å’Œéšè—æ•°æ®ï¼š</p>
<blockquote>
<ol type="1">
<li>Incomplete (observed) data: <span class="math inline">\(X={(X_1, X_2, ... ,X_n)}\)</span></li>
<li>Hidden (unobserved) data: <span class="math inline">\(Y=(Y_1, Y_2,...,Y_n)\)</span></li>
</ol>
</blockquote>
<p>ç»„åˆåå½¢å‚å®Œæ•´æ•°æ®ï¼š</p>
<blockquote>
<ol type="1">
<li>Complete data: <span class="math inline">\(Z=(X,Y)\)</span></li>
</ol>
</blockquote>
<p>è”åˆå¯†åº¦ä¸º<span class="math display">\[ p(Z)=p(X,Y)=p(Y|X)p(X)\]</span>å³æ˜¯<span class="math display">\[p(Z|\theta)=p(X,Y|\theta)=p(Y|X,\theta)p(X|\theta)\]</span>åœ¨é«˜æ–¯æ··åˆä¸­ï¼š<br />
<span class="math inline">\(p(X|\theta)\)</span>æ˜¯æ··åˆæ¨¡å‹çš„ä¼¼ç„¶<br />
<span class="math inline">\(p(Y|X,\theta)\)</span>æ˜¯æ··åˆæ¨¡å‹ä¸­å­åˆ†å¸ƒçš„ä¼°è®¡</p>
<p>å¯¹äºä¸å®Œæ•´çš„æ•°æ®ï¼ˆè§‚æµ‹æ•°æ®ï¼‰ï¼Œå…¶ä¼¼ç„¶ä¸ºï¼š<span class="math display">\[L(\theta|X)=p(X|\theta)=\prod_{n=1}^{N}p(X_n|\theta)\]</span>å¯¹äºå®Œæ•´æ•°æ®ï¼ˆZï¼‰ï¼Œå…¶ä¼¼ç„¶ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210712040548473.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> åœ¨è¿™é‡Œæˆ‘ä»¬è™½ç„¶ä¸çŸ¥é“<span class="math inline">\(Y\)</span>ï¼Œä½†å¦‚æœæˆ‘ä»¬çŸ¥é“å½“å‰çš„å‚æ•°çŒœæµ‹<span class="math inline">\(\theta^{i-1}\)</span>ï¼Œæˆ‘ä»¬å°±èƒ½ç”¨å®ƒæ¥é¢„æµ‹<span class="math inline">\(Y\)</span>ã€‚<br />
åœ¨è¿™é‡Œæˆ‘ä»¬è®¡ç®—å®Œæ•´æ•°æ®çš„å¯¹æ•°ä¼¼ç„¶çš„æœŸæœ›ï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210712042100870.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å…¶ä¸­<span class="math inline">\(X\)</span>å’Œ<span class="math inline">\(\theta^{i-1}\)</span>æ˜¯å·²çŸ¥çš„ã€‚æ›´è¿›ä¸€æ­¥å±•å¼€å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210712051332414.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™ä¸ªç­‰å¼æ˜¯æ ¹æ®å‡å€¼å’Œç§¯åˆ†çš„å…³ç³»å†™å‡ºæ¥çš„ã€‚å³æ˜¯å¦‚ä¸‹å…³ç³»ï¼š<br />
<span class="math display">\[E[x]=\int_Xxf(x)dx\]</span>å…¶ä¸­<span class="math inline">\(f(x)\)</span>æ˜¯æ¦‚ç‡å¯†åº¦ï¼ˆ<em>è¿™éƒ¨åˆ†ä¸å¤ªç¡®å®šï¼Œæœ‰é”™çš„è¯éº»çƒ¦å¤§å®¶æŒ‡å‡º</em>ï¼‰ã€‚<br />
æˆ‘ä»¬éœ€è¦æœ€å¤§åŒ–è¿™ä¸ª<span class="math inline">\(Q\)</span>å‡½æ•°ã€‚<br />
æ¥ä¸‹æ¥æ˜¯<span class="math inline">\(EM\)</span>ç®—æ³•ï¼š<br />
<strong>E-step(expectation)</strong>: è®¡ç®—<span class="math inline">\(p(y|X,\theta^{i-1})\)</span>ä»¥ä¾¿è®¡ç®—<span class="math inline">\(Q(\theta,\theta^{i-1})\)</span>;<br />
<strong>M-step(maximization)</strong>: æœ€å¤§åŒ–<span class="math inline">\(Q\)</span>å‡½æ•°æ±‚å‡º<span class="math inline">\(\theta\)</span> <span class="math display">\[\hat{\theta}=arg max_\theta Q(\theta,\theta^{i-1})\]</span> è¿™æ˜¯ä¸€ç§è¿­ä»£è¿ç®—ï¼Œæˆ‘ä»¬è¦ç¡®ä¿æ¯æ¬¡è¿­ä»£ä¸­ï¼Œç¬¬<span class="math inline">\(i\)</span>æ¬¡çš„ç»“æœè‡³å°‘å’Œç¬¬<span class="math inline">\(i-1\)</span>çš„ä¸€æ ·å¥½ï¼Œå³æ˜¯ï¼š<span class="math display">\[Q(\theta^i,\theta^{i-1})\geq Q(\theta^{i-1},\theta^{i-1})\]</span> è‹¥è¯¥æœŸæœ›å€¼å¯¹äº<span class="math inline">\(\theta\)</span>æ¥è¯´æ˜¯æœ€å¤§çš„ï¼Œåˆ™å¯ä»¥è®¤ä¸º(==è¿™éƒ¨åˆ†æœªç†è§£==)ï¼š<span class="math display">\[L(\theta^i|X)\geq L(\theta^{i-1}|X)\]</span> ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­è§‚æµ‹æ•°æ®çš„å¯¹æ•°ä¼¼ç„¶éƒ½ä¼šä¸æ–­å¢å¤§ï¼ˆæˆ–è€…è‡³å°‘ä¿æŒä¸å˜ï¼‰ï¼Œæœ€ç»ˆè¾¾åˆ°å±€éƒ¨æœ€å¤§å€¼ã€‚<br />
æ‰€ä»¥ï¼Œåœ¨å®é™…è¿ç”¨ä¸­ï¼Œåˆå§‹åŒ–å¯¹äº<span class="math inline">\(EM\)</span>ç®—æ³•å¾ˆé‡è¦ï¼Œä¸€ä¸ªä¸å¥½çš„åˆå§‹åŒ–å¯èƒ½ä¼šä½¿ç»“æœåœåœ¨ä¸€ä¸ªä¸å¥½çš„å±€éƒ¨æœ€ä¼˜å€¼ä¸­ã€‚</p>
<h4 id="é«˜æ–¯æ··åˆä¸­çš„emç®—æ³•em-for-gaussian-mixtures">é«˜æ–¯æ··åˆä¸­çš„<span class="math inline">\(EM\)</span>ç®—æ³•ï¼ˆEM for Gaussian Mixturesï¼‰</h4>
<p>æ­¥éª¤ï¼š</p>
<ol type="1">
<li><p>åˆå§‹åŒ–å‚æ•°<span class="math inline">\(\mu_1,\sigma_1, \pi_1...\)</span><br />
</p></li>
<li><p>å¾ªç¯ï¼Œç›´åˆ°æ»¡è¶³ç»ˆæ­¢æ¡ä»¶ï¼š</p>
<ol type="1">
<li>E-step: è®¡ç®—æ¯ä¸ªæ•°æ®ç‚¹å¯¹äºæ¯ä¸ªå­åˆ†å¸ƒçš„åéªŒåˆ†å¸ƒ: <img src="https://img-blog.csdnimg.cn/20210712054310641.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œçš„<span class="math inline">\(\alpha\)</span>å¯ä»¥ç†è§£æˆæ¯ä¸ªæ•°æ®ç‚¹å±äºå„ä¸ªå­åˆ†å¸ƒçš„æƒé‡æˆ–è€…è¯´æ¦‚ç‡ã€‚<br />
</li>
<li>M-step: ä½¿ç”¨Eæ­¥éª¤çš„æƒé‡è¿›è¡Œæ›´æ–°æ•°æ®ï¼š <img src="https://img-blog.csdnimg.cn/2021071205454123.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" />è‡³æ­¤ï¼Œé«˜æ–¯æ··åˆçš„<span class="math inline">\(EM\)</span>ç®—æ³•å°±ç»“æŸäº†ï¼Œç„¶åè¿˜æœ‰æœ€åä¸€ä¸ªé—®é¢˜ï¼Œè¿™éƒ¨åˆ†ä¸å¤ªç†è§£ï¼Œä½†æŠŠç»“è®ºè´´ä¸Šæ¥å§ï¼Œä»¥åå†æ¢ç©¶ï¼š</li>
</ol></li>
</ol>
<figure>
<img src="https://img-blog.csdnimg.cn/2021071205595953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="" /><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption>
</figure>
<h1 id="é™„ä½œä¸šç›¸å…³ä»£ç ">ï¼ˆé™„ï¼‰ä½œä¸šç›¸å…³ä»£ç </h1>
<p><img src="https://img-blog.csdnimg.cn/2021071502051214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¹Ÿå°±æ˜¯ç»™å‡ºæ•°æ®ç‚¹ï¼Œç„¶åç”¨EMç®—æ³•è¿›è¡Œé«˜æ–¯æ‹Ÿåˆï¼š <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> multivariate_normal</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span>(<span class="params">path</span>):</span></span><br><span class="line">    <span class="keyword">return</span> np.loadtxt(path)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init_params</span>(<span class="params">k, d = <span class="number">2</span></span>):</span></span><br><span class="line">    pi = np.ones(k) * <span class="number">1</span>/k</span><br><span class="line">    mu = [np.random.rand(<span class="number">2</span>, <span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k)]</span><br><span class="line">    cov = [np.eye(<span class="number">2</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pi, mu, cov</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">EM</span>(<span class="params">iter_times, data, k</span>):</span></span><br><span class="line">    pi, mu, cov = init_params(k)</span><br><span class="line">    N = data.shape[<span class="number">0</span>]</span><br><span class="line">    alpha = np.zeros((N, k))</span><br><span class="line">    likelihood_list = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update_alpha</span>(<span class="params">alpha, N, k</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">                p_ij = pi[j] * multivariate_normal.pdf(data[i], mu[j].flatten(), cov[j])</span><br><span class="line">                alpha[i][j] = p_ij</span><br><span class="line">                likelihood[i] += p_ij</span><br><span class="line">            alpha[i] = alpha[i] / np.<span class="built_in">sum</span>(alpha[i])</span><br><span class="line">        <span class="keyword">return</span> alpha</span><br><span class="line"></span><br><span class="line">    sigma = np.empty((N, <span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">        d = data[i, :].reshape(<span class="number">2</span>, -<span class="number">1</span>)</span><br><span class="line">        sigma[i] = np.dot(d, d.T)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(iter_times):</span><br><span class="line">        likelihood = np.zeros(N)</span><br><span class="line">        <span class="comment"># E-step: update alpha</span></span><br><span class="line">        alpha = update_alpha(alpha, N, k)</span><br><span class="line">        likelihood_list.append(np.<span class="built_in">sum</span>(np.log(likelihood)))</span><br><span class="line">        <span class="comment"># M-step: update mu, cov, pi</span></span><br><span class="line">        N_j = np.<span class="built_in">sum</span>(alpha, axis = <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">            <span class="comment"># update mu</span></span><br><span class="line">            alpha_x = <span class="number">0</span></span><br><span class="line">            alpha_x_mu = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">                alpha_x += (alpha[n][j] * data[n])</span><br><span class="line">            alpha_x = alpha_x.reshape(<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">            mu[j] = alpha_x / N_j[j]</span><br><span class="line">            <span class="comment"># update pi</span></span><br><span class="line">            pi[j] = N_j[j] / N</span><br><span class="line">            <span class="comment"># update cov</span></span><br><span class="line">            <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">                alpha_x_mu += alpha[n][j]*(data[n] - mu[j].T)*(data[n] - mu[j].T).T</span><br><span class="line">            cov[j] = alpha_x_mu / N_j[j]</span><br><span class="line"></span><br><span class="line">    plot_contour(iter_times, data, mu, cov, k)</span><br><span class="line">    <span class="keyword">if</span> iter_times == <span class="number">30</span>:</span><br><span class="line">        plt.figure()</span><br><span class="line">        plt.plot(np.arange(<span class="number">1</span>, <span class="number">31</span>), np.array(likelihood_list))</span><br><span class="line">        plt.title(<span class="string">&#x27;log-likelihood for every iteration&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;iteration&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;log-likelihood&#x27;</span>)</span><br><span class="line">        plt.grid()</span><br><span class="line">        plt.show()</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_contour</span>(<span class="params">iter_num, data, mu, cov, k</span>):</span></span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.title(<span class="string">&quot;iter_num = %d&quot;</span> % iter_num)</span><br><span class="line">    plt.scatter(data[:,<span class="number">0</span>], data[:,<span class="number">1</span>])</span><br><span class="line">    x_min, x_max = plt.gca().get_xlim()</span><br><span class="line">    y_min, y_max = plt.gca().get_ylim()</span><br><span class="line"></span><br><span class="line">    num = <span class="number">50</span></span><br><span class="line">    x = np.linspace(x_min, x_max, num)</span><br><span class="line">    y = np.linspace(y_min, y_max, num)</span><br><span class="line">    X, Y = np.meshgrid(x, y)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> sub_k <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">        Z = np.zeros_like(X)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y)):</span><br><span class="line">                z = multivariate_normal.pdf(np.array([[x[i]], [y[j]]]).flatten(), mu[sub_k].flatten(), cov[sub_k])</span><br><span class="line">                Z[j, i] = z</span><br><span class="line">        plt.contour(X, Y, Z)</span><br><span class="line">        plt.show()</span><br><span class="line"></span><br><span class="line">path = <span class="string">&quot;./dataSets/gmm.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    k = <span class="number">4</span></span><br><span class="line">    iter_lst = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">30</span>]</span><br><span class="line">    pi, mu, cov = init_params(k)</span><br><span class="line">    data = load_data(path)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> iter_lst:</span><br><span class="line">        EM(i, data, k)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></p>
<p>æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿­ä»£1æ¬¡ï¼š <img src="https://img-blog.csdnimg.cn/20210715020905924.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿­ä»£3æ¬¡ï¼š <img src="https://img-blog.csdnimg.cn/20210715020944160.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿­ä»£5æ¬¡ï¼š <img src="https://img-blog.csdnimg.cn/20210715021008112.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿­ä»£10æ¬¡ï¼š <img src="https://img-blog.csdnimg.cn/20210715021034201.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿­ä»£30æ¬¡ï¼š <img src="https://img-blog.csdnimg.cn/20210715021055371.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ¯æ¬¡è¿­ä»£çš„å¯¹æ•°ä¼¼ç„¶ï¼š <img src="https://img-blog.csdnimg.cn/20210715021143437.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>æ¦‚ç‡å¯†åº¦ä¼°è®¡ï¼ˆProbability Density Estimationï¼‰--Part 2ï¼šæ— å‚ä¼°è®¡</title>
    <url>/posts/7.html</url>
    <content><![CDATA[<h1 id="å¼•å…¥">å¼•å…¥</h1>
<p>æ¥ä¸Šä¸€ç¯‡çš„ã€æœ‰å‚ä¼°è®¡ã€‘ï¼Œè¿™ç¯‡ä»‹ç»æ— å‚ä¼°è®¡ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿™é‡Œæˆ‘ä»¬äº‹å…ˆä¸çŸ¥é“æ•°æ®çš„æ¨¡å‹ï¼Œè€Œè¦æ±‚æ•°æ®è¿›è¡Œåˆ’åˆ†ï¼Œè¿™ä¹Ÿæ˜¯å®é™…ä¸­æ¯”è¾ƒå¸¸è§çš„æƒ…å†µã€‚ <span id="more"></span></p>
<p>è¿™ä¸»è¦ä»‹ç»ä¸‰ç§æ— å‚ä¼°è®¡æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<pre><code>1. ç›´æ–¹å›¾ï¼ˆHistogramsï¼‰
2. æ ¸å¯†åº¦ä¼°è®¡ï¼ˆKernel Density Estimationï¼ŒKDEï¼‰
3. Kæœ€é‚»è¿‘æ³•ï¼ˆK-nearest Neighborsï¼ŒKNNï¼‰</code></pre>
<h1 id="ç›´æ–¹å›¾histograms">ç›´æ–¹å›¾ï¼ˆHistogramsï¼‰</h1>
<p>ç›´æ–¹å›¾æ˜¯æœ€ç®€å•çš„ä¸€ç§æ–¹æ³•ï¼Œé€šè¿‡å¯¹æ•°æ®è¿›è¡Œç»Ÿè®¡åˆ†ç±»ï¼Œç”»å‡ºç›´æ–¹å›¾å³å¯ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ç›´æ–¹å›¾ä¸­<span class="math inline">\(bin\)</span>å€¼çš„é€‰å–ã€‚<br />
å¯¹äº<span class="math inline">\(bin\)</span>å€¼çš„ä¸åŒé€‰å–å¯èƒ½ä¼šæœ‰ä¸‹é¢ä¸‰ç§æƒ…å†µï¼š <img src="https://img-blog.csdnimg.cn/20210627054925776.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç›´æ–¹å›¾çš„ç‰¹ç‚¹æ˜¯ï¼š</p>
<blockquote>
<ol type="1">
<li>ä½¿ç”¨éå¸¸æ™®éï¼Œæ²¡æœ‰æ•°æ®çš„é™åˆ¶ï¼Œä»»ä½•æ¦‚ç‡å¯†åº¦éƒ½å¯ä»¥è¢«ä»»æ„åœ°è¿‘ä¼¼ï¼›<br />
</li>
<li>è¿™ä¸ªæ–¹æ³•å¤ªç²—æš´ã€‚ã€‚ã€‚</li>
</ol>
</blockquote>
<p>ç›´æ–¹å›¾çš„ç¼ºé™·æœ‰ï¼š</p>
<blockquote>
<ol type="1">
<li>é«˜ç»´ç©ºé—´ä¸­ï¼Œ<span class="math inline">\(bin\)</span>çš„æ•°ç›®ä»¥æŒ‡æ•°çº§å¢é•¿ï¼›<br />
</li>
<li><span class="math inline">\(bin\)</span>å€¼å¾—é€‰å–ä¸å®¹æ˜“ã€‚</li>
</ol>
</blockquote>
<p>ç›´æ–¹å›¾çš„ç›¸å…³è®¡ç®—ï¼š ï¼ˆä¹Ÿä¸å±€é™äºç›´æ–¹å›¾ï¼Œè¿™äº›è®¡ç®—æ–¹æ³•æ˜¯å¾ˆé€šç”¨çš„ï¼Œåé¢ä¹Ÿä¼šç”¨åˆ°ã€‚ï¼‰<br />
æˆ‘ä»¬ç°åœ¨æœ‰æ•°æ®ç‚¹<span class="math inline">\(x\)</span>ï¼Œå…¶æ˜¯ä»æ¦‚ç‡å¯†åº¦<span class="math inline">\(p(x)\)</span>ä¸­å–æ ·çš„ã€‚<br />
<span class="math inline">\(x\)</span>è½åœ¨åŒºåŸŸ<span class="math inline">\(R\)</span>çš„æ¦‚ç‡æ˜¯ï¼š<span class="math display">\[P(x\in R)=\int_Rp(x)dx\]</span>å¦‚æœ<span class="math inline">\(R\)</span>éå¸¸å°ï¼Œä½“ç§¯ä¸º<span class="math inline">\(V\)</span>ï¼Œåˆ™<span class="math inline">\(p(x)\)</span>å‡ ä¹æ˜¯å¸¸æ•°ï¼š<span class="math display">\[P(x\in R)=\int_Rp(x)dx\approx p(x)V\]</span>å¦‚æœ<span class="math inline">\(R\)</span>å¾ˆå¤§ï¼Œåˆ™ï¼š<span class="math display">\[P(x\in R) = \frac{K}{N}\rightarrow p(x)\approx \frac{K}{NV}\]</span>å…¶ä¸­<span class="math inline">\(N\)</span>æ˜¯æ•°æ®æ€»æ•°ï¼Œ<span class="math inline">\(K\)</span>æ˜¯è½åœ¨åŒºåŸŸ<span class="math inline">\(R\)</span>å†…çš„æ•°æ®æ•°ã€‚</p>
<p>å¯¹äºKernel density estimation (KDE)ï¼Œæ˜¯å›ºå®š<span class="math inline">\(V\)</span>å¹¶ç¡®å®š<span class="math inline">\(K\)</span>ï¼Œæ¯”å¦‚è¯´ï¼šç¡®å®šå›ºå®šåœ¨è¶…ç«‹æ–¹ä½“ä¸­çš„æ•°æ®ç‚¹<span class="math inline">\(K\)</span>çš„æ•°é‡ï¼Œå¦‚ä¸‹å›¾ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/20210627061013461.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¯¹äºK-nearest neighbors (kNN)ï¼Œæ˜¯å›ºå®š<span class="math inline">\(K\)</span>å¹¶ç¡®å®š<span class="math inline">\(V\)</span>ï¼Œæ¯”å¦‚è¯´ï¼šå¢åŠ çƒçš„å°ºå¯¸ç›´åˆ°<span class="math inline">\(K\)</span>ä¸ªç‚¹éƒ½è½åœ¨çƒå†…ï¼Œå¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20210627061147105.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h1 id="kde">KDE</h1>
<h2 id="parzen-window">Parzen Window</h2>
<p>å¯¹äºä¸€ä¸ª<span class="math inline">\(d\)</span>ç»´ï¼Œè¾¹é•¿ä¸º<span class="math inline">\(h\)</span>çš„è¶…ç«‹æ–¹ä½“ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210628225842881.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="gaussian-kernel">Gaussian Kernel</h2>
<p>å¯¹äºé«˜æ–¯æ ¸ï¼Œæˆ‘ä»¬åˆ™å¯ä»¥å†™æˆï¼š <img src="https://img-blog.csdnimg.cn/2021062822595979.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="general-formulation-arbitrary-kernel">General Formulation â€“ Arbitrary Kernel</h2>
<p>å¯¹äºæ›´ä¸€èˆ¬çš„å½¢å¼ï¼Œåˆ™æœ‰ï¼š <img src="https://img-blog.csdnimg.cn/20210628230351141.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="å„ç§å†…æ ¸çš„æ€»ç»“">å„ç§å†…æ ¸çš„æ€»ç»“</h2>
<h3 id="é«˜æ–¯æ ¸gaussian-kernel">é«˜æ–¯æ ¸ï¼ˆGaussian Kernelï¼‰</h3>
<p><span class="math display">\[k(u)=\frac{1}{\sqrt{2\pi}}exp\left\{-\frac{1}{2}u^2\right\}\]</span> ç¼ºç‚¹æ˜¯ï¼š</p>
<pre><code>1. kernel has infinite support
2. Requires a lot of computation</code></pre>
<h3 id="parzen-window-1">Parzen window</h3>
<p><img src="https://img-blog.csdnimg.cn/20210701060654119.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç¼ºç‚¹æ˜¯ï¼š</p>
<pre><code>1. Not very smooth results</code></pre>
<h3 id="epanechnikov-kernel">Epanechnikov kernel</h3>
<p><img src="https://img-blog.csdnimg.cn/20210701060839776.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç¼ºç‚¹æ˜¯ï¼š</p>
<pre><code>1. Smoother, but finite support</code></pre>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>æ ¸æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ï¼šæˆ‘ä»¬å¿…é¡»åˆé€‚åœ°é€‰æ‹©æ ¸çš„å¸¦å®½<span class="math inline">\(h\)</span>ã€‚<br />
å¦‚æœ<span class="math inline">\(h\)</span>å¤ªå¤§åˆ™ä¼šè¿‡äºå¹³æ»‘ï¼Œå¤ªå°åˆ™ä¸å¤Ÿå¹³æ»‘ã€‚<br />
ä¸€ä¸ªé«˜æ–¯æ ¸çš„ä¾‹å­ï¼š <img src="https://img-blog.csdnimg.cn/20210701061312403.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h1 id="knn">KNN</h1>
<p>KNNåˆ†ç±»å¤§ä½“æ„æ€æ˜¯ï¼šå‡è®¾æˆ‘ä»¬çš„æ•°æ®é›†æœ‰<span class="math inline">\(N\)</span>ä¸ªç‚¹ï¼Œæœ‰<span class="math inline">\(N_j\)</span>ä¸ªç‚¹å±äºç±»<span class="math inline">\(C_j\)</span>ï¼Œå¹¶ä¸”æœ‰<span class="math inline">\(\sum_jN_j=N\)</span>ã€‚ç°åœ¨è¦å¯¹ç‚¹<span class="math inline">\(x\)</span>è¿›è¡Œåˆ†ç±»ï¼Œæˆ‘ä»¬å…ˆç”»ä¸€ä¸ªçƒï¼Œä¸­å¿ƒåœ¨<span class="math inline">\(x\)</span>å¤„ï¼Œå¹¶ä¸”åŒ…å«äº†ï¼ˆä»»æ„ç±»çš„ï¼‰<span class="math inline">\(K\)</span>ä¸ªç‚¹ã€‚å‡è®¾çƒä½“ç§¯ä¸º<span class="math inline">\(V\)</span>ï¼Œä¸”åŒ…å«æœ‰<span class="math inline">\(K_j\)</span>ä¸ªç‚¹æ˜¯å±äº<span class="math inline">\(C_j\)</span>çš„ï¼Œåˆ™æˆ‘ä»¬æœ‰å¦‚ä¸‹å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210701062118992.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<blockquote>
<p>æ³¨æ„ï¼šä¸ç°åº¦å›¾çš„<span class="math inline">\(bins\)</span>å’ŒKDEçš„<span class="math inline">\(h\)</span>ç±»ä¼¼ï¼Œ<span class="math inline">\(K\)</span>å€¼å¤ªå¤§åˆ™ä¼šè¿‡äºå¹³æ»‘ï¼Œå¤ªå°åˆ™ä¸å¤Ÿå¹³æ»‘ã€‚</p>
</blockquote>
<p>ä¸€ä¸ªä¾‹å­ï¼š <img src="https://img-blog.csdnimg.cn/20210701062621685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h1 id="é™„ä½œä¸šç›¸å…³ä»£ç ">ï¼ˆé™„ï¼‰ä½œä¸šç›¸å…³ä»£ç </h1>
<p><img src="https://img-blog.csdnimg.cn/20210701062801504.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç®€å•è§£é‡Šä¸‹ä½œä¸šï¼š<br />
æœ‰ä¸¤ä¸ªæ•°æ®é›†ï¼Œåˆ†åˆ«ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œç¬¬1é¢˜è¦æ±‚ç”»å‡ºä¸åŒ<span class="math inline">\(bins\)</span>ä¸‹çš„ç›´æ–¹å›¾ï¼›ç¬¬2é¢˜åˆ™æ˜¯ç”¨é«˜æ–¯æ ¸ï¼Œç”¨ä¸åŒçš„<span class="math inline">\(\sigma\)</span>è®¡ç®—è®­ç»ƒé›†çš„å¯¹æ•°ä¼¼ç„¶ï¼Œæ¯”è¾ƒå·®å¼‚æ€§ï¼›ç¬¬3é¢˜è¦æ±‚ç”¨ä¸åŒçš„<span class="math inline">\(K\)</span>å€¼å†™<span class="math inline">\(KNN\)</span>ä»£ç ã€‚<br />
ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy.special <span class="keyword">import</span> logsumexp</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span>(<span class="params">path</span>):</span></span><br><span class="line">    data = np.loadtxt(path)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_histogram</span>(<span class="params">bins, arr</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(bins) % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        fir = <span class="built_in">len</span>(bins) / <span class="number">2</span> * <span class="number">100</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fir = (<span class="built_in">len</span>(bins) // <span class="number">2</span> + <span class="number">1</span>) * <span class="number">100</span></span><br><span class="line">    </span><br><span class="line">    pos = fir + <span class="number">20</span> + <span class="number">1</span></span><br><span class="line">    interval = np.<span class="built_in">max</span>(arr) - np.<span class="built_in">min</span>(arr)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(bins)):</span><br><span class="line">        sub_bin = <span class="built_in">int</span>(interval // bins[i]) + <span class="number">1</span></span><br><span class="line">        plt.subplot(pos+i)</span><br><span class="line">        plt.hist(arr, bins = sub_bin, facecolor=<span class="string">&quot;blue&quot;</span>, edgecolor=<span class="string">&quot;black&quot;</span>, alpha=<span class="number">0.7</span>)</span><br><span class="line">        plt.title(<span class="string">&quot;Bin = %.3f&quot;</span> % bins[i])</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;data&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;times&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kernel_density_estimate</span>(<span class="params">x_arr, x_lst, sigma</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_H_Gauss</span>(<span class="params">h, u, d</span>):</span></span><br><span class="line">        H_u = np.exp(-(np.linalg.norm(u) ** <span class="number">2</span>) / (<span class="number">2</span> * h * h)) \</span><br><span class="line">              / (np.sqrt(<span class="number">2</span> * np.pi * h * h) ** d)</span><br><span class="line">        <span class="keyword">return</span> H_u</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_K</span>(<span class="params">N, x, x_arr, h, d</span>):</span></span><br><span class="line">        k = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">            u = x - x_arr[i]</span><br><span class="line">            k += _H_Gauss(h, u, d)</span><br><span class="line">        <span class="keyword">return</span> k</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">p</span>(<span class="params">N, x, x_arr, h, d, V</span>):</span></span><br><span class="line">        p_x = _K(N, x, x_arr, h, d) / (N * V)</span><br><span class="line">        <span class="keyword">return</span> p_x</span><br><span class="line">    </span><br><span class="line">    V = <span class="number">1</span></span><br><span class="line">    N = <span class="built_in">len</span>(x_arr.flatten())</span><br><span class="line">    p_x_lst = []</span><br><span class="line">    d = <span class="built_in">len</span>(x_arr.flatten())/(x_arr.shape[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> x_lst:</span><br><span class="line">        temp_p = p(N, x, x_arr, sigma, d, V)</span><br><span class="line">        p_x_lst.append(temp_p)</span><br><span class="line">    <span class="keyword">return</span> p_x_lst</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_logsumexp</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> np.log(np.<span class="built_in">sum</span>(np.exp(x)))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ked_log_likelihood</span>(<span class="params">x_arr, x_lst, sigma</span>):</span></span><br><span class="line">    N = x_arr.shape[<span class="number">0</span>]</span><br><span class="line">    ll_lst = []</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> x_lst:</span><br><span class="line">        single_val = _logsumexp(-np.linalg.norm(x_arr.reshape(-<span class="number">1</span>,<span class="number">1</span>) - x, axis=<span class="number">1</span>) ** <span class="number">2</span> / (<span class="number">2</span> * sigma * sigma) \</span><br><span class="line">                               - np.log(np.sqrt(<span class="number">2</span> * np.pi * sigma * sigma) * N))</span><br><span class="line">        ll_lst.append(single_val)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> np.<span class="built_in">sum</span>(ll_lst)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kNN</span>(<span class="params">data, x_lst, k</span>):</span></span><br><span class="line">    knn_lst = []</span><br><span class="line">    N = <span class="built_in">len</span>(data.flatten())</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> x_lst:</span><br><span class="line">        u = np.linalg.norm(x - data.reshape(-<span class="number">1</span>,<span class="number">1</span>), axis = <span class="number">1</span>)</span><br><span class="line">        r = np.sort(u)[k-<span class="number">1</span>]</span><br><span class="line">        v = <span class="number">2</span> * r</span><br><span class="line">        temp_p = k / (N * v)</span><br><span class="line">        knn_lst.append(temp_p)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> knn_lst, np.<span class="built_in">sum</span>(np.log(knn_lst))</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Comparison_NPM</span>(<span class="params">data, test_data, k_lst, sigma_lst</span>):</span></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> sigma_lst:</span><br><span class="line">        temp_kde_test = ked_log_likelihood(data, test_data, s)</span><br><span class="line">        temp_kde_train = ked_log_likelihood(data, data, s)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;train_data: log_likelihood of KDE with sigma = %.2f: %.12f&#x27;</span> % (s, temp_kde_train) )</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;test_data : log_likelihood of KDE with sigma = %.2f: %.12f&#x27;</span> % (s, temp_kde_test) )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> k_lst:</span><br><span class="line">        _, temp_knn_test = kNN(data, test_data, k)</span><br><span class="line">        _, temp_knn_train = kNN(data, data, k)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;train_data: log_likelihood of KDE with k = %d: %.12f&#x27;</span> % (k, temp_knn_train) )</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;test_data : log_likelihood of KDE with k = %d: %.12f&#x27;</span> % (k, temp_knn_test) )        </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    path = <span class="string">&quot;./dataSets/nonParamTrain.txt&quot;</span></span><br><span class="line">    path_test = <span class="string">&#x27;./dataSets/nonParamTest.txt&#x27;</span></span><br><span class="line">    data = load_data(path)</span><br><span class="line">    data_test = load_data(path_test)</span><br><span class="line">    bins_w = [<span class="number">0.02</span>, <span class="number">0.5</span>, <span class="number">2.0</span>]</span><br><span class="line">    plot_histogram(bins_w, data)</span><br><span class="line">    plt.tight_layout()</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    num = <span class="built_in">len</span>(data.flatten())</span><br><span class="line"></span><br><span class="line">    p_x = []</span><br><span class="line">    p_test = []</span><br><span class="line">    sigma = [<span class="number">0.03</span>, <span class="number">0.2</span>, <span class="number">0.8</span>]</span><br><span class="line">    x_lst = np.linspace(-<span class="number">4</span>, <span class="number">8</span>, data.shape[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">for</span> h <span class="keyword">in</span> sigma:</span><br><span class="line">        temp_p = kernel_density_estimate(data, x_lst, h)</span><br><span class="line">        p_x.append(temp_p)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> p_x:</span><br><span class="line">        plt.plot(x_lst, x)</span><br><span class="line">    plt.xlabel(<span class="string">&quot;X&quot;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&quot;kde&quot;</span>)</span><br><span class="line">    plt.legend([<span class="string">&#x27;sigma=0.03&#x27;</span>,<span class="string">&#x27;sigma=0.2&#x27;</span>,<span class="string">&#x27;sigma=0.8&#x27;</span>])</span><br><span class="line">    plt.title(<span class="string">&#x27;KDE with different sigma&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    k = [<span class="number">2</span>, <span class="number">8</span>, <span class="number">35</span>]</span><br><span class="line">    knn_lst = []</span><br><span class="line">    <span class="keyword">for</span> sub_k <span class="keyword">in</span> k:</span><br><span class="line">        temp_knn, _ = kNN(data, x_lst, sub_k)</span><br><span class="line">        knn_lst.append(temp_knn)</span><br><span class="line">    <span class="keyword">for</span> knn <span class="keyword">in</span> knn_lst:</span><br><span class="line">        plt.plot(x_lst, knn)</span><br><span class="line">    plt.xlabel(<span class="string">&quot;X&quot;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&quot;knn&quot;</span>)</span><br><span class="line">    plt.axis([-<span class="number">4</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">1.5</span>])</span><br><span class="line">    plt.legend([<span class="string">&#x27;k=2&#x27;</span>,<span class="string">&#x27;k=8&#x27;</span>,<span class="string">&#x27;k=35&#x27;</span>])</span><br><span class="line">    plt.title(<span class="string">&#x27;KNN with different k&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    Comparison_NPM(data, data_test, k, sigma)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>ç»“æœæ˜¾ç¤ºå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210701063451438.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/2021070106345256.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210701063452883.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>æ¦‚ç‡å¯†åº¦ä¼°è®¡ï¼ˆProbability Density Estimationï¼‰--Part 1ï¼šå‚æ•°ä¼°è®¡</title>
    <url>/posts/6.html</url>
    <content><![CDATA[<h1 id="æ¦‚ç‡å¯†åº¦çš„å¼•å…¥">æ¦‚ç‡å¯†åº¦çš„å¼•å…¥</h1>
<span id="more"></span>
<p>å½“æˆ‘ä»¬æœ‰å¦‚ä¸‹çš„ç‚¹åˆ†å¸ƒ <img src="https://img-blog.csdnimg.cn/20210623072951840.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_2,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¸ºäº†èƒ½åŒºåˆ†å®ƒä»¬ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è¿™äº›ç‚¹çš„æ¦‚ç‡åˆ†å¸ƒã€‚å¸¸è§çš„æœ‰è´å¶æ–¯æœ€ä¼˜åˆ†ç±»(Bayes optimal classification)ï¼Œè¿™æ˜¯åŸºäºå¦‚ä¸‹çš„æ¦‚ç‡åˆ†å¸ƒï¼š<span class="math display">\[
p(x|C_k)p(C_k)\]</span> å…¶ä¸­çš„å…ˆéªŒ<span class="math inline">\(p(C_k)\)</span>å¾ˆå®¹æ˜“ç®—ï¼Œå°±æ˜¯ç»Ÿè®¡ï¼Œæˆ–è€…è¯´æ•°æ•°ï¼Œç°åœ¨çš„é—®é¢˜å°±æˆäº†è®¡ç®—å¦‚ä¸‹çš„æ¡ä»¶æ¦‚ç‡å¯†åº¦ï¼š<span class="math inline">\(p(x|C_k)\)</span>ã€‚è¿™ä¸»è¦æœ‰ä¸‰ç§æƒ…å†µï¼š</p>
<pre><code>1. Parametric model
2. Non-parametric model
3. Mixture models</code></pre>
<p>ï¼ˆç®€å•è§£é‡Šä¸€ä¸‹ï¼Œæœ‰å‚ä¼°è®¡æ˜¯æŒ‡æˆ‘ä»¬çŸ¥é“æ ·æœ¬æ•°æ®ç¬¦åˆæŸç§æ¦‚ç‡å¯†åº¦æ¨¡å‹ï¼Œé€šè¿‡ç»™å‡ºçš„æ•°æ®æ±‚å‡ºæ‰€éœ€è¦çš„å‚æ•°ï¼Œæ¯”å¦‚é«˜æ–¯åˆ†å¸ƒçš„å‡å€¼å’Œæ–¹å·®ï¼Œæœ‰å‚ä¼°è®¡çš„Robustæ¯”è¾ƒå¥½ï¼›æ— å‚ä¼°è®¡æ˜¯æŒ‡æˆ‘ä»¬ä¸çŸ¥é“è¿™äº›æ•°æ®ç‚¹ç¬¦åˆå“ªäº›æ¨¡å‹ï¼Œæ‰€ä»¥æ— æ³•æ±‚å‡ºå…¶å‚æ•°ï¼Œè¿™ç§æƒ…å†µåœ¨ç°å®ç”Ÿæ´»ä¸­æ›´åŠ å¸¸è§ï¼‰</p>
<h1 id="å‚æ•°æ¨¡å‹parametric-model">å‚æ•°æ¨¡å‹ï¼ˆParametric modelï¼‰</h1>
<p>æ¦‚ç‡å¯†åº¦æ¨¡å‹çš„ç¬¦å·è¡¨ç¤ºä¸ºï¼š<span class="math display">\[x \sim p(x|\theta)\]</span> ä»¥é«˜æ–¯æ¨¡å‹ä¸ºä¾‹ï¼š<span class="math display">\[p(x|\mu,\sigma)=\frac{1}{\sqrt{2\pi \sigma^2}}\exp \left\{ -\frac{(x-\mu)^2}{2\sigma^2}\right\}\]</span> æˆ‘ä»¬åªè¦çŸ¥é“å®ƒçš„å‡å€¼å’Œæ–¹å·®å°±èƒ½å®Œæ•´åœ°æè¿°è¿™ä¸ªæ¨¡å‹ï¼Œå³æ˜¯ï¼š<span class="math display">\[\theta = (\mu, \sigma)\]</span><span class="math display">\[x\sim p(x|\mu,\sigma)\]</span>ç°åœ¨æˆ‘ä»¬éœ€è¦æ ¹æ®æ¨¡å‹å’Œæ•°æ®é›†æ±‚å‡º<span class="math inline">\(\theta\)</span>ã€‚<br />
å…¶ä¼¼ç„¶å‡½æ•°è¡¨ç¤ºä¸ºï¼š(<span class="math inline">\(X\)</span>ä¸ºæ•°æ®é›†æ•°æ®) <span class="math display">\[L(\theta)=p(X|\theta)\]</span>å¯¹äºæœ‰å‚æ¨¡å‹ï¼Œè¿™é‡Œä»‹ç»æœ€å¤§ä¼¼ç„¶æ–¹æ³•ï¼ˆMaximum Likelihood Methodï¼‰</p>
<h2 id="æœ€å¤§ä¼¼ç„¶æ–¹æ³•maximum-likelihood-method">æœ€å¤§ä¼¼ç„¶æ–¹æ³•ï¼ˆMaximum Likelihood Methodï¼‰</h2>
<p>ç°å‡è®¾æˆ‘ä»¬æœ‰æ•°æ®é›†<span class="math inline">\(X=\left\{x_1,x_2,...,x_N\right\}\)</span><br />
å¯¹äºè¿™äº›æ•°æ®é›†æˆ‘ä»¬å‡è®¾æ•°æ®æ˜¯i.i.d(independent and identically distributed)çš„ï¼Œå³æ˜¯ï¼š</p>
<blockquote>
<ol type="1">
<li><span class="math inline">\(P(x_1\le\alpha, x_2\le\beta)=P(x_1\le\alpha)P(x_2\le\beta)\)</span><br />
</li>
<li><span class="math inline">\(P(x_1\le\alpha)=P(x_2\le\alpha)\)</span> é€šè¿‡è¯¥å‡è®¾ï¼Œä¼¼ç„¶è®¡ç®—å¯å†™ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210624014545305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¸¤è¾¹å–å¯¹æ•°ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20210624014705555.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç„¶åå°±æ˜¯æ±‚å¯¼ä¹‹ç±»çš„äº‹äº†ã€‚<br />
ç°åœ¨æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœ<span class="math inline">\(N=1\)</span>ï¼Œå³æ˜¯è¯´<span class="math inline">\(X=\left\{x_1\right\}\)</span>ï¼Œè¿™æ—¶å€™äº§ç”Ÿçš„é«˜æ–¯æ¨¡å‹ä¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/2021062402093825.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> çœ‹ä¸Šå»å°±åƒä¸ª<span class="math inline">\(\delta\)</span>å‡½æ•°ã€‚<br />
è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ç»™å¹³å‡æ•°åŠ ä¸Šå…ˆéªŒ <img src="https://img-blog.csdnimg.cn/20210624021134780.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></li>
</ol>
</blockquote>
<h2 id="è´å¶æ–¯ä¼°è®¡bayesian-estimation">è´å¶æ–¯ä¼°è®¡ï¼ˆBayesian Estimationï¼‰</h2>
<p>ä¸æå¤§ä¼¼ç„¶ä¼°è®¡ä¸åŒï¼Œè´å¶æ–¯ä¼°è®¡å‡è®¾å¾…ä¼°è®¡å‚æ•°ä¸æ˜¯å›ºå®šè€Œæ˜¯éšæœºçš„ã€‚<br />
ç°åœ¨æˆ‘ä»¬è¦æ ¹æ®ç»™å‡ºçš„æ•°æ®é›†<span class="math inline">\(X\)</span>ï¼Œå¾—åˆ°<span class="math inline">\(x\)</span>çš„å¯†åº¦å‡½æ•°<span class="math inline">\(p(x)\)</span>ã€‚å°†å…¶å†™æˆæ¡ä»¶æ¦‚ç‡å½¢å¼ï¼š<span class="math display">\[p(x|X)\]</span>ç”¨è¾¹ç¼˜æ¦‚ç‡å’Œè´å¶æ–¯å…¬å¼å¾—å‡ºä¸‹å›¾å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210625183231837.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç”±äº<span class="math inline">\(p(x)\)</span>èƒ½æ ¹æ®<span class="math inline">\(\theta\)</span>å®Œå…¨ç¡®å®šï¼Œå³æ˜¯è¯´<span class="math inline">\(\theta\)</span>æ˜¯sufficient statisticï¼Œæ‰€ä»¥<span class="math display">\[p(x|\theta, X) = p(x|\theta)\]</span>è¿›è€Œä¸Šé¢ä¸¤ä¸ªå¼å­å¯å†™æˆï¼š <img src="https://img-blog.csdnimg.cn/20210625184001131.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ï¼ˆç®€å•è§£é‡Šä¸€ä¸‹è¿™ä¸ªå¼å­ï¼Œ<span class="math inline">\(p(\theta |X)\)</span>è¡¨ç¤ºä¼°è®¡å‚æ•°å¯¹æ•°æ®é›†<span class="math inline">\(X\)</span>çš„ä¾èµ–ç¨‹åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´<span class="math inline">\(\theta\)</span>åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ä»£æŒ‡<span class="math inline">\(X\)</span>ï¼Œæ¯”å¦‚å½“<span class="math inline">\(p(\theta|X)\)</span>åœ¨å¤§å¤šæ•°åœ°æ–¹éƒ½å¾ˆå°ï¼Œä½†å”¯ç‹¬åœ¨<span class="math inline">\(\hat{\theta}\)</span>å¤„å¾ˆå¤§ï¼Œæˆ‘ä»¬å°±èƒ½è¿‘ä¼¼è¡¨ç¤ºï¼š<span class="math inline">\(p(x|X) \approx p(x|\hat{\theta})\)</span>ï¼Œè¯¥ç‚¹ä¹Ÿç§°ä¸ºBayes pointï¼‰<br />
ç»§ç»­è®¡ç®—å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210625184553971.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œç¨å¾®å¯¹å›¾é‡Œçš„å‚æ•°è¿›è¡Œè§£é‡Šï¼š<br />
<span class="math inline">\(p(\theta)\)</span>æ˜¯ä¼°è®¡å‚æ•°çš„å…ˆéªŒåˆ†å¸ƒï¼Œå®ƒä¸ç»™çš„æ•°æ®é›†æ— å…³ï¼Œè€Œæ˜¯æˆ‘ä»¬çš„ä¸€ç§ç»éªŒæ€§åˆ¤æ–­ã€‚å¯¹äº<span class="math inline">\(p(\theta|X)\)</span>ï¼Œæ˜¯ä¸€ä¸ªåéªŒåˆ†å¸ƒï¼Œæ‰€ä»¥ä¸€èˆ¬å–æœŸæœ›å€¼ï¼Œè€Œä¸” <img src="https://img-blog.csdnimg.cn/20210625191701870.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¸¾ä¸ªä¾‹å­ï¼š<br />
æˆ‘ä»¬ç°åœ¨æœ‰é«˜æ–¯åˆ†å¸ƒçš„æ•°æ®é›†ï¼Œå…¶æ–¹å·®å·²çŸ¥ï¼Œæˆ‘ä»¬è¦ä¼°è®¡å…¶å‡å€¼ï¼Œæœ‰å¦‚ä¸‹å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210625191859887.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¯¹äºå…ˆéªŒæˆ‘ä»¬çš„åˆ¤æ–­æ˜¯ï¼š <img src="https://img-blog.csdnimg.cn/20210625191940406.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æ ¹æ®é‡‡æ ·å‡å€¼å’Œè´å¶æ–¯ä¼°è®¡å°±èƒ½å¯¹å‡å€¼è¿›è¡Œä¼°è®¡ï¼š <img src="https://img-blog.csdnimg.cn/20210625192158823.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æœ€åè¿™é‡Œè¡¥å……ä¸ªæ¦‚å¿µï¼š</p>
<blockquote>
<p>åœ¨è´å¶æ–¯ç»Ÿè®¡ä¸­ï¼Œå¦‚æœåéªŒåˆ†å¸ƒä¸å…ˆéªŒåˆ†å¸ƒå±äºåŒç±»ï¼Œåˆ™å…ˆéªŒåˆ†å¸ƒä¸åéªŒåˆ†å¸ƒè¢«ç§°ä¸ºå…±è½­åˆ†å¸ƒï¼Œè€Œå…ˆéªŒåˆ†å¸ƒè¢«ç§°ä¸ºä¼¼ç„¶å‡½æ•°çš„å…±è½­å…ˆéªŒï¼ˆConjugate priorï¼‰ã€‚æ¯”å¦‚ï¼Œé«˜æ–¯åˆ†å¸ƒå®¶æ—åœ¨é«˜æ–¯ä¼¼ç„¶å‡½æ•°ä¸‹ä¸å…¶è‡ªèº«å…±è½­ (è‡ªå…±è½­)ã€‚(æ¥è‡ª wikiç™¾ç§‘)</p>
</blockquote>
<p>æ¯”å¦‚ä¸Šé¢é‚£ä¸ªå‡å€¼çš„é«˜æ–¯å…ˆéªŒï¼Œå°±æ˜¯é«˜æ–¯æ¨¡å‹çš„å…±è½­ï¼Œè¿™é‡Œä½¿ç”¨æ˜¯å› ä¸ºï¼š</p>
<blockquote>
<ol type="1">
<li>The product of two Gaussians is a Gaussian.<br />
</li>
<li>The marginal of a Gaussian is a Gaussian.</li>
</ol>
</blockquote>
<h2 id="é™„å‚æ•°ä¼°è®¡çš„ä»£ç ä½œä¸š">ï¼ˆé™„ï¼‰å‚æ•°ä¼°è®¡çš„ä»£ç ä½œä¸š</h2>
<p><img src="https://img-blog.csdnimg.cn/20210625194745608.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç®€å•æ¥è¯´å°±æ˜¯ç»™ä¸¤ç»„äºŒç»´æ•°æ®ï¼Œæ¨¡å‹æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œè¿›è¡Œå‚æ•°ä¼°è®¡æ‹Ÿåˆï¼Œç¬¬ä¸€é¢˜æ˜¯çº¯ç²¹çš„ç»Ÿè®¡ï¼Œè·³è¿‡ï¼Œç¬¬äºŒé¢˜çš„è¯ã€‚ã€‚ã€‚è¿˜æ˜¯ç›´æ¥é™„ä»£ç äº†å§ï¼ˆä»£ç æ­£ç¡®æ€§æœªçŸ¥ï¼Œå› ä¸ºä½œä¸šè¿˜æ²¡æœ‰å…¬å¸ƒç»“æœï¼‰ <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span>(<span class="params">path</span>):</span></span><br><span class="line">    <span class="keyword">return</span> np.loadtxt(path)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prior_probability</span>(<span class="params">arr_n, arr_sum</span>):</span></span><br><span class="line">    h_n, w_n = arr_n.shape</span><br><span class="line">    h_sum, w_sum = arr_sum.shape</span><br><span class="line">    p_n = (h_n * w_n) / (h_sum * w_sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p_n</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">MLE_mean</span>(<span class="params">arr</span>):</span></span><br><span class="line">    <span class="keyword">return</span> np.mean(arr, axis = <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bias_unbias_var</span>(<span class="params">arr</span>):</span></span><br><span class="line">    num = arr.shape[<span class="number">0</span>]</span><br><span class="line">    arr_mean = MLE_mean(arr)</span><br><span class="line">    dist = arr - arr_mean</span><br><span class="line">    sum_vor_cov = np.zeros((<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        ls = []</span><br><span class="line">        ls.append(dist[i])</span><br><span class="line">        dist_arr = np.array(ls)</span><br><span class="line">        sum_vor_cov += np.dot(dist_arr.T, dist_arr)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> sum_vor_cov / num, sum_vor_cov / (num - <span class="number">1</span>)</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">two_dim_Gauss</span>(<span class="params">x, mu, cov</span>):</span></span><br><span class="line">    <span class="comment">#x = x.reshape(2, -1)</span></span><br><span class="line">    p_x = np.exp((-<span class="number">0.5</span>*(x - mu) @ np.linalg.inv(cov) @ (x - mu).T)) \</span><br><span class="line">          / np.sqrt((<span class="number">2</span> * np.pi) ** <span class="number">2</span> * np.linalg.det(cov))</span><br><span class="line">    <span class="comment">#print(p_x.shape)</span></span><br><span class="line">    <span class="keyword">return</span> p_x</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">posterior</span>(<span class="params">mu1, mu2, cov1, cov2, p_c1, p_c2</span>):</span></span><br><span class="line">    num = <span class="number">300</span></span><br><span class="line">    x = np.linspace(-<span class="number">10</span>, <span class="number">10</span>, num)</span><br><span class="line">    y = np.linspace(-<span class="number">10</span>, <span class="number">10</span>, num)</span><br><span class="line"></span><br><span class="line">    X,Y = np.meshgrid(x, y)</span><br><span class="line">    C1 = []</span><br><span class="line">    C2 = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y)):</span><br><span class="line">            z1 = two_dim_Gauss(np.array([[x[i], y[j]]]), mu1, cov1)</span><br><span class="line">            z2 = two_dim_Gauss(np.array([[x[i], y[j]]]), mu2, cov2)</span><br><span class="line">            temp1 = z1 * p_c1</span><br><span class="line">            temp2 = z2 * p_c2</span><br><span class="line">            <span class="keyword">if</span> temp1 &gt; temp2:</span><br><span class="line">                C1.append(np.array([[x[i], y[j]]]))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                C2.append(np.array([[x[i], y[j]]]))</span><br><span class="line">    C1 = np.array(C1).reshape(-<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">    C2 = np.array(C2).reshape(-<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    plt.scatter(C1[:,<span class="number">0</span>], C1[:,<span class="number">1</span>])</span><br><span class="line">    plt.scatter(C2[:,<span class="number">0</span>], C2[:,<span class="number">1</span>])</span><br><span class="line">    plt.xlabel(<span class="string">&quot;X&quot;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&quot;Y&quot;</span>)</span><br><span class="line">    plt.legend([<span class="string">&#x27;Class1&#x27;</span>, <span class="string">&#x27;Class2&#x27;</span>])</span><br><span class="line">    plt.show()</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_Gauss_point</span>(<span class="params">arr, mu, cov</span>):</span></span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.scatter(arr[:,<span class="number">0</span>], arr[:,<span class="number">1</span>])</span><br><span class="line">    x_min, x_max = plt.gca().get_xlim()</span><br><span class="line">    y_min, y_max = plt.gca().get_ylim()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    num = <span class="number">50</span></span><br><span class="line">    x = np.linspace(x_min, x_max, num)</span><br><span class="line">    y = np.linspace(y_min, y_max, num)</span><br><span class="line">    X, Y = np.meshgrid(x, y)</span><br><span class="line">    </span><br><span class="line">    Z = np.zeros_like(X)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y)):</span><br><span class="line">            z = two_dim_Gauss(np.array([[x[i], y[j]]]), mu, cov)</span><br><span class="line">            Z[j][i] = z</span><br><span class="line">    plt.contour(X,Y,Z)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">path1 = <span class="string">&quot;./dataSets/densEst1.txt&quot;</span></span><br><span class="line">path2 = <span class="string">&quot;./dataSets/densEst2.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    arr1 = load_data(path1)</span><br><span class="line">    arr2 = load_data(path2)</span><br><span class="line"></span><br><span class="line">    arr_sum = np.vstack((arr1, arr2))</span><br><span class="line"></span><br><span class="line">    p_C1 = prior_probability(arr1, arr_sum)</span><br><span class="line">    p_C2 = prior_probability(arr2, arr_sum)</span><br><span class="line"></span><br><span class="line">    mu2 = MLE_mean(arr2)</span><br><span class="line">    bias_s2, sigma2 = bias_unbias_var(arr2)</span><br><span class="line"></span><br><span class="line">    mu1 = MLE_mean(arr1)</span><br><span class="line">    bias_s1, sigma1 = bias_unbias_var(arr1)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The mean for C1 is: &quot;</span>, mu1)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The mean for C2 is: &quot;</span>, mu2)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The sigma with bias for C1 is&quot;</span>, bias_s1)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The sigma without bias for C1 is&quot;</span>, sigma1)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The sigma with bias for C2 is&quot;</span>, bias_s2)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The sigma without bias for C2 is&quot;</span>, sigma2)</span><br><span class="line">    </span><br><span class="line">    plot_Gauss_point(arr1, mu1, sigma1)</span><br><span class="line">    plt.title(<span class="string">&quot;densEst1&quot;</span>)</span><br><span class="line">    plot_Gauss_point(arr2, mu2, sigma2)</span><br><span class="line">    plt.title(<span class="string">&quot;densEst2&quot;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    posterior(mu1, mu2, sigma1, sigma2, p_C1, p_C2)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure> ç»“æœå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210625195929319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210625195925925.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210625195929478.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>æä»£æ•°å’Œæ‰°åŠ¨æ¨¡å‹</title>
    <url>/posts/5.html</url>
    <content><![CDATA[<p>å‰ä¸€ç¯‡å¤§æ¦‚ä»‹ç»äº†ã€æç¾¤æä»£æ•°ã€‘çš„ç›¸å…³æ€§è´¨ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»æä»£æ•°åœ¨SLAMä¸­çš„ä½œç”¨ã€‚ <span id="more"></span></p>
<h2 id="bchå…¬å¼åŠå…¶è¿‘ä¼¼å½¢å¼">BCHå…¬å¼åŠå…¶è¿‘ä¼¼å½¢å¼</h2>
<p>æä»£æ•°åœ¨SLAMä¸­çš„ä½œç”¨ä¸»è¦æ˜¯è¿›è¡Œä¼˜åŒ–ï¼Œä¼˜åŒ–è¿‡ç¨‹å°±ä¸å¯é¿å…åœ°éœ€è¦æ¶‰åŠåˆ°æ±‚å¯¼çš„è¿‡ç¨‹ã€‚<br />
ä¸æ ‡é‡ä¸åŒï¼Œåœ¨çŸ©é˜µä¸­æŒ‡æ•°çš„è¿ç®—æ³•åˆ™å¹¶ä¸é€‚ç”¨ï¼Œå³æ˜¯è¯´åœ¨çŸ©é˜µä¸­ï¼š<span class="math display">\[ln(exp(A)exp(B))\ne A+B\]</span> å–è€Œä»£ä¹‹çš„æ—¶BCHå…¬å¼ï¼š<span class="math display">\[ln(exp(A)exp(B))=A+B+\frac{1}{2}[A,B]+\frac{1}{12}[A,[A,B]]-\frac{1}{12}[B,[A,B]]+...\]</span> å…¶ä¸­çš„"[,]"ä¸ºææ‹¬å·ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸¤ä¸ªçŸ©é˜µæŒ‡æ•°ä¹‹ç§¯ä¼šç”±è¿™ä¸¤ä¸ªçŸ©é˜µçš„å’Œä¸ä¸€ç³»åˆ—ç”±ææ‹¬å·ç»„æˆçš„ä½™é¡¹ç»„æˆã€‚å¯¹äºSO(3)ï¼Œå½“<span class="math inline">\(\phi_{1}\)</span>æˆ–<span class="math inline">\(\phi_{2}\)</span>ä¸ºå°é‡æ—¶ï¼Œå°é‡äºŒæ¬¡ä»¥ä¸Šçš„é¡¹éƒ½å¯ä»¥è¢«å¿½ç•¥ï¼Œå³æ˜¯æœ‰ä»¥ä¸‹å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/2021050722481379.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä»¥ç¬¬ä¸€ä¸ªè¿‘ä¼¼ä¸ºä¾‹ï¼Œå½“å¯¹ä¸€ä¸ªæ—‹è½¬å‘é‡<span class="math inline">\(R_{2}\)</span>ï¼ˆå¯¹åº”çš„æä»£æ•°ä¸º<span class="math inline">\(\phi_{2}\)</span>ï¼‰å·¦ä¹˜ä¸€ä¸ªå¾®å°æ—‹è½¬çŸ©é˜µ<span class="math inline">\(R_{1}\)</span>ï¼Œå¯ä»¥è¿‘ä¼¼çœ‹ä½œåœ¨åŸæœ‰æä»£æ•°<span class="math inline">\(\phi_{2}\)</span>çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†<span class="math inline">\(J_{l}(\phi_{2})^{-1}\phi_{1}\)</span>ï¼ˆç¬¬äºŒä¸ªè¿‘ä¼¼åŒç†ï¼Œä½†æ˜¯æ˜¯å³ä¹˜ï¼‰ã€‚<br />
æä»£æ•°åœ¨BCHè¿‘ä¼¼ä¸‹åˆ†ä¸ºå·¦ä¹˜å’Œå³ä¹˜ä¸¤ç§ï¼Œæ³¨æ„åŒºåˆ†ã€‚<br />
è¿™é‡Œçš„<span class="math inline">\(J\)</span>å°±æ˜¯åœ¨ä¸Šä¸€ç¯‡å…³äºæç¾¤æä»£æ•°é‡Œæåˆ°çš„å¼å­ï¼š <img src="https://img-blog.csdnimg.cn/20210507230638737.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å³ä¹˜çš„è¯åªéœ€è¦æ”¹å˜è‡ªå˜é‡çš„ç¬¦å·å³å¯ï¼š<span class="math display">\[J_{r}(\phi)=J_{l}(-\phi)\]</span> ç°åœ¨å¯¹äºä¸€ä¸ªæ—‹è½¬<span class="math inline">\(R\)</span>(å¯¹åº”æä»£æ•°ä¸º<span class="math inline">\(\phi\)</span>)ï¼Œç»™ä¹‹å·¦ä¹˜ä¸€ä¸ªå¾®å°æ—‹è½¬<span class="math inline">\(\triangle R\)</span>(å¯¹åº”äº<span class="math inline">\(\triangle \phi\)</span>)ï¼Œæˆ‘ä»¬å°±æœ‰äº†å¦‚ä¸‹å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210507231646273.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> åä¹‹ï¼Œå½“æˆ‘ä»¬åœ¨æä»£æ•°ä¸ŠåšåŠ æ³•è¿ç®—æ—¶åˆ™æœ‰ï¼š <img src="https://img-blog.csdnimg.cn/20210507231729943.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¯¹äºSE(3)ï¼Œä¹Ÿæœ‰ç±»ä¼¼çš„å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210507231854489.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œçš„<span class="math inline">\(\jmath\)</span>æ˜¯ä¸€ä¸ª<span class="math inline">\(6\times6\)</span>çš„çŸ©é˜µã€‚</p>
<h2 id="so3ä¸Šçš„æä»£æ•°çš„æ±‚å¯¼">SO(3)ä¸Šçš„æä»£æ•°çš„æ±‚å¯¼</h2>
<p>åœ¨SLAMä¸­è¦ä¼°è®¡ä¸€ä¸ªç›¸æœºçš„ä½ç½®å’Œä½å§¿ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡SO(3)ä¸Šçš„æ—‹è½¬çŸ©é˜µæˆ–è€…SE(3)ä¸Šçš„å˜æ¢çŸ©é˜µæè¿°çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨æŸæ—¶åˆ»ç›¸æœºä½å§¿ä¸º<span class="math inline">\(T\)</span>ï¼Œå…¶è§‚å¯Ÿåˆ°ä¸–ç•Œåæ ‡ä½äº<span class="math inline">\(p\)</span>çš„ä¸€ç‚¹ï¼Œäº§ç”Ÿä¸€ä¸ªè§‚æµ‹æ•°æ®<span class="math inline">\(z\)</span>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æœ‰å¦‚ä¸‹å…³ç³»ï¼š<span class="math display">\[z=Tp+\omega\]</span>å…¶ä¸­çš„<span class="math inline">\(\omega\)</span>ä¸ºéšæœºå™ªéŸ³ã€‚<br />
ç”±äºå™ªéŸ³çš„å­˜åœ¨æˆ‘ä»¬æ— æ³•è·å¾—ç²¾å‡†çš„<span class="math inline">\(z-p\)</span>å¯¹åº”å…³ç³»ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬å°±è¦å¯¹è¿™ä¸ªå™ªéŸ³äº§ç”Ÿçš„è¯¯å·®è¿›è¡Œè®¡ç®—ï¼Œå³ï¼š<span class="math display">\[e=z-Tp\]</span> å‡è®¾ä¸€å…±æœ‰<span class="math inline">\(N\)</span>ä¸ªè¿™æ ·çš„è·¯æ ‡ç‚¹å’Œè§‚å¯Ÿï¼Œå³æ˜¯æœ‰<span class="math inline">\(N\)</span>ä¸ªä¸Šå¼ï¼Œæˆ‘ä»¬ç°åœ¨è¦é¢„è®¡è¯¥ç›¸æœºçš„ä½å§¿ï¼Œå°±æ˜¯è¦æ±‚å‡ºä¸€ç»„<span class="math inline">\(T\)</span>ï¼Œä½¿æ•´ä½“è¯¯å·®æœ€å°åŒ–ï¼š<span class="math display">\[\min_T J(T)=\sum_{i=1}^{N}||z_{i}-Tp_{i}||_{2}^{2}\]</span> è¦æ±‚è§£è¿™ä¸ªé—®é¢˜ï¼Œå°±è¦æ±‚<span class="math inline">\(J\)</span>å¯¹<span class="math inline">\(T\)</span>çš„å¯¼æ•°ï¼Œç„¶è€Œå› ä¸ºç¾¤SO(3)å’ŒSE(3)æ²¡æœ‰åŠ æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬è½¬è€Œå¤„ç†å®ƒä»¬çš„æä»£æ•°ï¼ˆå› ä¸ºæä»£æ•°æ˜¯å‘é‡çš„é›†åˆï¼Œå¯¹åŠ æ³•å°é—­ï¼‰ï¼Œå› æ­¤æ€è·¯ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ï¼š</p>
<blockquote>
<ol type="1">
<li>ç”¨æä»£æ•°è¡¨ç¤ºä½å§¿ï¼Œç„¶åå¯¹æä»£æ•°è¿›è¡Œæ±‚å¯¼ï¼›<br />
</li>
<li>å¯¹æç¾¤å·¦ä¹˜æˆ–è€…å³ä¹˜å¾®å°æ‰°åŠ¨ï¼Œç„¶åå¯¹è¿™ä¸ªæ‰°åŠ¨è¿›è¡Œæ±‚å¯¼ï¼Œç§°ä¸ºå·¦æ‰°åŠ¨å’Œå³æ‰°åŠ¨æ¨¡å‹</li>
</ol>
</blockquote>
<p>ç¬¬ä¸€ç§å¯¹åº”æä»£æ•°æ±‚å¯¼æ¨¡å‹ï¼Œç¬¬äºŒç§å¯¹åº”æ‰°åŠ¨æ¨¡å‹ã€‚<br />
ä»¥ä¸‹åˆ†åˆ«è¿›è¡Œè¯´æ˜ã€‚</p>
<h3 id="æä»£æ•°æ±‚å¯¼">æä»£æ•°æ±‚å¯¼</h3>
<p><em>ï¼ˆå…¶å®è¿™éƒ¨åˆ†å¯ä¸çœ‹ï¼Œå› ä¸ºæœ€åä¼šå‘ç°æ‰°åŠ¨æ¨¡å‹æ›´é€‚åˆï¼‰</em><br />
ç°åœ¨å¤„ç†SO(3)çš„æƒ…å†µã€‚å‡è®¾å¯¹ç©ºé—´ä¸€ç‚¹<span class="math inline">\(p\)</span>è¿›è¡Œæ—‹è½¬ï¼Œå¾—åˆ°<span class="math inline">\(Rp\)</span>ï¼Œæˆ‘ä»¬è¦è®¡ç®—æ—‹è½¬åçš„ç‚¹åæ ‡ç›¸å¯¹äºæ—‹è½¬çš„è§’åº¦ï¼Œå³æ˜¯ï¼š<span class="math display">\[\frac{\partial(Rp)}{\partial R}\]</span> ç”±äºSO(3)æ²¡æœ‰åŠ æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬è½¬è€Œæ±‚å…¶å¯¹åº”çš„æä»£æ•°ï¼Œå³æ˜¯ï¼š<span class="math display">\[\frac{\partial(exp(\phi^{\land})p)}{\partial \phi}\]</span> æ ¹æ®å¯¼æ•°çš„å®šä¹‰è®¡ç®—ï¼š <img src="https://img-blog.csdnimg.cn/20210508033658749.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç¬¬äºŒè¡Œçš„è¿‘ä¼¼ä¸ºBCHè¿‘ä¼¼ï¼Œç¬¬ä¸‰è¡Œä¸ºåœ¨0é™„è¿‘çš„æ³°å‹’å±•å¼€èˆå»é«˜é˜¶é¡¹åçš„è¿‘ä¼¼ï¼Œç¬¬å››åˆ°ç¬¬äº”è¡Œå°†åå¯¹ç§°ç¬¦å·çœ‹ä½œå‰ç§¯ï¼Œäº¤æ¢åå˜å·ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹å¼å­ï¼š <img src="https://img-blog.csdnimg.cn/20210508033958370.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™é‡Œç®€å•è§£é‡Šä¸‹åå¯¹ç§°çŸ©é˜µå’Œå‰ç§¯çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢ç¬¬å››åˆ°ç¬¬äº”è¡Œçš„å˜æ¢ï¼š <span class="math display">\[a=[a_{1},a_{2},a_{3}]\]</span> <span class="math display">\[b=[b_{1},b_{2},b_{3}]\]</span> <span class="math display">\[a\times b=\begin{bmatrix} i&amp; j&amp; k\\ a_{1}&amp;a_{2}&amp; a_{3}\\ b_{1}&amp; b_{2}&amp; b_{3}\end{bmatrix} \\= \begin{bmatrix} a_{2}b_{3}-a_{3}b_{2} \\ -(a_{1}b_{3}-a_{3}b_{1}) \\ a_{1}b_{2}-a_{2}b_{1}\end{bmatrix} \\ =\begin{bmatrix} 0 &amp; -a_{3} &amp; a_{2} \\ a_{3} &amp; 0 &amp; -a_{1} \\ -a_{2} &amp; a_{1} &amp; 0 \end{bmatrix} \begin{bmatrix} b_{1} \\ b_{2} \\ b_{3} \end{bmatrix}\]</span> æ‰€ä»¥ï¼Œ<span class="math inline">\(a\)</span> ä¸<span class="math inline">\(b\)</span>çš„å‰ä¹˜å³æ˜¯ç­‰äº<span class="math inline">\(a\)</span>çš„åå¯¹ç§°çŸ©é˜µä¹˜ä»¥<span class="math inline">\(b\)</span>ï¼ŒåŒæ—¶å‰ä¹˜æ»¡è¶³å¦‚ä¸‹åäº¤æ¢å¾‹ï¼š<span class="math display">\[a\times b=-b\times a\]</span> å›åˆ°åŸé¢˜ï¼Œåœ¨ä¸Šå›¾ä¸­ï¼Œç”±äºç»“æœå¼å­å«æœ‰å½¢å¼æ¯”è¾ƒå¤æ‚çš„<span class="math inline">\(J_{l}\)</span>ï¼Œä¸å®¹æ˜“è®¡ç®—ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¸é‡‡ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼Œè€Œç”¨ä¸‹é¢çš„æ‰°åŠ¨æ¨¡å‹çš„æ–¹æ³•ã€‚</p>
<h3 id="æ‰°åŠ¨æ¨¡å‹å·¦ä¹˜">æ‰°åŠ¨æ¨¡å‹ï¼ˆå·¦ä¹˜ï¼‰</h3>
<p>æ‰°åŠ¨æ¨¡å‹çš„æ±‚å¯¼æ–¹æ³•æ˜¯å¯¹<span class="math inline">\(R\)</span>è¿›è¡Œä¸€æ¬¡æ‰°åŠ¨<span class="math inline">\(\triangle R\)</span>ï¼Œè¿™ä¸ªå¾®å°æ‰°åŠ¨å¯ä»¥å·¦ä¹˜ï¼Œä¹Ÿå¯ä»¥å³ä¹˜ï¼Œæœ€åç»“æœä¼šæœ‰ä¸€ç‚¹å¾®å°å·®å¼‚ï¼Œè¿™é‡Œä»¥å·¦ä¹˜ä¸ºä¾‹ã€‚è®¾å·¦æ‰°åŠ¨<span class="math inline">\(\triangle R\)</span>å¯¹åº”çš„æä»£æ•°ä¸º<span class="math inline">\(\varphi\)</span>ï¼Œç„¶åå¯¹<span class="math inline">\(\varphi\)</span>è¿›è¡Œæ±‚å¯¼ï¼š <img src="https://img-blog.csdnimg.cn/20210508041300661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç›¸æ¯”ç›´æ¥å¯¹æä»£æ•°æ±‚å¯¼ï¼Œè¿™é‡Œçœå»äº†ä¸€ä¸ªé›…å¯æ¯”<span class="math inline">\(J_{l}\)</span>çš„è®¡ç®—ï¼Œæ›´ä¸ºç®€ä¾¿ã€‚</p>
<h2 id="se3ä¸Šçš„æä»£æ•°æ±‚å¯¼">SE(3)ä¸Šçš„æä»£æ•°æ±‚å¯¼</h2>
<p>å‡è®¾ç©ºé—´ä¸€ç‚¹<span class="math inline">\(p\)</span>ç»è¿‡ä¸€æ¬¡å˜æ¢<span class="math inline">\(T\)</span>(å¯¹åº”çš„æä»£æ•°ä¸º<span class="math inline">\(\xi\)</span>)ï¼Œå¾—åˆ°<span class="math inline">\(Tp\)</span>(è¿™é‡Œçš„<span class="math inline">\(p\)</span>æ³¨æ„ç”¨é½æ¬¡åæ ‡)ã€‚ç°ç»™<span class="math inline">\(T\)</span>å·¦ä¹˜ä¸€ä¸ªæ‰°åŠ¨<span class="math inline">\(\triangle T=exp(\delta \xi^{\land})\)</span>ï¼Œè®¾æ‰°åŠ¨é¡¹çš„æä»£æ•°ä¸º<span class="math inline">\(\delta \xi=[\delta \rho,\delta \phi]^{T}\)</span>ï¼Œå¯å¾—ï¼š <img src="https://img-blog.csdnimg.cn/20210508042117565.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210508042125983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æŠŠæœ€åçš„ç»“æœå®šä¹‰æˆä¸€ä¸ªç®—ç¬¦<span class="math inline">\(\odot\)</span>ï¼Œå®ƒæŠŠä¸€ä¸ªé½æ¬¡ç©ºé—´åæ ‡å˜æ¢æˆä¸€ä¸ª<span class="math inline">\(4\times 6\)</span>çš„çŸ©é˜µã€‚<br />
æœ€åè¿™é‡Œç®€å•è§£é‡Šä¸‹çŸ©é˜µæ±‚å¯¼çš„é¡ºåºï¼Œè®¾<span class="math inline">\(a,b,x,y\)</span>éƒ½æ˜¯åˆ—å‘é‡ï¼Œå…¶æ±‚å¯¼é¡ºåºä¸ºï¼š <img src="https://img-blog.csdnimg.cn/2021050804251624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <strong><em>æ³¨ï¼šæœ¬æ–‡ä¸»è¦å‚è€ƒè‡ªã€Šè§†è§‰SLAMåå››è®²ã€‹</em></strong></p>
]]></content>
      <categories>
        <category>è§†è§‰SLAMç›¸å…³</category>
      </categories>
  </entry>
  <entry>
    <title>æç¾¤å’Œæä»£æ•°</title>
    <url>/posts/4.html</url>
    <content><![CDATA[<h2 id="ç¾¤çš„å®šä¹‰">1. ç¾¤çš„å®šä¹‰</h2>
<p>ç¾¤(Group)æ˜¯<strong>ä¸€ç§é›†åˆ</strong>åŠ ä¸Š<strong>ä¸€ç§è¿ç®—</strong>çš„ä»£æ•°ç»“æ„ï¼Œä»¥Aè¡¨ç¤ºé›†åˆï¼Œâ€œÂ·â€è¡¨ç¤ºè¿ç®—ï¼Œåˆ™ç¾¤ä¸€èˆ¬å†™ä½œ G(A, Â·)ã€‚ç¾¤è¦æ±‚æ»¡è¶³ä»¥ä¸‹å››ä¸ªæ¡ä»¶ï¼š <span id="more"></span> <img src="https://img-blog.csdnimg.cn/20210429051226112.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä¸¾ä¸ªä¾‹å­ï¼Œæ—‹è½¬çŸ©é˜µå’Œä¹˜æ³•å¯ä»¥æ„æˆæ—‹è½¬çŸ©é˜µç¾¤ï¼Œå› ä¸ºå…¶æ»¡è¶³ï¼š</p>
<pre><code>1). æ—‹è½¬çŸ©é˜µç›¸ä¹˜åä»æ˜¯æ—‹è½¬çŸ©é˜µï¼›
2). çŸ©é˜µä¹˜æ³•æ»¡è¶³ç»“åˆå¾‹ï¼›
3). å¹ºå…ƒä¸ºå•ä½çŸ©é˜µï¼Œä¹Ÿå±æ—‹è½¬çŸ©é˜µï¼›
4). æ—‹è½¬çŸ©é˜µçš„é€†ä¹Ÿä¸ºæ—‹è½¬çŸ©é˜µï¼Œä¸”ç›¸ä¹˜ä¸ºå•ä½çŸ©é˜µã€‚</code></pre>
<p>å¸¸è§çš„ç¾¤æœ‰ï¼š <img src="https://img-blog.csdnimg.cn/20210501063426658.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="æç¾¤">2. æç¾¤</h2>
<p>æç¾¤æ˜¯æŒ‡æ‹¥æœ‰(è¿ç»­)å…‰æ»‘æ€§è´¨çš„ç¾¤ï¼Œæ¯”å¦‚ä¸Šé¢æåˆ°çš„æ—‹è½¬çŸ©é˜µç¾¤ï¼Œå› å…¶èƒ½åœ¨ç©ºé—´ä¸­è¿ç»­æ—‹è½¬ï¼Œå˜æ¢çŸ©é˜µç¾¤ä¹Ÿæ˜¯æç¾¤ï¼ˆå°±æ˜¯åœ¨æ—‹è½¬è¿‡ç¨‹ä¸­åŠ ä¸Šå¹³ç§»ï¼‰ã€‚</p>
<h2 id="æä»£æ•°çš„å¼•å…¥">3. æä»£æ•°çš„å¼•å…¥</h2>
<h3 id="ç›´è§‚çš„å¯¼å‡º">ç›´è§‚çš„å¯¼å‡º</h3>
<p>åœ¨è§†è§‰SLAMä¸­ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯ä¸æ–­è®¡ç®—ç›¸æœºçš„ä½å§¿å’Œæ„å»ºåœ°å›¾ï¼ˆå…¶ä¸­çš„ç›¸æœºä½å§¿è¡¨ç°åœ¨å…¶å˜æ¢çŸ©é˜µTï¼‰ï¼Œä½†ç”±äºå¹²æ‰°çš„å­˜åœ¨ï¼Œæˆ‘ä»¬æ— æ³•å‡†ç¡®è·å¾—æ‰€éœ€è¦çš„ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è½¬è€Œæ±‚å…¶æœ€å°è¯¯å·®ã€‚<br />
ç°å‡è®¾æˆ‘ä»¬æœ‰Nä¸ªä¸‰ç»´ç‚¹på’Œå¯¹åº”çš„è§‚æµ‹å€¼zï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯å¯»æ‰¾ä¸€ä¸ªæœ€ä½³çš„ä½å§¿Tï¼Œä½¿å¾—æ•´ä½“è¯¯å·®æœ€å°åŒ–ï¼Œä¹Ÿå°±æ˜¯æ±‚ï¼š <img src="https://img-blog.csdnimg.cn/20210501044418122.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¦æ±‚è§£ä¸Šé¢çš„æ–¹ç¨‹ï¼Œå³æ˜¯è¦æ±‚ç›®æ ‡å‡½æ•°Jå¯¹Tçš„å¯¼æ•°ï¼Œä½†ç”±äºTæ‰€åœ¨çš„å˜æ¢çŸ©é˜µç¾¤ï¼ˆä¸‹é¢ç”¨SO(3)ç©ºé—´è¡¨ç¤ºï¼‰å¯¹åŠ æ³•ä¸å°é—­ï¼Œæ— æ³•ç›´æ¥æ±‚å–ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªæ–°çš„é‡ï¼Œé€šè¿‡å¯¹è¯¥é‡çš„è®¡ç®—é—´æ¥è·å¾—å¯¹å˜æ¢çŸ©é˜µTçš„æ±‚å¯¼ï¼Œè¿™ä¸ªå¼•å…¥çš„é‡å°±æ˜¯æä»£æ•°ã€‚</p>
<h3 id="æ•°å­¦å±‚é¢çš„å¯¼å‡º">æ•°å­¦å±‚é¢çš„å¯¼å‡º</h3>
<p><strong>ï¼ˆä¹‹åçš„éƒ¨åˆ†ã€Šè§†è§‰SLAM åå››è®²ã€‹é‡Œå†™å¾—å·²ç»å¾ˆç²¾ç‚¼å¾ˆæ¸…æ¥šäº†ï¼Œè¿™é‡Œå¤§æ¦‚é‡è¿°ä¸€éä»¥åŠ æ·±å°è±¡ï¼Œä¹Ÿæ–¹ä¾¿ä»¥åçš„æŸ¥è¯¢ï¼‰</strong></p>
<p>å…ˆç»™ä¸€ä¸ªç»“è®ºï¼š<strong>æä»£æ•°å¯¹åº”æç¾¤çš„æ­£åˆ‡ç©ºé—´ï¼Œæè¿°äº†æç¾¤çš„å±€éƒ¨å¯¼æ•°ã€‚</strong></p>
<p>è¿™é‡Œç”¨æ—‹è½¬çŸ©é˜µç¾¤SO(3)ä¸ºä¾‹ï¼š<br />
æˆ‘ä»¬çŸ¥é“æ—‹è½¬çŸ©é˜µæ»¡è¶³ä»¥ä¸‹å…³ç³»ï¼š<span class="math display">\[ RR^{T}=I\]</span> ç„¶åå¼•å…¥æ—¶é—´å˜é‡<span class="math inline">\(t\)</span>å˜ä¸ºæ—¶é—´çš„å‡½æ•°<span class="math inline">\(R(t)\)</span>ï¼Œå³æ˜¯æœ‰ï¼š<span class="math display">\[ R(t)R(t)^{T}=I\]</span> å¯¹ä¸¤è¾¹æ±‚å¯¼å¾—åˆ°ï¼š<span class="math display">\[\dot{R}(t)R(t)^{T}+\dot{R}(t)^{T}R(t)=0\]</span> æ•´ç†å¾—ï¼š<span class="math display">\[\dot{R}(t)R(t)^{T}=-(\dot{R}(t)R(t)^{T})^{T}\]</span> å¯è§ï¼Œ<span class="math inline">\(\dot{R}(t)R(t)^{T}\)</span>æ˜¯ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µã€‚ç”¨ç¬¦å·<span class="math inline">\(^{\land}\)</span>è¡¨ç¤ºåå¯¹ç§°çŸ©é˜µï¼Œè®¾ï¼š<span class="math display">\[ a=\begin{bmatrix} a_{1} \\ a_{2} \\ a_{3} \end{bmatrix}\]</span> åˆ™<span class="math inline">\(a^{\land}\)</span>ä¸ºï¼š<span class="math display">\[ a^{\land}=A=\begin{bmatrix} 0 &amp; -a_{3} &amp; a_{2} \\ a_{3} &amp; 0 &amp; -a_{1} \\ -a_{2} &amp; a_{1} &amp; 0 \end{bmatrix}\]</span> åŒç†ï¼š<span class="math display">\[A^{\vee}=a\]</span> æˆ‘ä»¬è®¾ä¸€ä¸ªä¸‰ç»´å‘é‡<span class="math inline">\(\phi(t)\in\Re^{3}\)</span>ä¸åå¯¹ç§°çŸ©é˜µ<span class="math inline">\(\dot{R}(t)R(t)^{T}\)</span>å¯¹åº”ï¼Œå³ï¼š<span class="math display">\[\dot{R}(t)R(t)^{T}=\phi(t)^{\land}\]</span> ç­‰å¼ä¸¤è¾¹å³ä¹˜<span class="math inline">\(R(t)\)</span>ï¼Œç”±äº<span class="math inline">\(R\)</span>ä¸ºæ­£äº¤é˜µï¼Œå¾—ï¼š<span class="math display">\[\dot{R}(t)=\phi(t)^{\land}R(t)=\begin{bmatrix}0 &amp; -\phi_{3} &amp; \phi_{2}\\\phi_{3}&amp;0&amp;-\phi_{1}\\-\phi_{2}&amp;\phi_{1}&amp;0\end{bmatrix}R(t)\]</span> ç”±æ­¤å¯è§ï¼Œæ¯å¯¹<span class="math inline">\(R\)</span>æ±‚ä¸€æ¬¡å¯¼æ•°ï¼Œåªéœ€å·¦ä¹˜ä¸€ä¸ª<span class="math inline">\(\phi^{\land}(t)\)</span>å³å¯ã€‚<br />
å½“<span class="math inline">\(t=0\)</span>æ—¶ï¼Œè®¾æ­¤æ—¶<span class="math inline">\(R(0)=I\)</span>ï¼ŒæŠŠ<span class="math inline">\(R(t)\)</span>åœ¨<span class="math inline">\(t=0\)</span>é™„è¿‘è¿›è¡Œä¸€é˜¶æ³°å‹’å±•å¼€å¾—ï¼š<span class="math display">\[R(t)\approx R(t_{0})+\dot{R}(t_{0})(t-t_{0})=I+\phi(t_{0})^{\land}(t)\]</span> å¯è§ï¼Œ<span class="math inline">\(\phi\)</span>åæ˜ äº†<span class="math inline">\(R\)</span>çš„å¯¼æ•°æ€§è´¨ï¼Œæ‰€ä»¥ç§°å®ƒä¸ºSO(3)åŸç‚¹é™„è¿‘çš„æ­£åˆ‡ç©ºé—´ã€‚åŒæ—¶åœ¨<span class="math inline">\(t_{0}\)</span>é™„è¿‘è®¾<span class="math inline">\(\phi\)</span>ä¿æŒä¸ºå¸¸æ•°<span class="math inline">\(\phi(t_{0})=\phi_{0}\)</span>ï¼Œæ•…æœ‰ï¼š<span class="math display">\[\dot{R}(t)=\phi(t_{0})^{\land}R(t)=\phi_{0}^{\land}R(t)\]</span> è¿™æ˜¯ä¸€ä¸ªå…³äº<span class="math inline">\(R\)</span>çš„å¾®åˆ†æ–¹ç¨‹ï¼Œä¸”åˆå§‹å€¼<span class="math inline">\(R(0)=I\)</span>ï¼Œè§£å¾—ï¼š<span class="math display">\[R(t)=exp(\phi_{0}^{\land}t)\]</span> è¡¨æ˜ï¼Œæ—‹è½¬çŸ©é˜µå¯ç”±<span class="math inline">\(exp(\phi_{0}^{\land}t)\)</span>è®¡ç®—å‡ºæ¥ï¼Œç»™å®šæŸæ—¶åˆ»çš„<span class="math inline">\(R\)</span>æˆ‘ä»¬å°±èƒ½æ±‚å¾—ä¸€ä¸ª<span class="math inline">\(\phi\)</span>ï¼Œå®ƒæè¿°<span class="math inline">\(R\)</span>åœ¨å±€éƒ¨çš„å¯¼æ•°å…³ç³»ï¼Œ<strong>è¿™ä¸ª<span class="math inline">\(\phi\)</span>æ­£æ˜¯å¯¹åº”åˆ°SO(3)ä¸Šçš„æä»£æ•°so(3)</strong>ã€‚</p>
<h2 id="æä»£æ•°çš„å®šä¹‰">4. æä»£æ•°çš„å®šä¹‰</h2>
<p>æ¯ä¸ªæç¾¤éƒ½æœ‰å…¶å¯¹åº”çš„æä»£æ•°ï¼Œä¸€èˆ¬æä»£æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210501060351439.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> äºŒå…ƒè¿ç®—[,]ç§°ä¸ºææ‹¬å·ï¼Œè¡¨è¾¾ä¸¤å…ƒç´ çš„å·®å¼‚ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸‰ç»´å‘é‡<span class="math inline">\(\Re^{3}\)</span>çš„å‰ç§¯å°±æ˜¯ä¸€ç§ææ‹¬å·ï¼Œå› æ­¤<span class="math inline">\(g=(\Re^{3},\Re,\times)\)</span>æ„æˆäº†ä¸€ä¸ªæä»£æ•°ã€‚</p>
<h2 id="æä»£æ•°so3">5. æä»£æ•°so(3)</h2>
<p>ç”±ä¸Šé¢çš„ç»“æœå¯å¾—ï¼Œä¸‰ç»´å‘é‡<span class="math inline">\(\phi\)</span>ä¸ºæç¾¤SO(3)æ‰€å¯¹åº”çš„ï¼Œå®šä¹‰åœ¨<span class="math inline">\(\Re^{3}\)</span>ä¸Šçš„æä»£æ•°ï¼Œæ¯ä¸ª<span class="math inline">\(\phi\)</span>å¯¹åº”ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µï¼š<span class="math display">\[\Phi=\phi(t)^{\land}R(t)=\begin{bmatrix}0 &amp; -\phi_{3} &amp; \phi_{2}\\\phi_{3}&amp;0&amp;-\phi_{1}\\-\phi_{2}&amp;\phi_{1}&amp;0\end{bmatrix}\in \Re^{3\times3}\]</span> ä¸¤ä¸ªå‘é‡<span class="math inline">\(\phi_{1},\phi_{2}\)</span>çš„ææ‹¬å·ä¸ºï¼š<span class="math display">\[[\phi_{1},\phi_{2}]=(\Phi_{1}\Phi_{2}-\Phi_{2}\Phi_{1})^{\vee}\]</span> å®ƒä¸SO(3)çš„å…³ç³»ç”±æŒ‡æ•°æ˜ å°„æŒ‡å®šï¼š<span class="math display">\[R=exp(\phi^{\land})\]</span></p>
<h2 id="æä»£æ•°se3">6. æä»£æ•°se(3)</h2>
<p>SE(3)å¯¹åº”çš„æä»£æ•°se(3)ä¸so(3)ç±»ä¼¼ï¼Œä½†å…¶å®šä¹‰åœ¨<span class="math inline">\(\Re^{6}\)</span>ç©ºé—´ä¸­ï¼Œå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210501232727577.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æˆ‘ä»¬æŠŠæ¯ä¸ªse(3)çš„å…ƒç´ è®°ä½œ<span class="math inline">\(\xi\)</span>ï¼Œè¡¨ç¤ºä¸€ä¸ªå…­ç»´å‘é‡ï¼Œå‰ä¸‰ç»´è¡¨å¹³ç§»ï¼Œä½†ä¸åŒäºå˜æ¢çŸ©é˜µçš„å¹³ç§»ï¼Œè®°ä½œ<span class="math inline">\(\rho\)</span>ï¼Œåä¸‰ç»´è¡¨æ—‹è½¬ï¼Œè®°ä½œ<span class="math inline">\(\phi\)</span>ï¼Œå…¶å®å°±æ˜¯ä¸Šé¢æåˆ°çš„so(3)å…ƒç´ ã€‚se(3)è¡¨ç¤ºå¦‚ä¸‹ï¼ˆ<strong>æ³¨ï¼šè¿™é‡Œçš„<span class="math inline">\(\land\)</span>ä¸å†è¡¨ç¤ºåå¯¹ç§°çŸ©é˜µï¼Œè€Œæ˜¯è¡¨ç¤ºå…­ç»´å‘é‡å‘å››ç»´çŸ©é˜µçš„è½¬æ¢</strong>ï¼‰ï¼š <span class="math display">\[\xi^{\land}=\begin{bmatrix}\phi^{\land}&amp;\rho\\0^{T}&amp;0\end{bmatrix}\]</span> (æ³¨ï¼š<span class="math inline">\(\land\)</span>å’Œ<span class="math inline">\(\vee\)</span>è¿™é‡Œè¡¨ç¤ºâ€œä»å‘é‡åˆ°çŸ©é˜µâ€å’Œâ€œä»çŸ©é˜µåˆ°å‘é‡â€ï¼Œse(3)å¯ç†è§£æˆï¼šç”±å¹³ç§»åŠ ä¸Šä¸€ä¸ªso(3)å…ƒç´ æ„æˆçš„å‘é‡)<br />
å…¶ææ‹¬å·ä¸ºï¼š<span class="math display">\[[\xi_{1},\xi_{2}]=(\xi^{\land}_{1}\xi^{\land}_{2}-\xi^{\land}_{2}\xi^{\land}_{1})^{\vee}\]</span></p>
<h2 id="æŒ‡æ•°ä¸å¯¹æ•°æ˜ å°„">7. æŒ‡æ•°ä¸å¯¹æ•°æ˜ å°„</h2>
<p>çŸ©é˜µçš„æŒ‡æ•°å¦‚<span class="math inline">\(exp(\phi^{\land})\)</span>åœ¨æç¾¤æä»£æ•°ä¸­ç§°ä¸ºæŒ‡æ•°æ˜ å°„ã€‚</p>
<h3 id="å…³äºso3çš„æ˜ å°„">å…³äºso(3)çš„æ˜ å°„</h3>
<p>é‚£ä¹ˆå¦‚ä½•è®¡ç®—<span class="math inline">\(exp(\phi^{\land})\)</span>å‘¢ï¼Ÿé¦–å…ˆï¼Œä»»ä½•çŸ©é˜µ<span class="math inline">\(A\)</span>çš„æŒ‡æ•°éƒ½å¯ä»¥è¡¨ç¤ºæˆä¸€ä¸ªæ³°å‹’å±•å¼€ï¼Œä½†åªæœ‰æ”¶æ•›çš„æƒ…å†µä¸‹æ‰ä¼šæœ‰ç»“æœï¼Œç»“æœå¦‚ä¸‹ï¼š<span class="math display">\[exp(A)=\sum_{n=0}^{\infty}\frac{1}{n!}A^{n}\]</span> å³æ˜¯å¯¹so(3)çš„å…ƒç´ æœ‰ï¼š<span class="math display">\[exp(\phi^{\land})=\sum_{n=0}^{\infty}\frac{1}{n!}(\phi^{\land})^{n}\]</span> ä½†è¦è®¡ç®—è¿™ä¸ªå¤ªå¤æ‚ï¼Œå› ä¸ºæœ‰æ— ç©·æ¬¡å¹‚ã€‚æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ç”¨ä¸‹é¢çš„æ–¹æ³•ï¼š<span class="math inline">\(\phi\)</span>æ˜¯ä¸€ä¸ªä¸‰ç»´å‘é‡ï¼Œæˆ‘ä»¬å®šä¹‰å…¶æ¨¡é•¿å’Œæ–¹å‘ï¼Œåˆ†åˆ«è®°ä¸º<span class="math inline">\(\theta\)</span>å’Œ<span class="math inline">\(a\)</span>ï¼Œå†™ä½œ<span class="math inline">\(\phi=\theta a\)</span>ï¼Œè¿™é‡Œ<span class="math inline">\(a\)</span>çš„æ¨¡é•¿ä¸º1.å³: <span class="math inline">\(||a||=1\)</span>: <span class="math display">\[a = [a_{1}, a_{2}, a_{3}]^{T}\]</span> <span class="math display">\[a^{2}_{1}+a^{2}_{2}+a^{2}_{3}=1\]</span> å¯¹äº<span class="math inline">\(a^{\land}\)</span>æœ‰ä»¥ä¸‹æ€§è´¨ï¼š <img src="https://img-blog.csdnimg.cn/20210502002859946.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å›¾é‡Œçš„ä¸¤ä¸ªå¼å­æä¾›äº†å¤„ç†é«˜é˜¶<span class="math inline">\(a^{\land}\)</span>çš„æ–¹æ³•ï¼Œæ‰€ä»¥å…¶æŒ‡æ•°æ˜ å°„å¯å†™æˆä¸€ä¸ªç¥å¥‡çš„å½¢å¼ï¼šï¼ˆ<em>æœ€å¥½è‡ªå·±å†™ä¸€é</em>ï¼‰ <img src="https://img-blog.csdnimg.cn/20210503231438538.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> <img src="https://img-blog.csdnimg.cn/20210503231603885.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™ä¸ªå¼å­ä¸ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼å¦‚å‡ºä¸€è¾™ã€‚</p>
<p>è¿™é‡Œç®€å•å›é¡¾ä¸‹ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼ï¼ˆæ—‹è½¬å‘é‡åˆ°æ—‹è½¬çŸ©é˜µçš„è½¬åŒ–ï¼‰ï¼š <span class="math display">\[R=cos\theta I+(1-cos\theta)nn^{T}+sin\theta n^{\land}\]</span> ä¸¤è¾¹å–è¿¹ï¼ˆå³æ˜¯æ±‚çŸ©é˜µå¯¹è§’çº¿å…ƒç´ ä¹‹å’Œï¼‰ï¼š<span class="math display">\[tr(R)=cos\theta tr(I)+(1-cos\theta)tr(nn^{T})+sin\theta tr(n^{\land})\\=3cos\theta+(1-cos\theta)=1+2cos\theta\]</span> æ‰€ä»¥è§’åº¦ä¸ºï¼š <span class="math display">\[\theta=arc cos\frac{tr(R)-1}{2} \]</span> è¿™è¡¨æ˜ï¼Œso(3)å®é™…å°±æ˜¯ç”±æ—‹è½¬å‘é‡ç»„æˆçš„ç©ºé—´ï¼Œè€ŒæŒ‡æ•°æ˜ å°„å³æ˜¯ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼ã€‚<br />
åä¹‹ï¼Œé€šè¿‡å¯¹æ•°æ˜ å°„ä¹Ÿå¯ä»¥å°†SO(3)çš„å…ƒç´ å¯¹åº”åˆ°so(3)ä¸­ï¼š <img src="https://img-blog.csdnimg.cn/202105032347198.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å¯¹è¿™ä¸ªå¼å­çš„æ±‚è§£ä¹Ÿæ²¡å¿…è¦ç”¨æ³°å‹’å±•å¼€ï¼Œè€Œæ˜¯å¯ä»¥é€šè¿‡è¿¹çš„æ€§è´¨åˆ†åˆ«æ±‚è§£è½¬è§’å’Œè½¬è½´ï¼ˆä¸Šé¢å›é¡¾ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼çš„æ—¶å€™å·²ç»ä¸€èµ·åˆ—å‡ºæ¥äº†ï¼‰ã€‚<br />
æœ€åéœ€è¦æä¸€ä¸‹ï¼šæ¯ä¸ªSO(3)ä¸­çš„å…ƒç´ éƒ½å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªso(3)å…ƒç´ ä¸ä¹‹å¯¹åº”ï¼Œä½†ä¸€ä¸ªso(3)å…ƒç´ å´å¯èƒ½æœ‰å¤šä¸ªSO(3)ä¸­çš„å…ƒç´ ï¼Œç›´è§‚ä¸€ç‚¹ç†è§£çš„è¯ï¼šæ¯”å¦‚æ—‹è½¬360åº¦ä¼šå¯¹åº”ä¸€ä¸ªå‘¨æœŸã€‚</p>
<h3 id="å…³äºse3çš„æ˜ å°„å¾…è¡¥å……">å…³äºse(3)çš„æ˜ å°„ï¼ˆå¾…è¡¥å……ã€‚ã€‚ã€‚ï¼‰</h3>
<p>ä¸so(3)çš„è¿‡ç¨‹ç±»ä¼¼ï¼Œæ‰€ä»¥è¿™é‡Œä¸»è¦ç»™ç»“è®ºï¼ˆ<strong>è¿™ä¸ªè¿‡ç¨‹æ²¡å…·ä½“ç®—ï¼Œä¹‹åè¡¥ä¸Šã€‚</strong>ï¼‰ã€‚<br />
se(3)çš„æŒ‡æ•°æ˜ å°„å½¢å¼å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20210504000629746.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> åŒæ ·ä»¤<span class="math inline">\(\phi=\theta a\)</span>ï¼Œ<span class="math inline">\(a\)</span>ä¸ºå•ä½å‘é‡ï¼Œåˆ™ï¼š <img src="https://img-blog.csdnimg.cn/20210504001031241.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä»ç»“æœæ¥çœ‹ï¼Œ<span class="math inline">\(\xi\)</span>çš„æŒ‡æ•°æ˜ å°„å·¦ä¸Šè§’çš„<span class="math inline">\(R\)</span>å°±æ˜¯ä¸Šé¢çš„SO(3)ï¼Œä¸se(3)ä¸­çš„æ—‹è½¬éƒ¨åˆ†<span class="math inline">\(\phi\)</span>å¯¹åº”ï¼Œè€Œå³ä¸Šè§’çš„<span class="math inline">\(J\)</span>ç”±ä¸Šé¢å›¾é‡Œçš„æ¨å¯¼ç»™å‡ºï¼Œå³ï¼š <img src="https://img-blog.csdnimg.cn/20210504001730154.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h3 id="æ˜ å°„è¡¨">æ˜ å°„è¡¨*</h3>
<p>è¿™é‡Œç»™å‡ºSO(3), SE(3), so(3), se(3)çš„å¯¹åº”æ˜ å°„è¡¨ <img src="https://img-blog.csdnimg.cn/20210507171027871.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p><strong><em>æœ¬æ–‡ä¸»è¦å‚è€ƒã€Šè§†è§‰SLAMåå››è®²ã€‹</em></strong></p>
]]></content>
      <categories>
        <category>è§†è§‰SLAMç›¸å…³</category>
      </categories>
  </entry>
  <entry>
    <title>å­¦ä¹ è®°å½•_Computer Vision1_ä½œä¸š1_(2) Projective Transformation</title>
    <url>/posts/1.html</url>
    <content><![CDATA[<h1 id="projective-transformation">ï¼ˆ2ï¼‰Projective Transformation</h1>
<span id="more"></span>
<p>ä½œä¸šè¦æ±‚ï¼š <img src="https://img-blog.csdnimg.cn/2020121818034961.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç®€å•æ€»ç»“ä¸€ä¸‹ï¼Œå°±æ˜¯è¯´ï¼šç»™ï¼’ï¼¤ç‚¹æ ¸å…¶ä»–ä¸€äº›ä¿¡æ¯é‡æ„å›ï¼“ï¼¤å›¾ã€‚ç„¶åå†å›æ„ï¼’ï¼¤å›¾ã€‚</p>
<h2 id="æ­¥éª¤1">æ­¥éª¤1ï¼š</h2>
<p>ç¬›å¡å°”åæ ‡ä¸è½¬é½æ¬¡åæ ‡çš„ç›¸äº’è½¬æ¢ï¼Œä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def cart2hom(points):</span><br><span class="line">  &quot;&quot;&quot; Transforms from cartesian to homogeneous coordinates.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    points: a np array of points in cartesian coordinates</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    points_hom: a np array of points in homogeneous coordinates</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">  one = np.ones((1,points.shape[1]))</span><br><span class="line">  points_hom = np.r_[points, one]       #Add 1 to the last line</span><br><span class="line"></span><br><span class="line">  return points_hom</span><br></pre></td></tr></table></figure> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def hom2cart(points):</span><br><span class="line">  &quot;&quot;&quot; Transforms from homogeneous to cartesian coordinates.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    points: a np array of points in homogenous coordinates</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    points_hom: a np array of points in cartesian coordinates</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">  points_cart = np.delete(points/points[-1], points.shape[0]-1, axis=0)    #Delete the last line</span><br><span class="line">  return points_cart</span><br></pre></td></tr></table></figure> è¿™é‡Œè¡¥å……ä¸€ç‚¹å…³äºé½æ¬¡åæ ‡çš„ä¸œè¥¿...<br />
ï¼ˆæœ¬æ¥æƒ³è‡ªå·±æ€»ç»“çš„ï¼Œä½†å¶ç„¶çœ‹åˆ°ä¸€ç¯‡å†™å¾—å®åœ¨å¥½ï¼Œå°±åœ¨è¿™é‡Œç»™ä¸ª<a href="https://blog.csdn.net/zhuiqiuzhuoyue583/article/details/95228010">é“¾æ¥</a>äº†ï¼‰<br />
ï¼ˆè¿™é‡Œç®€å•æ€»ç»“æ€»ç»“ä¸‹ï¼Œå½“ä½œå”¤é†’è®°å¿†ç‰ˆï¼šå¸¸è§çš„ç¬›å¡å°”åæ ‡æ²¡åŠæ³•è¡¨ç¤ºæ— ç©·è¿œï¼Œæ‰€ä»¥åœ¨nç»´ç¬›å¡å°”åæ ‡ä¸­æ·»åŠ ä¸€ç»´å˜æˆn+1ç»´ï¼Œä»¥äºŒç»´ä¸ºä¾‹ï¼ŒåŸæ¥çš„(X, Y)å˜æˆ(x,y,w)ï¼Œå…¶ä¸­ X=x/wï¼ŒY=y/wï¼Œå½“w=0æ—¶å³å¯è¡¨ç¤ºç¬›å¡å°”ä¸­å¾—æ— ç©·è¿œå¤„ã€‚å¼•è¿›é½æ¬¡åæ ‡å¯æŠŠåæ ‡çš„æ—‹è½¬å¹³ç§»æ”¾ç¼©ç­‰æ“ä½œç”¨ä¸€ä¸ªçŸ©é˜µè¡¨ç¤ºã€‚ï¼‰</p>
<h2 id="æ­¥éª¤2">æ­¥éª¤2ï¼š</h2>
<p>3Dåæ ‡çš„å¹³ç§»å˜æ¢ã€‚é½æ¬¡åæ ‡çš„å¹³ç§»å¯å¦‚ä¸‹è¡¨ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/20201219195822542.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> å·¦è¾¹çŸ©é˜µä¸ºå¹³ç§»åçš„é½æ¬¡åæ ‡ï¼Œvx, vy, vzä¸ºå¹³ç§»åˆ†é‡ã€‚<br />
ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def gettranslation(v):</span><br><span class="line">  &quot;&quot;&quot; Returns translation matrix T in homogeneous coordinates for translation by v.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    v: 3d translation vector</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    T: translation matrix in homogeneous coordinates</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  # [x,y,z] --&gt; [x,y,z,1]</span><br><span class="line">  T = np.array([[1,0,0,v[0]],[0,1,0,v[1]],[0,0,1,v[2]],[0,0,0,1]])</span><br><span class="line"></span><br><span class="line">  return T</span><br></pre></td></tr></table></figure></p>
<h2 id="æ­¥éª¤3">æ­¥éª¤3ï¼š</h2>
<p>è·å¾—x, y, z çš„æ—‹è½¬çŸ©é˜µï¼Œä¸‰ä¸ªè½´çš„æ—‹è½¬çŸ©é˜µéƒ½åœ¨ä»£ç çš„æ³¨é‡Šé‡Œç»™å‡ºäº†ï¼Œä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def getxrotation(d):</span><br><span class="line">  &quot;&quot;&quot; Returns rotation matrix Rx in homogeneous coordinates for a rotation of d degrees around the x axis.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    d: degrees of the rotation</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    Rx: rotation matrix</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  # R_x: [1      0      0   ]</span><br><span class="line">  #      [0   cos(d)  sin(d)]</span><br><span class="line">  #      [0  -sin(d)  cos(d)]</span><br><span class="line">  n_x = np.array([[0,0,0],[0,0,-1],[0,1,0]])</span><br><span class="line">  R_x = np.eye(3) + np.sin(d*np.pi/180)*n_x + (1 - np.cos(d*np.pi/180))*n_x.dot(n_x)</span><br><span class="line">  Rx = np.c_[R_x, [0,0,0]]</span><br><span class="line">  # matrix in homogeneous coordinates</span><br><span class="line">  Rx = np.r_[Rx, [[0,0,0,1]]]</span><br><span class="line">  return Rx</span><br></pre></td></tr></table></figure> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def getyrotation(d):</span><br><span class="line">  &quot;&quot;&quot; Returns rotation matrix Ry in homogeneous coordinates for a rotation of d degrees around the y axis.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    d: degrees of the rotation</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    Ry: rotation matrix</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  # R_y: [ cos(d)  0  sin(d)]</span><br><span class="line">  #      [   0     1     0  ]</span><br><span class="line">  #      [-sin(d)  0  cos(d)]</span><br><span class="line">  n_y = np.array([[0,0,1],[0,0,0],[-1,0,0]])</span><br><span class="line">  R_y = np.eye(3) + np.sin(d*np.pi/180)*n_y + (1 - np.cos(d*np.pi/180))*n_y.dot(n_y)</span><br><span class="line">  Ry = np.c_[R_y, [0,0,0]]</span><br><span class="line">  # matrix in homogeneous coordinates</span><br><span class="line">  Ry = np.r_[Ry, [[0,0,0,1]]]</span><br><span class="line">  return Ry</span><br></pre></td></tr></table></figure> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def getzrotation(d):</span><br><span class="line">  &quot;&quot;&quot; Returns rotation matrix Rz in homogeneous coordinates for a rotation of d degrees around the z axis.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    d: degrees of the rotation</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    Rz: rotation matrix</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  # R_z: [cos(d)  -sin(d)  0]</span><br><span class="line">  #      [sin(d)   cos(d)  0]</span><br><span class="line">  #      [  0       0      1]</span><br><span class="line">  n_z = np.array([[0,-1,0],[1,0,0],[0,0,0]])</span><br><span class="line">  R_z = np.eye(3) + np.sin(d*np.pi/180)*n_z + (1 - np.cos(d*np.pi/180))*n_z.dot(n_z)</span><br><span class="line">  Rz = np.c_[R_z, [0,0,0]]</span><br><span class="line">  # matrix in homogeneous coordinates</span><br><span class="line">  Rz = np.r_[Rz, [[0,0,0,1]]]</span><br><span class="line">  return Rz</span><br></pre></td></tr></table></figure> è¿™é‡Œå†ç®€å•è¯´ä¸€ä¸‹ç»•å…¶å®ƒè½´æ—‹è½¬çš„æƒ…å†µï¼š<br />
ç»•å…¶å®ƒè½´æ—‹è½¬çš„è¯å¯ä»¥ç”¨è½´è§’å…¬å¼ï¼ˆRodrigues' rotationï¼‰ï¼Œé€šè¿‡ç»™å®šæ—‹è½¬è½´å’Œè§’åº¦å¯è®¡ç®—å‡ºæ—‹è½¬åçš„å‘é‡ã€‚è¿™é‡Œä¾æ—§ç»™ä¸ª<a href="https://www.bilibili.com/video/BV1h7411c7zK?p=1">é“¾æ¥</a>ï¼ŒBç«™çš„ä¸€ä¸ªè§†é¢‘ã€‚</p>
<h2 id="æ­¥éª¤4">æ­¥éª¤4ï¼š</h2>
<p>ç„¶åä¸­å¿ƒæŠ•å½±åˆ°ï½˜ï½™å¹³é¢ä¸Šï¼Œä¸»ç‚¹ä¸º[8ï¼Œ10]ï¼Œç„¦è·ä¸º8ï¼Œåƒç´ ä¸ºæ­£æ–¹å½¢ã€‚ æˆ‘ä»¬æœ€ç»ˆè·å¾—äº†å›¾åƒå¹³é¢ä¸­çš„ï¼’Dç‚¹ã€‚<br />
ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def getcentralprojection(principal, focal):</span><br><span class="line">  &quot;&quot;&quot; Returns the (3 x 4) matrix L that projects homogeneous camera coordinates on homogeneous</span><br><span class="line">  image coordinates depending on the principal point and focal length.</span><br><span class="line">  </span><br><span class="line">  Args:</span><br><span class="line">    principal: the principal point, 2d vector</span><br><span class="line">    focal: focal length</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    L: central projection matrix</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  # central: [f_x  0  u_0  0]</span><br><span class="line">  #          [ 0  f_y v_0  0]</span><br><span class="line">  #          [ 0   0   1   0]</span><br><span class="line">  square_L = np.array([[focal,0,principal[0]],[0,focal,principal[1]],[0,0,1]])</span><br><span class="line">  I = np.eye(3)</span><br><span class="line">  I_0 = np.c_[I, [0,0,0]]   #[I|0]</span><br><span class="line">  L = square_L.dot(I_0)</span><br><span class="line">  return L</span><br></pre></td></tr></table></figure> ç®€å•è¯´æ˜ä¸‹ï¼š<br />
f_xå’Œf_yæ˜¯ç„¦è·ï¼Œåœ¨è¿™é‡Œéƒ½æ˜¯8ï¼Œu_0å’Œv_0æ˜¯ä¸­å¿ƒç‚¹åæ ‡ï¼Œä¸­å¿ƒç‚¹åæ ‡ä¸€èˆ¬æ˜¯å–å›¾åƒä¸­ç‚¹ï¼Œæ¯”å¦‚ï¼Œå¦‚æœå›¾åƒå®½å’Œé«˜åˆ†åˆ«æ˜¯Wå’ŒHçš„è¯ï¼Œä¸­å¿ƒç‚¹ä¸ºï¼ˆW/2ï¼ŒH/2ï¼‰.</p>
<h2 id="æ­¥éª¤5">æ­¥éª¤5ï¼š</h2>
<p>å°†ä¸Šé¢çš„å¹³ç§»ï¼Œæ—‹è½¬ï¼Œä¸­å¿ƒæŠ•å½±çŸ©é˜µå†™åœ¨ä¸€èµ·ï¼Œå¦‚ä¸‹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def getfullprojection(T, Rx, Ry, Rz, L):</span><br><span class="line">  &quot;&quot;&quot; Returns full projection matrix P and full extrinsic transformation matrix M.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    T: translation matrix</span><br><span class="line">    Rx: rotation matrix for rotation around the x-axis</span><br><span class="line">    Ry: rotation matrix for rotation around the y-axis</span><br><span class="line">    Rz: rotation matrix for rotation around the z-axis</span><br><span class="line">    L: central projection matrix</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    P: projection matrix</span><br><span class="line">    M: matrix that summarizes extrinsic transformations</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  # The order is: y-axis first, then x-axis, and finally z-axis</span><br><span class="line">  # R = R_xR_yR_z</span><br><span class="line">  # extrinsic transformations:</span><br><span class="line">  # M = [R T]</span><br><span class="line">  #     [0 1]</span><br><span class="line">  # matrix in homogeneous coordinates:</span><br><span class="line">  M = Rz.dot(Rx.dot(Ry.dot(T)))			  # [4,4]</span><br><span class="line">  # P = L.M</span><br><span class="line">  P = L.dot(M)            # [3,4]</span><br><span class="line">  return P, M</span><br></pre></td></tr></table></figure> <strong>è¿™é‡Œè¦æ³¨æ„è®¡ç®—çŸ©é˜µMçš„é¡ºåºï¼ï¼ï¼ï¼ï¼ï¼ï¼</strong> è¿™é‡Œè´´ä¸€å¼ å›¾æ–¹ä¾¿ç†è§£ï¼š <img src="https://img-blog.csdnimg.cn/20201223221703759.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> x<sup>I</sup> æ˜¯å›¾åƒåæ ‡ï¼Œx<sup>C</sup> æ˜¯æ‘„åƒæœºåæ ‡ï¼Œx<sup>W</sup>æ˜¯ä¸–ç•Œ3Dåæ ‡ï¼ŒKÂ·[I | 0]æ˜¯ä»£ç é‡Œçš„æŠ•å½±çŸ©é˜µLã€‚</p>
<h2 id="æ­¥éª¤6">æ­¥éª¤6ï¼š</h2>
<p>å€ŸåŠ©ä¸Šé¢å¾—å‡ºçš„è½¬æ¢çŸ©é˜µå°†ä¸–ç•Œï¼“Dåæ ‡è½¬åŒ–ä¸ºå›¾åƒï¼’Dåæ ‡ï¼Œä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def projectpoints(P, X):</span><br><span class="line">  &quot;&quot;&quot; Apply full projection matrix P to 3D points X in cartesian coordinates.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    P: projection matrix</span><br><span class="line">    X: 3d points in cartesian coordinates</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    x: 2d points in cartesian coordinates</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  X = cart2hom(X)</span><br><span class="line">  x = P.dot(X)        #[3,2904] &amp; [x,y,1]</span><br><span class="line">  x = hom2cart(x)     #[2,2904] &amp; [x,y]</span><br><span class="line">  return x</span><br></pre></td></tr></table></figure></p>
<h2 id="æ­¥éª¤7">æ­¥éª¤7ï¼š</h2>
<p>ä¸€äº›å¸¸è§„çš„åŠ è½½æ“ä½œã€‚<br />
åŠ è½½2Dç‚¹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">def loadpoints():</span><br><span class="line">  &quot;&quot;&quot; Load 2D points from obj2d.npy.</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    x: np array of points loaded from obj2d.npy</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  x = np.load(&#x27;data/obj2d.npy&#x27;)       #[2,2904]&amp;[x,y]</span><br><span class="line">  return x</span><br></pre></td></tr></table></figure> åŠ è½½zåæ ‡ç‚¹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def loadz():</span><br><span class="line">  &quot;&quot;&quot; Load z-coordinates from zs.npy.</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    z: np array containing the z-coordinates</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">  z = np.load(&#x27;data/zs.npy&#x27;)         #[1,2904]&amp;[z]</span><br><span class="line">  return z</span><br></pre></td></tr></table></figure></p>
<h2 id="æ­¥éª¤8">æ­¥éª¤8ï¼š</h2>
<p>é€šè¿‡æŠ•å½±çŸ©é˜µä»¥åŠzæ–¹å‘çš„åæ ‡ï¼Œå°†ä¸Šé¢çš„2Dç‚¹æ˜¾ç¤ºä¸º3Dç‚¹ï¼Œä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def invertprojection(L, P2d, z):</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  Invert just the projection L of cartesian image coordinates P2d with z-coordinates z.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    L: central projection matrix</span><br><span class="line">    P2d: 2d image coordinates of the projected points</span><br><span class="line">    z: z-components of the homogeneous image coordinates</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    P3d: 3d cartesian camera coordinates of the points</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  # square_L = np.delete(L, 3, axis=1)   #(3,3)</span><br><span class="line">  # L^-1</span><br><span class="line">  pinv_L = np.linalg.pinv(L)</span><br><span class="line">  # [x,y](2,2904) --&gt; [x,y,1](3,2904)</span><br><span class="line">  hom_point_xy = cart2hom(P2d)  </span><br><span class="line">  for i in range(P2d.shape[1]):</span><br><span class="line">    hom_point_xy[:,i] = hom_point_xy[:,i]*z[:,i]</span><br><span class="line">  hom_point_xy = pinv_L.dot(hom_point_xy) </span><br><span class="line"></span><br><span class="line">  # [x,y,z]</span><br><span class="line">  P3d = np.delete(hom_point_xy, 3, axis = 0)        </span><br><span class="line">  return P3d</span><br></pre></td></tr></table></figure> æ•ˆæœå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20201224033516517.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è€ŒåŸæ¥2Dç‚¹çš„å›¾åˆ™å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/2020122403354922.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="æ­¥éª¤9">æ­¥éª¤9ï¼š</h2>
<p>è·å¾—å¤–éƒ¨è½¬åŒ–åçš„3Dç‚¹çš„ç¬›å¡å°”åæ ‡ï¼Œä»¥ä¾¿ç”¨æ­¥éª¤6çš„ä»£ç è·å¾—3Dç‚¹å¯¹åº”çš„ï¼’Dç‚¹ï¼ˆæ­¥éª¤å†™å¾—æœ‰ç‚¹ä¹±ï¼Œä¸è¿‡ä¸æ”¹äº†ã€‚ã€‚ã€‚ã€‚ï¼‰ï¼Œä»£ç å¦‚ä¸‹ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def inverttransformation(M, P3d):</span><br><span class="line">  &quot;&quot;&quot; Invert just the model transformation in homogeneous coordinates</span><br><span class="line">  for the 3D points P3d in cartesian coordinates.</span><br><span class="line"></span><br><span class="line">  Args:</span><br><span class="line">    M: matrix summarizing the extrinsic transformations</span><br><span class="line">    P3d: 3d points in cartesian coordinates</span><br><span class="line"></span><br><span class="line">  Returns:</span><br><span class="line">    X: 3d points after the extrinsic transformations have been reverted</span><br><span class="line">  &quot;&quot;&quot;</span><br><span class="line">  hom_P3d = cart2hom(P3d)      #(4,2904)(x,y,z,1)</span><br><span class="line">  inv_M = np.linalg.inv(M)    #Inverse matrix of M</span><br><span class="line">  P3d = inv_M.dot(hom_P3d)                   </span><br><span class="line">  </span><br><span class="line">  return P3d       #(4,2904)</span><br></pre></td></tr></table></figure></p>
<h2 id="æ­¥éª¤10">æ­¥éª¤10ï¼š</h2>
<p>å¯¹ä»¥ä¸Šå‡½æ•°çš„å¼•ç”¨ï¼š <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def problem3():</span><br><span class="line">    &quot;&quot;&quot;Example code implementing the steps in Problem 3&quot;&quot;&quot;</span><br><span class="line">    t = np.array([-27.1, -2.9, -3.2])</span><br><span class="line">    principal_point = np.array([8, -10])</span><br><span class="line">    focal_length = 8</span><br><span class="line"></span><br><span class="line">    # model transformations</span><br><span class="line">    T = gettranslation(t)</span><br><span class="line">    Ry = getyrotation(135)</span><br><span class="line">    Rx = getxrotation(-30)</span><br><span class="line">    Rz = getzrotation(90)</span><br><span class="line">    print(T)</span><br><span class="line">    print(Ry)</span><br><span class="line">    print(Rx)</span><br><span class="line">    print(Rz)</span><br><span class="line"></span><br><span class="line">    K = getcentralprojection(principal_point, focal_length)</span><br><span class="line"></span><br><span class="line">    P,M = getfullprojection(T, Rx, Ry, Rz, K)</span><br><span class="line">    print(P)</span><br><span class="line">    print(M)</span><br><span class="line"></span><br><span class="line">    points = loadpoints()</span><br><span class="line">    #displaypoints2d(points)</span><br><span class="line"></span><br><span class="line">    z = loadz()</span><br><span class="line">    Xt = invertprojection(K, points, z)</span><br><span class="line"></span><br><span class="line">    Xh = inverttransformation(M, Xt)</span><br><span class="line"></span><br><span class="line">    worldpoints = hom2cart(Xh)</span><br><span class="line">    displaypoints3d(worldpoints)</span><br><span class="line"></span><br><span class="line">    points2 = projectpoints(P, worldpoints)</span><br><span class="line">    displaypoints2d(points2)</span><br><span class="line"></span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure></p>
<h1 id="æ€»ç»“">æ€»ç»“ï¼š</h1>
<p>æœ€å¤§æ”¶è·æ˜¯å¼„æ‡‚äº†é½æ¬¡åæ ‡ï¼Œç„¶åå°±æ˜¯ä¸€äº›æ‚ä¸ƒæ‚å…«çš„å˜æ¢çŸ©é˜µ</p>
<h1 id="å‰©ä¸‹å¾…å®Œå–„çš„">å‰©ä¸‹å¾…å®Œå–„çš„ï¼š</h1>
<ol type="1">
<li>å…³äºæ‘„åƒæœºçŸ©é˜µï¼ŒåŒ…æ‹¬é•œå¤´ç•¸å˜ï¼Œæœ¬ç§‘æ¯•è®¾çš„æ—¶å€™æœ‰æ¶‰åŠåˆ°ï¼Œä½†ç°åœ¨å¿˜å¾—å·®ä¸å¤šäº†ï¼Œçº ç»“ä¸‹æœ‰æ²¡æœ‰å¿…è¦å•ç‹¬æ€»ç»“ä¸€ç¯‡ã€‚ã€‚ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>å­¦ä¹ è®°å½•_Computer Vision1_ä½œä¸š1_(1) Bayer Interpolation</title>
    <url>/posts/2.html</url>
    <content><![CDATA[<p>è¿™æ¬¡ä½œä¸šéœ€è¦è®°å½•çš„æœ‰ä¸‰é“é¢˜ï¼ŒåŒ…æ‹¬ï¼š</p>
<blockquote>
<ol type="1">
<li>Bayer Interpolation<br />
</li>
<li>Projective Transformation<br />
</li>
<li>Image Filtering and Edge Detection</li>
</ol>
</blockquote>
<h1 id="bayer-interpolation">ï¼ˆ1ï¼‰Bayer Interpolation</h1>
<span id="more"></span>
<p>ä½œä¸šè¦æ±‚ï¼š <img src="https://img-blog.csdnimg.cn/20201214062515791.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ç®€å•æ¥è¯´ï¼Œå³æ˜¯ç»™å‡ºä¸€å¼ Bayerå›¾ç‰‡ï¼Œå°†å…¶è½¬åŒ–ä¸ºRGBå›¾ã€‚<br />
ä½œä¸šç»™å‡ºçš„å›¾ç‰‡å¦‚ä¸‹ï¼š<img src="https://img-blog.csdnimg.cn/20201214185058357.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p><strong>è¿™é‡Œå…ˆå¯¹Bayerå›¾è¿›è¡Œç®€è¦è¯´æ˜ã€‚</strong><br />
ä¸ä¸€èˆ¬RGBå›¾ä¸åŒï¼ŒBayerå›¾çš„åƒç´ åˆ†å¸ƒå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/20201214063319235.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<p>åœ¨Bayerå›¾ä¸­ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æ˜¯ç”±å•ä¸€é¢œè‰²æ‰€æ§åˆ¶ï¼Œè€Œä¸”ç»¿è‰²æ‰€å çš„æ¯”ä¾‹æ˜¯å…¶ä»–ä¸¤ç§é¢œè‰²çš„ä¸¤å€ï¼Œæ‰€ä»¥æ•´å¼ å›¾ç‰‡çœ‹èµ·æ¥ä¼šåç»¿ï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯é€šè¿‡æ’å€¼å°†æ¯ä¸ªåƒç´ ç‚¹çš„å…¶ä»–ä¸¤ç§é¢œè‰²ç®—å‡ºæ¥ã€‚</p>
<h2 id="æ­¥éª¤1">æ­¥éª¤1ï¼š</h2>
<p>å°†Bayeræ•°æ®åˆ†æˆRGBé€šé“ï¼Œä»¥ä¾¿æ¯ä¸ªé¢œè‰²é€šé“ä»…ä¿ç•™Bayeræ¨¡å¼ç»™å®šçš„ç›¸åº”å€¼ï¼Œè€Œç¼ºå¤±å€¼åˆ™ç”¨é›¶å¡«å……ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">separatechannels</span>(<span class="params">bayerdata</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Separate bayer data into RGB channels so that</span></span><br><span class="line"><span class="string">    each color channel retains only the respective</span></span><br><span class="line"><span class="string">    values given by the bayer pattern and missing values</span></span><br><span class="line"><span class="string">    are filled with zero</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        Numpy array containing bayer data (H,W)</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        red, green, and blue channel as numpy array (H,W)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    H, W = bayerdata.shape</span><br><span class="line">    r = np.zeros((H, W))</span><br><span class="line">    g = np.zeros((H, W))</span><br><span class="line">    b = np.zeros((H, W))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(H):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(W):</span><br><span class="line">            <span class="keyword">if</span>((i + j) % <span class="number">2</span> == <span class="number">0</span>):</span><br><span class="line">                g[i][j] = bayerdata[i][j]</span><br><span class="line">            <span class="keyword">elif</span>(i % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">and</span> (i + j) % <span class="number">2</span> != <span class="number">0</span>):</span><br><span class="line">                r[i][j] = bayerdata[i][j]</span><br><span class="line">            <span class="keyword">elif</span>(i % <span class="number">2</span> != <span class="number">0</span> <span class="keyword">and</span> (i + j) % <span class="number">2</span> != <span class="number">0</span>):</span><br><span class="line">                b[i][j] = bayerdata[i][j]</span><br><span class="line">    <span class="keyword">return</span> r, g, b</span><br></pre></td></tr></table></figure>
<h2 id="æ­¥éª¤2">æ­¥éª¤2ï¼š</h2>
<p>å°†å•ç‹¬çš„é€šé“ç»„åˆæˆå›¾åƒã€‚ <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assembleimage</span>(<span class="params">r, g, b</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Assemble separate channels into image</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        red, green, blue color channels as numpy array (H,W)</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        Image as numpy array (H,W,3)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    H, W = r.shape</span><br><span class="line">    imgData = np.zeros((H, W, <span class="number">3</span>))</span><br><span class="line">    imgData[:,:,<span class="number">0</span>] = r[:,:]</span><br><span class="line">    imgData[:,:,<span class="number">1</span>] = g[:,:]</span><br><span class="line">    imgData[:,:,<span class="number">2</span>] = b[:,:]</span><br><span class="line">    <span class="keyword">return</span> imgData</span><br></pre></td></tr></table></figure> ç»“æœå¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20201218023313111.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h2 id="æ­¥éª¤3">æ­¥éª¤3ï¼š</h2>
<p>é€šè¿‡ä½¿ç”¨åŒçº¿æ€§æ’å€¼å¯¹Bayeræ¨¡å¼ä¸­çš„ç¼ºå¤±å€¼è¿›è¡Œæ’å€¼ã€‚<br />
åŒçº¿æ€§æ’å€¼ï¼Œç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡é‚»è¿‘4ä¸ªç‚¹å¹³å‡å‡ºä¸­é—´ç‚¹çš„æ•°å€¼ã€‚<br />
å…¶å®ä¸»è¦å°±æ˜¯è®¡ç®—R,G,Bä¸‰é€šé“çš„å·ç§¯æ ¸ã€‚è¯´ä¹‹å‰å…ˆè§£é‡Šä¸€ä¸ªå‡½æ•°ï¼šscipy.ndimage.filters.convolveï¼Œï¼ˆpythonçš„å„ç§åº“é‡Œæœ‰éå¸¸å¤šç”¨äºå·ç§¯çš„å‡½æ•°ï¼Œæ”¹å¤©åšä¸ªå¯¹æ¯”æ€»ç»“ï¼‰ã€‚</p>
<p><strong>scipy.ndimage.filters.convolveï¼š</strong><br />
(è¿™é‡Œç»™ä¸ª <a href="https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.ndimage.filters.convolve.html/">é“¾æ¥</a>ï¼Œè¯´å¾—å¾ˆè¯¦ç»†äº†å·²ç»)<br />
<em>scipy.ndimage.filters.convolve(input, weights, output=None, mode='reflect', cval=0.0, origin=0)</em></p>
<pre><code>    input: å¾…å·ç§¯çš„å›¾ç‰‡     
    weight: å·ç§¯æ ¸       
    output:ï¼ˆè¿™ä¸ªæœªçŸ¥ï¼Œå¥½åƒä¸€ç›´æ²¡ç”¨è¿‡è¿™ä¸ªï¼Œï¼ˆå¾…å®šï¼‰ï¼‰   
    mode: è¾¹ç¼˜å¤„ç†ï¼Œæœ‰5ç§ï¼ˆå…³äºå„ä¸ªè¾¹ç¼˜æ¨¡å¼çš„é€‰ç”¨ç°åœ¨è¿˜æœªç†è§£ï¼‰

    â€˜reflectâ€™ (d c b a | a b c d | d c b a)
    â€˜constantâ€™ (k k k k | a b c d | k k k k)
    â€˜nearestâ€™ (a a a a | a b c d | d d d d)
    â€˜mirrorâ€™ (d c b | a b c d | c b a)
    â€˜wrapâ€™ (a b c d | a b c d | a b c d)</code></pre>
<blockquote>
<p>cvalï¼šé»˜è®¤æ˜¯0ï¼Œå½“modeå–constantæ—¶æœ‰æ•ˆï¼Œè¿™ä¸ªçš„å–å€¼æ—¢æ˜¯è¾¹ç¼˜å¤–è¡¥ä»€ä¹ˆå€¼<br />
originï¼šé»˜è®¤0ï¼Œåº”è¯¥æ˜¯æ§åˆ¶weightåœ¨inputä¸Šçš„ä½ç½®çš„ï¼Œç›®å‰ä¹Ÿè¿˜æ²¡ç”¨è¿‡</p>
</blockquote>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªè¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œ<strong>å·ç§¯æ ¸ä¸æ˜¯ç›´æ¥å¯¹åº”ç›¸ä¹˜ç„¶åç›¸åŠ ï¼Œè€Œæ˜¯è¦å…ˆç¿»è½¬</strong>ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä¸€ä¸ªå·ç§¯æ ¸è®¾ä¸ºï¼š <img src="https://img-blog.csdnimg.cn/20201218094517319.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> ä½†å®é™…ä¸Šå¹¶ä¸æ˜¯ä¸Šé¢è¿™ä¸ªä¸å›¾ç‰‡å·ç§¯ï¼Œè€Œæ˜¯ä¸‹é¢è¿™ä¸ªå·ç§¯æ ¸ï¼š <img src="https://img-blog.csdnimg.cn/20201218094610325.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> è¿™ç‚¹åœ¨åˆå§‹åŒ–å·ç§¯æ ¸çš„æ—¶å€™è¦æ³¨æ„ï¼ˆä¸è¿‡ç›®å‰é‡åˆ°çš„å¥½åƒéƒ½æ˜¯ä¸­å¿ƒå¯¹ç§°çš„ï¼‰</p>
<p>å›åˆ°é¢˜é‡Œï¼ŒGé€šé“å¯¹åº”çš„çŸ©é˜µå¦‚ä¸‹å›¾ï¼š <img src="https://img-blog.csdnimg.cn/20201218104911416.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /> æŒ‰ç…§åŒçº¿æ€§æ’å€¼ï¼Œå¾ˆå®¹æ˜“èƒ½å¾—åˆ°å·ç§¯æ ¸å››ä¸ªè§’çš„å€¼ï¼Œåˆç”±äºåº”è¯¥æŠŠåŸæœ¬çš„åƒç´ å€¼ä¿ç•™ä¸‹æ¥ï¼Œå†æ ¹æ®è¾¹ç•Œæ’å€¼æ¡ä»¶ï¼Œå°±å¯ä»¥ç¡®å®šå‡ºé€šé“Gçš„å·ç§¯æ ¸ï¼Œå…¶ä»–ä¸¤ä¸ªé€šé“åŒç†å¯å„è‡ªè·å¾—å·ç§¯æ ¸å€¼ã€‚<br />
ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">interpolate</span>(<span class="params">r, g, b</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Interpolate missing values in the bayer pattern</span></span><br><span class="line"><span class="string">    by using bilinear interpolation</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        red, green, blue color channels as numpy array (H,W)</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        Interpolated image as numpy array (H,W,3)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    r_weight = np.array([[<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.25</span>],[<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>],[<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.25</span>]])</span><br><span class="line">    g_weight = np.array([[<span class="number">0</span>,<span class="number">0.25</span>,<span class="number">0</span>],[<span class="number">0.25</span>,<span class="number">1</span>,<span class="number">0.25</span>],[<span class="number">0</span>,<span class="number">0.25</span>,<span class="number">0</span>]])</span><br><span class="line">    b_weight = np.array([[<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.25</span>],[<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>],[<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.25</span>]])</span><br><span class="line"></span><br><span class="line">    new_r = convolve(r, r_weight, mode=<span class="string">&#x27;mirror&#x27;</span>)</span><br><span class="line">    new_g = convolve(g, g_weight, mode=<span class="string">&#x27;mirror&#x27;</span>)</span><br><span class="line">    new_b = convolve(b, b_weight, mode=<span class="string">&#x27;mirror&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#print(new_g)</span></span><br><span class="line">    <span class="comment">#print(new_r)</span></span><br><span class="line">    <span class="comment">#print(new_b)</span></span><br><span class="line"></span><br><span class="line">    H, W = new_r.shape</span><br><span class="line">    new_img = np.zeros((H, W, <span class="number">3</span>))</span><br><span class="line">    new_img[:,:,<span class="number">0</span>] = new_r[:,:]</span><br><span class="line">    new_img[:,:,<span class="number">1</span>] = new_g[:,:]</span><br><span class="line">    new_img[:,:,<span class="number">2</span>] = new_b[:,:]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> new_img</span><br></pre></td></tr></table></figure> æœ€åå°±æ˜¯å¯¹ä»¥ä¸Šå‡½æ•°çš„è°ƒç”¨ï¼Œå¦‚ä¸‹ï¼š <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">problem2</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Example code implementing the steps in Problem 2</span></span><br><span class="line"><span class="string">    Note: uses display_image() from Problem 1&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    data = loaddata(<span class="string">&quot;data/bayerdata.npy&quot;</span>)</span><br><span class="line">    r, g, b = separatechannels(data)</span><br><span class="line"></span><br><span class="line">    img = assembleimage(r, g, b)</span><br><span class="line">    display_image(img)</span><br><span class="line"></span><br><span class="line">    img_interpolated = interpolate(r, g, b)</span><br><span class="line">    display_image(img_interpolated)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment">#problem1()</span></span><br><span class="line">    problem2()</span><br><span class="line">    <span class="comment">#problem3()</span></span><br><span class="line">    <span class="comment">#problem4()   </span></span><br></pre></td></tr></table></figure> æœ€åå¾—åˆ°çš„å›¾ç‰‡å¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/20201218115816873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM2MzUwMTg4,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" /></p>
<h1 id="æ€»ç»“">æ€»ç»“ï¼š</h1>
<p>æœ¬æ¬¡ä½œä¸šåŠè¯¥ç¯‡å­¦ä¹ è®°å½•é—ç•™ä¸‹çš„é—®é¢˜ï¼š</p>
<blockquote>
<ol type="1">
<li>å·ç§¯çš„modeæ˜¯â€œmirrorâ€ï¼ŒåŸå› æœªæ˜ï¼›<br />
</li>
<li>è¦å¯¹pythoné‡Œå„ä¸ªåº“çš„å·ç§¯å‡½æ•°è¿›è¡Œæ€»ç»“ï¼›<br />
</li>
<li>è¿™æ¬¡ä½œä¸šç”¨åˆ°çš„å·ç§¯å‡½æ•°çš„outputä»¥åŠoriginå‚æ•°</li>
</ol>
</blockquote>
]]></content>
      <categories>
        <category>å­¦ä¹ æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>å››å…ƒæ•°ï¼ˆä¸‰ç»´æ—‹è½¬ï¼‰</title>
    <url>/posts/3.html</url>
    <content><![CDATA[<h1 id="å››å…ƒæ•°çš„åŸºæœ¬çŸ¥è¯†">å››å…ƒæ•°çš„åŸºæœ¬çŸ¥è¯†ï¼š</h1>
<p>ä¸å¤æ•°ç±»ä¼¼ï¼Œå››å…ƒæ•°ä¹Ÿç”±å®éƒ¨å’Œè™šéƒ¨ç»„æˆï¼Œä½†å››å…ƒæ•°æœ‰ä¸‰ä¸ªè™šéƒ¨ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºï¼š<span class="math display">\[q=q_{0} + q_{1}i + q_{2}j + q_{3}k\]</span> æˆ–: <span class="math display">\[ q=[s, v]^{T}, å…¶ä¸­: s=q_{0} \in R, v=[q_{1},q_{2},q_{3}]^{T} \in R^{3}\]</span> <span id="more"></span></p>
<p>è¿™ä¸‰ä¸ªè™šéƒ¨æ»¡è¶³ä¸‹é¢å…³ç³»ï¼š <img src="https://img-blog.csdnimg.cn/20210402045509774.png#pic_center" /> åœ¨å¤æ•°ä¸­ï¼Œä¹˜ä»¥ä¸€ä¸ª <span class="math inline">\(i\)</span> ç›¸å½“äºæ—‹è½¬90åº¦ï¼Œä½†å››å…ƒæ•°ä¸­ä¸åŒï¼Œä¹˜ä»¥<span class="math inline">\(i\)</span> è¡¨ç¤ºå¯¹åº”æ—‹è½¬180åº¦ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ <span class="math inline">\(ij = k\)</span>ï¼Œè€Œ<span class="math inline">\(i^2 = -1\)</span>è¡¨æ˜ï¼Œæ—‹è½¬360åº¦åä¼šå¾—åˆ°ä¸€ä¸ªç›¸åçš„ä¸œè¥¿ï¼Œ<strong>è¦æ—‹è½¬ä¸¤å‘¨æ‰èƒ½å›åˆ°åŸæ¥çš„æ ·å­</strong>ï¼ˆçœ‹ç€æŒºåå¸¸è¯†çš„ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ï¼‰</p>
<h1 id="å››å…ƒæ•°çš„è¿ç®—">å››å…ƒæ•°çš„è¿ç®—</h1>
<p>(è¿™é‡Œä»‹ç»åŠ å‡ï¼Œä¹˜ï¼Œæ¨¡ï¼Œå…±è½­ï¼Œé€†ï¼Œæ•°ä¹˜)<br />
ç°å®šä¹‰ä¸¤ä¸ªå››å…ƒæ•°<span class="math display">\[q_{a}= [s_{a},v_{a}]^{T}=s_{a}+x_{a}i+y_{a}j+z_{a}k\]</span> <span class="math display">\[q_{b}= [s_{b},v_{b}]^{T}=s_{b}+x_{b}i+y_{b}j+z_{b}k  \]</span></p>
<h2 id="åŠ å‡">1).åŠ å‡</h2>
<p><span class="math display">\[q_{a} \pm q_{b} = [s_{a} \pm s_{b}, v_{a} \pm v_{b}]^{T}\]</span></p>
<h2 id="ä¹˜æ³•">2). ä¹˜æ³•</h2>
<p>ä¹˜æ³•æ˜¯æŠŠ<span class="math inline">\(q_{a}\)</span>æ¯ä¸€é¡¹éƒ½ä¸<span class="math inline">\(q_{b}\)</span>ç›¸ä¹˜ï¼Œè™šéƒ¨éƒ¨åˆ†çš„è¿ç®—è¦æŒ‰ç…§ä¸Šé¢å›¾1çš„è§„åˆ™è®¡ç®—ï¼š <span class="math display">\[q_{a}q_{b}=s_{a}s_{b}-x_{a}x_{b}-y_{a}y_{b}-z_{a}z_{b}\\+(s_{a}x_{b}+x_{a}s_{b}+y_{a}z_{b}-z_{a}y_{b})i\\ 
+(s_{a}y_{b}-x_{a}z_{b}+y_{a}s_{b}+z_{a}x_{b})j\\ 
+(s_{a}z_{b}+x_{a}y_{b}-y_{a}x_{b}+z_{a}s_{b})k\]</span> (çœ‹ç€æŒºå¤æ‚ï¼Œä½†å†™æˆå‘é‡å†…å¤–ç§¯çš„å½¢å¼å°±ä¼šç®€æ´å¾ˆå¤š: ) <span class="math display">\[q_{a}q_{b}=[s_{a}s_{b}-v_{a}^{T}v_{b},s_{a}v_{b}+s_{b}v_{a}+v_{a} \times v_{b}]^{T}\]</span> (ç”±äºæœ€åä¸€é¡¹å¤–ç§¯çš„å­˜åœ¨ï¼Œè¿™ä¸ªä¹˜æ³•é€šå¸¸æ˜¯ä¸å¯äº¤æ¢çš„ï¼Œé™¤é<span class="math inline">\(v_{a},v_{b}\)</span>åœ¨<span class="math inline">\(R^{3}\)</span>ä¸­å…±çº¿ï¼Œæ­¤æ—¶å¤–ç§¯é¡¹ä¸º0.)</p>
<h2 id="æ¨¡é•¿">3). æ¨¡é•¿</h2>
<p>å››å…ƒæ•°çš„æ¨¡é•¿å®šä¹‰ä¸ºï¼š <span class="math display">\[||q_{a}|| = \sqrt{s^{2}_{a}+x^{2}_{a}+y^{2}_{a}+z_{a}^{2}}\]</span> ä¸¤ä¸ªå››å…ƒæ•°ä¹˜ç§¯çš„æ¨¡ç­‰äºæ¨¡çš„ä¹˜ç§¯ï¼š <span class="math display">\[||q_{a}q_{b}|| =\parallel q_{a}\parallel \parallel q_{b}\parallel\]</span></p>
<h2 id="å…±è½­">4). å…±è½­</h2>
<p>å³æ˜¯æŠŠè™šéƒ¨å–ç›¸åæ•°ï¼š <span class="math display">\[q_{a}^{*}= [s_{a},-v_{a}]^{T}=s_{a}-x_{a}i-y_{a}j-z_{a}k\]</span> å››å…ƒæ•°å…±è½­ä¸å…¶æœ¬èº«ç›¸ä¹˜ä¼šå¾—åˆ°ä¸€ä¸ªå®å››å…ƒæ•°ï¼Œå…¶å®éƒ¨ç­‰äºæ¨¡é•¿çš„å¹³æ–¹ï¼š <span class="math display">\[q_{a}q^{*}_{a}=q_{a}^{*}q_{a}=[s_{a}^{2}+v^{T}v,0]^{T}\]</span></p>
<h2 id="é€†">5). é€†</h2>
<p>å››å…ƒæ•°çš„é€†ä¸ºï¼š <span class="math display">\[q^{-1}=q^{*}/ \parallel q \parallel ^{2}\]</span> è‹¥<span class="math inline">\(q\)</span>ä¸ºå•ä½å››å…ƒæ•°ï¼Œåˆ™å…¶é€†å’Œå…±è½­å°±æ˜¯åŒä¸€ä¸ªé‡ã€‚å¦å¤–ï¼Œä¹˜ç§¯çš„é€†å…·æœ‰å’ŒçŸ©é˜µç›¸ä¼¼çš„æ€§è´¨ï¼š <span class="math display">\[ (q_{a}q_{b})^{-1}=q^{-1}_{b}q^{-1}_{a}\]</span></p>
<h2 id="æ•°ä¹˜">6). æ•°ä¹˜</h2>
<p><span class="math display">\[kq_{a} = [ks_{a},kv_{a}]^{T}\]</span></p>
<h1 id="æ—‹è½¬è¡¨ç¤º">æ—‹è½¬è¡¨ç¤º</h1>
<p>é¦–å…ˆæœ‰ä¸€ä¸ªå¾…æ—‹è½¬ç‚¹<span class="math inline">\(p\)</span>ï¼Œè¡¨ç¤ºæˆä¸€ä¸ªçº¯å››å…ƒæ•°ä¸ºï¼š<span class="math display">\[ p=[0,x,y,z]^{T}=[0,v]^{T}\]</span>å…¶ä¸‰ä¸ªè™šéƒ¨åˆ†åˆ«å¯¹åº”<span class="math inline">\(x,y,z\)</span>ä¸‰ä¸ªåæ ‡è½´ï¼Œæ—‹è½¬å››å…ƒæ•°è¡¨ç¤ºä¸º<span class="math inline">\(q\)</span>ï¼Œæ˜¯ä¸€ä¸ªå•ä½å››å…ƒæ•°ã€‚å¯¹äºæ—‹è½¬åçš„ç‚¹<span class="math inline">\(p&#39;\)</span>è¡¨ç¤ºå¦‚ä¸‹ï¼š<span class="math display">\[ p&#39;=qp\]</span> å¯¹äºæ—‹è½¬æœ‰å¦‚ä¸‹è¦æ±‚ï¼š</p>
<blockquote>
<ol type="1">
<li>æ—‹è½¬å‰åçš„æ¨¡åº”ç›¸ç­‰ï¼›<br />
</li>
<li>æ—‹è½¬åçš„ç‚¹<span class="math inline">\(p&#39;\)</span>åº”è¯¥ä¹Ÿä¸ºçº¯å››å…ƒæ•°ã€‚</li>
</ol>
</blockquote>
<p>ç”±äº<span class="math inline">\(q\)</span>ä¸ºå•ä½å››å…ƒæ•°ï¼Œæ¨¡ä¸º<span class="math inline">\(1\)</span>ï¼Œå¯¹åº”ä¸Šé¢å››å…ƒæ•°æ¨¡çš„æ€§è´¨å¯çŸ¥<span class="math inline">\(p&#39;\)</span>æ»¡è¶³æ¡ä»¶1ï¼Œä½†å¯¹äºæ¡ä»¶2åˆ™åªæœ‰å½“<span class="math inline">\(p\)</span>å’Œ<span class="math inline">\(q\)</span>è™šéƒ¨æ­£äº¤æ—¶æ‰èƒ½æ»¡è¶³ï¼ˆåŸå› çš„è¯ç½‘ä¸Šæœ‰å¾ˆå¤šç¯‡æ–‡ç« éƒ½æœ‰å¯¹å…¶å±•å¼€è®¡ç®—ï¼Œè¿™é‡Œå°±æ‡’å¾—å†™äº†......ï¼‰ã€‚<br />
ä¸€èˆ¬æƒ…å†µä¸‹ä¼šæŠŠæ—‹è½¬è¡¨ç¤ºæˆä¸‹é¢è¿™ç§å½¢ä¼¼ï¼š<span class="math display">\[p&#39;=qpq^{-1}\]</span> ï¼ˆæœ‰äº›åœ°æ–¹è¿™ä¸ªé€†ä¹Ÿä¼šç”¨å…±è½­ä»£æ›¿ï¼Œè¿™æ— æ‰€è°“ï¼Œå› ä¸º<span class="math inline">\(q\)</span>æ˜¯å•ä½å››å…ƒæ•°ï¼‰<br />
è‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™ç§å½¢å¼ï¼Œå› ä¸ºHamiltonå‘ç°ï¼Œå¦‚æœå³ä¹˜ä¸€ä¸ª<span class="math inline">\(p\)</span>çš„é€†ï¼Œåˆ™å¯ä»¥åŒæ—¶æ»¡è¶³ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶ï¼ˆå¯å…·ä½“å±•å¼€ä¹˜ä¸€ä¸‹æˆ–è€…ç›´æ¥ç”¨ç‰¹æ®Šå€¼æ³•ï¼‰ã€‚</p>
<h1 id="å››å…ƒæ•°ä¸å…¶å®ƒæ—‹è½¬æ–¹å¼ä¹‹é—´çš„è½¬æ¢">å››å…ƒæ•°ä¸å…¶å®ƒæ—‹è½¬æ–¹å¼ä¹‹é—´çš„è½¬æ¢</h1>
<p>ä»»æ„ä¸€ä¸ªå•ä½å››å…ƒæ•°å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ—‹è½¬ï¼Œè¿™ä¸ªæ—‹è½¬ä¹Ÿå¯ä»¥ç”¨æ—‹è½¬çŸ©é˜µæˆ–è€…æ—‹è½¬å‘é‡æ¥è¡¨ç¤ºï¼Œè¿™é‡Œä¸»è¦è®¨è®ºè¿™ä¸‰è€…çš„å…³ç³»ã€‚ Â <br />
ï¼ˆç°åœ¨æŠŠå››å…ƒæ•°ä¹˜æ³•è¡¨ç¤ºä¸ºçŸ©é˜µä¹˜æ³•ï¼‰<br />
è®¾<span class="math inline">\(q=[s,v]^{T}\)</span>ï¼Œé¦–å…ˆå®šä¹‰ä¸¤ç§æ–°çš„ç¬¦å·<span class="math inline">\(^{+}\)</span>å’Œ<span class="math inline">\(^{\oplus}\)</span>ã€‚<span class="math display">\[ q^{+}=\begin{bmatrix} s &amp; -v^{T} \\ v &amp; sI+v^{\land} \end{bmatrix}\]</span> <span class="math display">\[ q^{\oplus}=\begin{bmatrix} s &amp; -v^{T} \\ v &amp; sI-v^{\land} \end{bmatrix}\]</span> å…¶ä¸­çš„ç¬¦å·<span class="math inline">\(^{\land}\)</span>è¡¨ç¤ºåå¯¹ç§°çŸ©é˜µï¼Œå³ï¼š<span class="math inline">\(A&#39;=-A\)</span>ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œè®¾ï¼š<span class="math display">\[ a=\begin{bmatrix} a_{1} \\ a_{2} \\ a_{3} \end{bmatrix}\]</span> åˆ™<span class="math inline">\(a^{\land}\)</span>ä¸ºï¼š<span class="math display">\[ a^{\land}=\begin{bmatrix} 0 &amp; -a_{3} &amp; a_{2} \\ a_{3} &amp; 0 &amp; -a_{1} \\ -a_{2} &amp; a_{1} &amp; 0 \end{bmatrix}\]</span> è¿™ä¸¤ä¸ªç¬¦å·å°†å››å…ƒæ•°æ˜ å°„æˆä¸€ä¸ª<span class="math inline">\(4\times4\)</span>çŸ©é˜µã€‚<br />
æ‰€ä»¥ï¼Œå››å…ƒæ•°ä¹˜æ³•å†™æˆçŸ©é˜µå½¢å¼å¦‚ä¸‹ï¼š<span class="math display">\[ q_{1}^{+}q_{2}=\begin{bmatrix} s_{1} &amp; -v_{1}^{T} \\ v_{1} &amp; s_{1}I+v_{1}^{\land} \end{bmatrix} \begin{bmatrix} s_{2} \\ v_{2} \end{bmatrix}=\begin{bmatrix} -v_{1}^{T}v_{2}+s_{1}s_{2}  \\ s_{1}v_{2}+s_{2}v_{1}+v_{1}^{\land}v_{2} \end{bmatrix}=q_{1}q_{2}\]</span> åŒç†ï¼š<span class="math display">\[ q_{1}q_{2}=q_{1}^{+}q_{2}=q_{2}^{\oplus}q_{1}\]</span> è¿›ä¸€æ­¥ï¼š<span class="math display">\[ p&#39;=qpq^{-1}=q^{+}p^{+}q^{-1}=q^{+}q^{-1 ^{\oplus}}p\]</span> ä»£å…¥å¯¹åº”çŸ©é˜µï¼š<span class="math display">\[ q^{+}(q^{-1})^{\oplus}=\begin{bmatrix} s &amp; -v^{T} \\ v &amp; sI+v^{\land} \end{bmatrix} \begin{bmatrix} s &amp; v^{T} \\ -v &amp; sI+v^{\land} \end{bmatrix}=\begin{bmatrix} 1 &amp; 0 \\ 0^{T} &amp; vv^{T}+s^{2}I+2sv^{\land}+(v^{\land})^{2} \end{bmatrix}\]</span> ç”±äº<span class="math inline">\(p\)</span>å’Œ<span class="math inline">\(p&#39;\)</span>éƒ½æ˜¯çº¯å››å…ƒæ•°ï¼Œæ‰€ä»¥ä¸Šé¢çŸ©é˜µçš„å³ä¸‹è§’å³æ˜¯ä»å››å…ƒæ•°åˆ°æ—‹è½¬çŸ©é˜µçš„å˜æ¢å…³ç³»ï¼š<span class="math display">\[ R=vv^{T}+s^{2}I+2sv^{\land}+(v^{\land})^{2}\]</span> ç„¶åç°åœ¨æ˜¯å››å…ƒæ•°åˆ°æ—‹è½¬å‘é‡çš„å˜æ¢ï¼Œå¯¹ä¸Šå¼ä¸¤ä¾§æ±‚è¿¹ï¼ˆå¯¹è§’çº¿çš„æ€»å’Œï¼‰ï¼š<span class="math display">\[tr(R)=tr(vv^{T}+s^{2}I+2sv^{\land}+tr((v^{\land})^{2}))\\ =v_{1}^{2}+v_{2}^{2}+v_{3}^{2}+3s^{2}-2(v_{1}^{2}+v_{2}^{2}+v_{3}^{2}) \\ =(1-s^{2})+3s^{2}-2(1-s^{2}) \\ =4s^{2}-1 \]</span> è½¬è§’<span class="math inline">\(\theta\)</span>ä¸ºï¼š<span class="math display">\[ \theta=arccos\frac{tr(R-1)}{2}=arccos(2s^{2}-1)\]</span> å³ï¼š<span class="math display">\[ cos\theta =2s^{2}-1=2cos^{2}\frac{\theta}{2}-1\]</span> æ‰€ä»¥ï¼š<span class="math display">\[\theta = 2arccos s\]</span> ç„¶åæ˜¯æ—‹è½¬è½´ï¼š<br />
ä¸Šé¢æœ€åä¸€ä¸ªçŸ©é˜µé‚£ï¼Œå¦‚æœç”¨<span class="math inline">\(q\)</span> çš„è™šéƒ¨ä»£æ›¿<span class="math inline">\(p\)</span>ï¼Œåˆ™è¡¨ç¤º<span class="math inline">\(q\)</span>çš„è™šéƒ¨ç»„æˆçš„å‘é‡åœ¨æ—‹è½¬æ—¶æ˜¯ä¸å˜çš„ï¼Œå³ä¸ºæ—‹è½¬è½´ã€‚æ­¤æ—¶åªè¦æŠŠå®ƒé™¤ä»¥å®ƒçš„æ¨¡é•¿å³å¯ã€‚<br />
æœ€åï¼Œå››å…ƒæ•°åˆ°æ—‹è½¬å‘é‡çš„è½¬æ¢å¦‚ä¸‹ï¼š<span class="math display">\[\begin{cases} \theta = 2arccos q_{0} \\ [n_{x},n_{y},n_{z}]^{T}=[q_{1},q_{2},q_{3}]^{T} / sin\frac{\theta}{2}\end{cases}\]</span> <strong><em>æ³¨ï¼šæœ¬æ–‡ä¸»è¦å‚è€ƒã€Šè§†è§‰SLAMåå››è®²ã€‹</em></strong></p>
]]></content>
      <categories>
        <category>è§†è§‰SLAMç›¸å…³</category>
      </categories>
  </entry>
</search>
